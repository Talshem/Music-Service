(this.webpackJsonpmusic_service=this.webpackJsonpmusic_service||[]).push([[0],{201:function(e,t,a){e.exports=a(361)},206:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},270:function(e,t){},272:function(e,t){},283:function(e,t){},285:function(e,t){},312:function(e,t){},314:function(e,t){},315:function(e,t){},321:function(e,t){},323:function(e,t){},341:function(e,t){},343:function(e,t){},355:function(e,t){},358:function(e,t){},361:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),u=(a(206),a(2)),s=a.n(u),i=a(8),o=a(3),m=(a(208),a(209),a(210),a(23)),p=a.n(m),f=a(6),d=a.n(f),b=a(28),E=a(9),v=a(19),g=a.n(v),h=a(20),x=a.n(h),y=a(24);a(257);var O=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)([]),m=Object(o.a)(u,2),p=m[0],f=m[1],v=Object(n.useState)([]),h=Object(o.a)(v,2),O=h[0],j=h[1],w=Object(n.useState)([]),k=Object(o.a)(w,2),N=k[0],S=k[1],_=Object(n.useState)(!0),T=Object(o.a)(_,2),C=T[0],I=T[1],z=Object(n.useState)(0),L=Object(o.a)(z,2),P=L[0],A=L[1],M=Object(n.useState)(0),B=Object(o.a)(M,2),U=B[0],H=B[1],q=Object(n.useState)(0),D=Object(o.a)(q,2),F=D[0],V=D[1],J=Object(n.useState)(0),R=Object(o.a)(J,2),W=R[0],Y=R[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/top_songs");case 3:return t=e.sent,e.next=6,d.a.get("/top_albums");case 6:return a=e.sent,e.next=9,d.a.get("/top_artists");case 9:return n=e.sent,e.next=12,d.a.get("/top_playlists");case 12:r=e.sent,$(t.data[0],a.data[0],n.data,r.data),I(!1),e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),I(!1),e.abrupt("return",alert(e.t0));case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var K=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(e,t,a,n){var c=30,u=0,s=e.map((function(t){return A(e.length),u++,c--,r.a.createElement(y.d,{index:u,style:{zIndex:c},key:t.youtube_id,className:"hov carouselist"},r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"/songs/".concat(t.youtube_id)},t.title," - ",t.artist)),r.a.createElement(b.a,{className:"video",onPlay:function(){return K(t)},videoId:t.youtube_id,id:"video",opts:{width:"250",height:"250"}}),r.a.createElement("br",null),r.a.createElement("br",null)))})),i=t.map((function(e){return H(t.length),c--,r.a.createElement(y.d,{style:{zIndex:c},key:e.name,className:"hov carouselist"},r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"/albums/".concat(e.id)},e.name," - ",e.artist)),r.a.createElement(E.c,{className:"navTo",to:"/albums/".concat(e.id)},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:e.name,width:"250",height:"250",src:e.cover_img})),r.a.createElement("br",null),r.a.createElement("br",null))})),o=a.map((function(e){return c--,V(a.length),r.a.createElement(y.d,{style:{zIndex:c},key:e.name,className:"hov carouselist"},r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"/artists/".concat(e.id)},e.name)),r.a.createElement(E.c,{className:"navTo",to:"/artists/".concat(e.id)},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:e.name,width:"250",height:"250",src:e.cover_img})),r.a.createElement("br",null),r.a.createElement("br",null))})),m=n.map((function(e){return c--,Y(n.length),r.a.createElement(y.d,{style:{zIndex:c},key:e.name,className:"hov carouselist"},r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"/playlists/".concat(e.id)},e.name)),r.a.createElement(E.c,{className:"navTo",to:"/playlists/".concat(e.id)},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:e.name,width:"250",height:"250",src:e.cover_img})),r.a.createElement("br",null),r.a.createElement("br",null))}));l(s),f(i),j(o),S(m)},G=C?"rgb(10, 10, 10)":"rgb(149, 243, 215)";return r.a.createElement("div",null,r.a.createElement(g.a,{active:C,spinner:r.a.createElement(x.a,{css:"\n  position:absolute;\n  width:200px;\n  height:200px;\n  margin-top:200px;\n  left: 40%;\n",color:"white",style:{zIndex:1010},size:150})}),r.a.createElement("h3",null,"Hello, ",e.user?e.user.username:"Guest"),r.a.createElement("div",{className:"homeLists"},r.a.createElement("h4",null," Top Songs "),r.a.createElement(y.c,{naturalSlideWidth:25,naturalSlideHeight:35,visibleSlides:4,totalSlides:P,step:4,infinite:!0},r.a.createElement(y.e,{style:{maxHeight:"420px"}},c),r.a.createElement(y.a,{style:{color:G},className:"arrow fa fa-arrow-left"}),r.a.createElement(y.b,{style:{color:G,float:"right"},className:"arrow fa fa-arrow-right"})),r.a.createElement("h4",null," Top Albums "),r.a.createElement(y.c,{naturalSlideWidth:25,naturalSlideHeight:35,visibleSlides:4,totalSlides:U,step:4,infinite:!0},r.a.createElement(y.e,{style:{maxHeight:"420px"}},p),r.a.createElement(y.a,{style:{color:G},className:"arrow fa fa-arrow-left"}),r.a.createElement(y.b,{style:{color:G,float:"right"},className:"arrow fa fa-arrow-right"})),r.a.createElement("h4",null," Top Artists "),r.a.createElement(y.c,{naturalSlideWidth:25,naturalSlideHeight:35,visibleSlides:4,totalSlides:F,step:4,infinite:!0},r.a.createElement(y.e,{style:{maxHeight:"420px"}},O),r.a.createElement(y.a,{style:{color:G},className:"arrow fa fa-arrow-left"}),r.a.createElement(y.b,{style:{color:G,float:"right"},className:"arrow fa fa-arrow-right"})),r.a.createElement("h4",null," Top Playlists "),r.a.createElement(y.c,{naturalSlideWidth:25,naturalSlideHeight:35,visibleSlides:4,totalSlides:W,step:4,infinite:!0},r.a.createElement(y.e,{style:{maxHeight:"420px"}},N),r.a.createElement(y.a,{style:{color:G},className:"arrow fa fa-arrow-left"}),r.a.createElement(y.b,{style:{color:G,float:"right"},className:"arrow fa fa-arrow-right"}))))},j=a(21);var w=function(e){var t=Object(n.useState)(void 0),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),m=Object(o.a)(u,2),p=m[0],f=m[1],v=Object(j.f)().songId,h=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function y(e){var t;t=e.lyrics.split("&&").map((function(e,t){return r.a.createElement("span",{key:t},e,r.a.createElement("br",null))}));l((function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{marginLeft:"50px"}},r.a.createElement("p",{className:"dataTitle"},e.title),r.a.createElement("br",null),r.a.createElement("div",{className:"songDataPage"},r.a.createElement("div",null,r.a.createElement(b.a,{className:"video",onPlay:function(){return h(e)},videoId:e.youtube_id,id:"video",opts:{width:"600",height:"600"}}),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,e.is_liked),"  people liked this song"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Views:")," "," ",e.play_count),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Album:")," ",e.album),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Artist:")," "," ",e.artist),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Release date:")," "," ",e.created_at.substr(0,10)),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"dataLyrics"},r.a.createElement("strong",{style:{fontSize:"30px"}},"Lyrics:"),r.a.createElement("br",null),r.a.createElement("br",null),t))),r.a.createElement(E.c,{style:{marginTop:"-35px",marginLeft:"50px"},className:"fa fa-arrow-left back",to:"/songs"}))})),f(!1)}return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/song/".concat(v));case 3:t=e.sent,0!==(a=t.data)[0].length&&y(a[0]),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),f(!1),e.abrupt("return",l(r.a.createElement("p",{style:{top:"430px",fontSize:"120px",textAlign:"right",width:"86%"},className:"listTitle"},"Unknown song")));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",null,r.a.createElement(g.a,{active:p,spinner:r.a.createElement(x.a,{css:"\n  position:absolute;\n  width:200px;\n  height:200px;\n  margin-top:200px;\n  left: 40%;\n",color:"white",style:{zIndex:1010},size:150})}),c)};function k(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),p=m[0],f=m[1],v=Object(n.useState)("[]"),h=Object(o.a)(v,2),y=h[0],O=h[1],w=Object(n.useState)(0),k=Object(o.a)(w,2),N=k[0],S=k[1],_=Object(n.useState)(!1),T=Object(o.a)(_,2),C=T[0],I=T[1],z=Object(n.useState)(!1),L=Object(o.a)(z,2),P=L[0],A=L[1],M=Object(n.useState)(!0),B=Object(o.a)(M,2),U=B[0],H=B[1],q=Object(n.useState)(!1),D=Object(o.a)(q,2),F=D[0],V=D[1],J=Object(j.g)();Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/preferences/".concat(e.user.email));case 3:a=t.sent,n=a.data,O(n[0].preferences),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[P]),Object(n.useEffect)((function(){if(e.user){var t=e.user.is_admin;S(t)}}),[e.user]),Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(y),e.prev=1,e.next=4,d.a.get("/top_songs?name=".concat(p));case 4:return e.next=6,e.sent.data[0];case 6:a=e.sent,n=a.filter((function(e){return e.title.toUpperCase().includes(p.toUpperCase())})),C?(r=n.filter((function(e){return t.includes("song: ".concat(e.youtube_id))})),$(r)):$(n),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),H(!1),e.abrupt("return",alert(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[F,P,C,y]);var R=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.youtube_id.replace("'","''"),e.next=3,d.a.delete("/song/".concat(a));case 3:A(!P);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){var t=new Promise((function(e,t){e(V(!0))})),a=new Promise((function(t,a){t(K(e))}));t.then((function(){return a})),a.then((function(){setTimeout((function(){V(!1)}),1500)}))},K=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=JSON.parse(y)).includes("song: ".concat(a.youtube_id))){t.next=6;break}return t.next=4,d.a.put("/song/like",{toggle:"unlike",is_liked:a.is_liked,preferences:n,user:e.user.email,youtube_id:a.youtube_id});case 4:t.next=8;break;case 6:return t.next=8,d.a.put("/song/like",{toggle:"like",is_liked:a.is_liked,user:e.user.email,youtube_id:a.youtube_id});case 8:A(!P);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$=function(t){var a=JSON.parse(y),n=t.map((function(t){var n=a.includes("song: ".concat(t.youtube_id))?r.a.createElement("button",{onClick:function(){return Y(t)},disabled:F,className:"like fas fa-heart"}):r.a.createElement("button",{onClick:function(){return Y(t)},disabled:F,className:"like far fa-heart"}),c=e.user?n:"",l=1===N?r.a.createElement("button",{style:{marginTop:"20px"},onClick:function(){return R(t)},className:"deleteButton"},"Delete"):"";return r.a.createElement("li",{key:t.youtube_id,className:"grid-item"},r.a.createElement("span",{style:{cursor:"pointer"}},c),r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"".concat(J.url,"/").concat(t.youtube_id)},t.title," - ",t.artist)),r.a.createElement(b.a,{className:"video",onPlay:function(){return W(t)},videoId:t.youtube_id,id:"video",opts:{width:"250",height:"250"}}),l)}));l(n),H(!1)},G=C?r.a.createElement("i",{className:"fas fa-heart"}):r.a.createElement("i",{className:"far fa-heart"});return r.a.createElement("div",null,r.a.createElement(g.a,{active:U,spinner:r.a.createElement(x.a,{css:"\n  position:absolute;\n  width:200px;\n  height:200px;\n  margin-top:200px;\n  left: 40%;\n",color:"white",style:{zIndex:1010},size:150})}),r.a.createElement("p",{className:"listTitle"},r.a.createElement(E.c,{className:"fa fa-plus-square-o add",to:"/PostSong"})," "," Songs"),r.a.createElement("input",{className:"filterList",onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{onClick:function(){return A(!P),void H(!0)},className:"searchButton"},"Search"),e.user?r.a.createElement("i",{className:"filterFavorites",onClick:function(){return I(!C)}},G):"",r.a.createElement("ul",{className:"grid-container"},r.a.createElement("br",null),c))}var N=function(e){var t=Object(j.g)();return r.a.createElement(j.c,null,r.a.createElement(j.a,{path:"".concat(t.path,"/:songId")},r.a.createElement(w,{user:e.user})),r.a.createElement(j.a,{path:t.path},r.a.createElement(k,{user:e.user})))};var S=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)([]),m=Object(o.a)(u,2),p=m[0],f=m[1],v=Object(n.useState)(!0),h=Object(o.a)(v,2),y=h[0],O=h[1],w=Object(n.useState)(void 0),k=Object(o.a)(w,2),N=k[0],S=k[1],_=Object(n.useState)(void 0),T=Object(o.a)(_,2),C=T[0],I=T[1],z=Object(j.f)().artistId,L=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function P(e){var t=c.map((function(e){return r.a.createElement("div",{key:e.youtube_id,className:"hov grid-item3"},r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"/songs/".concat(e.youtube_id,"?name=").concat(z)},e.title)),r.a.createElement(b.a,{className:"video xxx",onPlay:function(){return L(e)},videoId:e.youtube_id,opts:{width:"200",height:"200"},id:"video"}))})),a=p.map((function(e){return r.a.createElement("div",{key:e.name,className:"hov grid-item3"},r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"/albums/".concat(e.id,"?name=").concat(z)},e.name)),r.a.createElement(E.c,{className:"navTo",to:"/albums/".concat(e.id,"?name=").concat(z)},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:e.name,width:"200",height:"200",src:e.cover_img})))}));S((function(){return r.a.createElement("div",{style:{marginLeft:"50px",width:"96.5%"}},r.a.createElement("p",{className:"dataTitle"},e.name),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{width:"100%",marginTop:"-105px",color:"white",display:"flex"}},r.a.createElement("div",{style:{fontSize:"20px",width:"36%",marginRight:"2%"}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:e.name,width:"100%",height:"72%",src:e.cover_img}),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,e.is_liked)," people liked this artist"),r.a.createElement("br",null)),r.a.createElement("div",{style:{width:"62%"}},r.a.createElement("h6",{className:"songsTitle"},"Songs"),r.a.createElement("div",{className:"artistData"},t),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h6",{className:"songsTitle"},"Albums"),r.a.createElement("div",{className:"artistData"},a))),r.a.createElement(E.c,{style:{marginTop:"-35px"},className:"fa fa-arrow-left back",to:"/artists"}))})),setTimeout((function(){O(!1)}),1500)}return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/artist/".concat(z));case 3:t=e.sent,a=t.data,I(a[0].name),0!==a[0].length&&P(a[0]),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),O(!1),e.abrupt("return",S(r.a.createElement("p",{style:{top:"430px",fontSize:"120px",textAlign:"right",width:"86%"},className:"listTitle"},"Unknown artist")));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[c,p]),Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/top_albums?artist=".concat(C));case 3:return t=e.sent,f(t.data[1]),e.next=7,d.a.get("/top_songs?artist=".concat(C));case 7:a=e.sent,l(a.data[2]),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[C]),r.a.createElement("div",null,r.a.createElement(g.a,{active:y,spinner:r.a.createElement(x.a,{css:"\n  position:absolute;\n  width:200px;\n  height:200px;\n  margin-top:200px;\n  left: 40%;\n",color:"white",style:{zIndex:1010},size:150})},y?r.a.createElement("p",{style:{left:"0",top:"-15px",zIndex:"1007",background:"rgb(0,0,0,0.5)",position:"fixed",width:"100vw",height:"100vh"}}):""),N)};function _(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)("[]"),v=Object(o.a)(b,2),h=v[0],y=v[1],O=Object(n.useState)(0),w=Object(o.a)(O,2),k=w[0],N=w[1],S=Object(n.useState)(!1),_=Object(o.a)(S,2),T=_[0],C=_[1],I=Object(n.useState)(!1),z=Object(o.a)(I,2),L=z[0],P=z[1],A=Object(n.useState)(!0),M=Object(o.a)(A,2),B=M[0],U=M[1],H=Object(n.useState)(!1),q=Object(o.a)(H,2),D=q[0],F=q[1],V=Object(j.g)();Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/preferences/".concat(e.user.email));case 3:a=t.sent,n=a.data,y(n[0].preferences),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[L]),Object(n.useEffect)((function(){if(e.user){var t=e.user.is_admin;N(t)}}),[e.user]),Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(h),e.prev=1,e.next=4,d.a.get("/top_artists?name=".concat(p));case 4:return e.next=6,e.sent.data;case 6:a=e.sent,n=a.filter((function(e){return e.name.toUpperCase().includes(p.toUpperCase())})),T?(r=n.filter((function(e){return t.includes("artist: ".concat(e.id))})),Y(r)):Y(n),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),U(!1),e.abrupt("return",alert(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[D,L,T,h]);var J=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name.replace("'","''"),e.next=3,d.a.delete("/artist/".concat(a));case 3:P(!L);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){var t=new Promise((function(e,t){e(F(!0))})),a=new Promise((function(t,a){t(W(e))}));t.then((function(){return a})),a.then((function(){setTimeout((function(){F(!1)}),1500)}))},W=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=JSON.parse(h)).includes("artist: ".concat(a.id))){t.next=7;break}return t.next=4,d.a.put("/artist/like",{toggle:"unlike",is_liked:a.is_liked,preferences:n,user:e.user.email,id:a.id});case 4:P(!L),t.next=10;break;case 7:return t.next=9,d.a.put("/artist/like",{toggle:"like",is_liked:a.is_liked,user:e.user.email,id:a.id});case 9:P(!L);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(t){var a=JSON.parse(h),n=t.map((function(t){var n=a.includes("artist: ".concat(t.id))?r.a.createElement("button",{onClick:function(){return R(t)},disabled:D,className:"like fas fa-heart"}):r.a.createElement("button",{onClick:function(){return R(t)},disabled:D,className:"like far fa-heart"}),c=e.user?n:"",l=1===k?r.a.createElement("button",{onClick:function(){return J(t)},className:"deleteButton"},"Delete"):"";return r.a.createElement("li",{key:t.name,className:"grid-item"},r.a.createElement("span",{style:{cursor:"pointer"}},c," "," "),r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"".concat(V.url,"/").concat(t.id)},t.name)),r.a.createElement(E.c,{className:"navTo",to:"".concat(V.url,"/").concat(t.id)},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"250",height:"250",src:t.cover_img})),l)}));l(n),U(!1)},K=T?r.a.createElement("i",{className:"fas fa-heart"}):r.a.createElement("i",{className:"far fa-heart"});return r.a.createElement("div",null,r.a.createElement(g.a,{active:B,spinner:r.a.createElement(x.a,{css:"\n  position:absolute;\n  width:200px;\n  height:200px;\n  margin-top:200px;\n  left: 40%;\n",color:"white",style:{zIndex:1010},size:150})}),r.a.createElement("p",{className:"listTitle"},r.a.createElement(E.c,{className:"fa fa-plus-square-o add",to:"/PostArtist"})," "," Artists"),r.a.createElement("input",{className:"filterList",onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{onClick:function(){return P(!L),void U(!0)},className:"searchButton"},"Search"),e.user?r.a.createElement("i",{className:"filterFavorites",onClick:function(){return C(!T)}},K):"",r.a.createElement("ul",{className:"grid-container"},c))}var T=function(e){var t=Object(j.g)();return r.a.createElement(j.c,null,r.a.createElement(j.a,{path:"".concat(t.path,"/:artistId")},r.a.createElement(S,{user:e.user})),r.a.createElement(j.a,{path:t.path},r.a.createElement(_,{user:e.user})))},C=a(191),I=a.n(C);var z=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),m=Object(o.a)(u,2),p=m[0],f=m[1],v=Object(n.useState)(void 0),h=Object(o.a)(v,2),y=h[0],O=h[1],w=Object(n.useState)(void 0),k=Object(o.a)(w,2),N=k[0],S=k[1],_=Object(j.f)().playlistId,T=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function C(e){var t=[],a=c.map((function(e){return t.push("https://www.youtube.com/watch?v=".concat(e.youtube_id)),r.a.createElement("li",{key:e.youtube_id,className:"grid-item2"},r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"/songs/".concat(e.youtube_id,"?name=").concat(_)},e.title)),r.a.createElement(b.a,{className:"video",onPlay:function(){return T(e)},videoId:e.youtube_id,id:"video",opts:{width:"200",height:"200"}}))}));O((function(){return r.a.createElement("div",{style:{marginLeft:"50px"}},r.a.createElement("p",{className:"dataTitle"},e.name),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{width:"100%",marginTop:"-105px",color:"white",display:"flex"}},r.a.createElement("div",{style:{fontSize:"20px",width:"36%",marginRight:"2%"}},r.a.createElement(I.a,{url:t,controls:!0,width:"100%",height:"450px"}),r.a.createElement("i",null,r.a.createElement("strong",null,e.is_liked)," people liked this playlist"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Created by:")," "," ",e.user_name),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{style:{width:"62%"}},r.a.createElement("h6",{className:"songsTitle"},"Songs"),r.a.createElement("div",{className:"dataSongs"},a))),r.a.createElement(E.c,{className:"fa fa-arrow-left back",to:"/playlists"}))})),setTimeout((function(){f(!1)}),1500)}return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/playlist/".concat(_));case 3:t=e.sent,a=t.data,S(a[0].songs),0!==a[0].length&&C(a[0]),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),f(!1),e.abrupt("return",O(r.a.createElement("p",{style:{top:"430px",fontSize:"120px",textAlign:"right",width:"86%"},className:"listTitle"},"Unknown playlist")));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[c]),Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=JSON.parse(N),e.next=4,d.a.get("/top_songs",{});case 4:a=e.sent,n=a.data,r=n[0].filter((function(e){return t.includes(e.youtube_id)})),l(r),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[N]),r.a.createElement("div",null,r.a.createElement(g.a,{active:p,spinner:r.a.createElement(x.a,{css:"\n  position:absolute;\n  width:200px;\n  height:200px;\n  margin-top:200px;\n  left: 40%;\n",color:"white",style:{zIndex:1010},size:150})}),y)};function L(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)("[]"),v=Object(o.a)(b,2),h=v[0],y=v[1],O=Object(n.useState)(0),w=Object(o.a)(O,2),k=w[0],N=w[1],S=Object(n.useState)(!1),_=Object(o.a)(S,2),T=_[0],C=_[1],I=Object(n.useState)(!1),z=Object(o.a)(I,2),L=z[0],P=z[1],A=Object(n.useState)(!0),M=Object(o.a)(A,2),B=M[0],U=M[1],H=Object(n.useState)(!1),q=Object(o.a)(H,2),D=q[0],F=q[1],V=Object(j.g)();Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/preferences/".concat(e.user.email));case 3:a=t.sent,n=a.data,y(n[0].preferences),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[T]),Object(n.useEffect)((function(){if(e.user){var t=e.user.is_admin;N(t)}}),[e.user]),Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(h),e.prev=1,e.next=4,d.a.get("/top_playlists?name=".concat(p));case 4:return e.next=6,e.sent.data;case 6:a=e.sent,n=a.filter((function(e){return e.name.toUpperCase().includes(p.toUpperCase())})),L?(r=n.filter((function(e){return t.includes("playlist: ".concat(e.id))})),Y(r)):Y(n),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),U(!1),e.abrupt("return",alert(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[D,T,L,h]);var J=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/playlist/".concat(t.id));case 2:C(!T);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){var t=new Promise((function(e,t){e(F(!0))})),a=new Promise((function(t,a){t(W(e))}));t.then((function(){return a})),a.then((function(){setTimeout((function(){F(!1)}),1500)}))},W=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=JSON.parse(h),!h.includes("playlist: ".concat(a.id))){t.next=6;break}return t.next=4,d.a.put("/playlist/like",{toggle:"unlike",is_liked:a.is_liked,preferences:n,user:e.user.email,id:a.id});case 4:t.next=8;break;case 6:return t.next=8,d.a.put("/playlist/like",{toggle:"like",is_liked:a.is_liked,user:e.user.email,id:a.id});case 8:C(!T);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(t){var a=JSON.parse(h),n=t.map((function(t){var n=a.includes("playlist: ".concat(t.id))?r.a.createElement("button",{onClick:function(){return R(t)},disabled:D,className:"like fas fa-heart"}):r.a.createElement("button",{onClick:function(){return R(t)},disabled:D,className:"like far fa-heart"}),c=e.user?n:"",l=1===k?r.a.createElement("button",{onClick:function(){return J(t)},className:"deleteButton"},"Delete"):"";return r.a.createElement("li",{key:t.name,className:"grid-item"},r.a.createElement("span",{style:{cursor:"pointer"}},c," "),r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"".concat(V.url,"/").concat(t.id)},t.name)),r.a.createElement(E.c,{className:"navTo",to:"".concat(V.url,"/").concat(t.id)},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"250",height:"250",src:t.cover_img})),l)}));l(n),U(!1)},K=L?r.a.createElement("i",{className:"fas fa-heart"}):r.a.createElement("i",{className:"far fa-heart"});return r.a.createElement("div",null,r.a.createElement(g.a,{active:B,spinner:r.a.createElement(x.a,{css:"\n  position:absolute;\n  width:200px;\n  height:200px;\n  margin-top:200px;\n  left: 40%;\n",color:"white",style:{zIndex:1010},size:150})}),r.a.createElement("p",{className:"listTitle"},r.a.createElement(E.c,{className:"fa fa-plus-square-o add",to:"/PostPlaylist"})," "," Playlists"),r.a.createElement("input",{className:"filterList",onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{onClick:function(){return C(!T),void U(!0)},className:"searchButton"},"Search"),e.user?r.a.createElement("i",{className:"filterFavorites",onClick:function(){return P(!L)}},K):"",r.a.createElement("ul",{className:"grid-container"},c))}var P=function(e){var t=Object(j.g)();return r.a.createElement(j.c,null,r.a.createElement(j.a,{path:"".concat(t.path,"/:playlistId")},r.a.createElement(z,{user:e.user})),r.a.createElement(j.a,{path:t.path},r.a.createElement(L,{user:e.user})))};var A=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(void 0),m=Object(o.a)(u,2),p=m[0],f=m[1],v=Object(n.useState)(!0),h=Object(o.a)(v,2),y=h[0],O=h[1],w=Object(n.useState)(void 0),k=Object(o.a)(w,2),N=k[0],S=k[1],_=Object(j.f)().albumId,T=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function C(e){var t=c.map((function(e){return r.a.createElement("li",{key:e.youtube_id,className:"grid-item2"},r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"/songs/".concat(e.youtube_id,"?name=").concat(_)},e.title)),r.a.createElement(b.a,{className:"video",onPlay:function(){return T(e)},videoId:e.youtube_id,id:"video",opts:{width:"200",height:"200"}}))}));f((function(){return r.a.createElement("div",{style:{marginLeft:"50px"}},r.a.createElement("p",{className:"dataTitle"},e.name),r.a.createElement("div",{style:{width:"100%",marginTop:"-60px",color:"white",display:"flex"}},r.a.createElement("div",{style:{fontSize:"20px",width:"36%",marginRight:"2%"}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:e.name,width:"100%",height:"75%",src:e.cover_img}),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,e.is_liked)," people liked this album"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Artist:")," "," ",e.artist),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Release date:")," "," ",e.created_at.substr(0,10))),r.a.createElement("div",{style:{width:"62%"}},r.a.createElement("h6",{className:"songsTitle"},"Songs"),r.a.createElement("div",{className:"dataSongs"},t))),r.a.createElement(E.c,{className:"fa fa-arrow-left back",to:"/albums"}))})),setTimeout((function(){O(!1)}),1500)}return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/top_songs?album=".concat(N));case 2:t=e.sent,a=t.data,l(a[1]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N]),Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/album/".concat(_));case 3:t=e.sent,a=t.data,S(a[0].name),0!==a[0].length&&C(a[0]),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),O(!1),e.abrupt("return",f(r.a.createElement("p",{style:{top:"430px",fontSize:"120px",textAlign:"right",width:"86%"},className:"listTitle"},"Unknown album")));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[c]),r.a.createElement("div",null,r.a.createElement(g.a,{active:y,spinner:r.a.createElement(x.a,{css:"\n  position:absolute;\n  width:200px;\n  height:200px;\n  margin-top:200px;\n  left: 40%;\n",color:"white",style:{zIndex:1010},size:150})}),p)};function M(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)("[]"),v=Object(o.a)(b,2),h=v[0],y=v[1],O=Object(n.useState)(0),w=Object(o.a)(O,2),k=w[0],N=w[1],S=Object(n.useState)(!1),_=Object(o.a)(S,2),T=_[0],C=_[1],I=Object(n.useState)(!1),z=Object(o.a)(I,2),L=z[0],P=z[1],A=Object(n.useState)(!0),M=Object(o.a)(A,2),B=M[0],U=M[1],H=Object(n.useState)(!1),q=Object(o.a)(H,2),D=q[0],F=q[1],V=Object(j.g)();Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/preferences/".concat(e.user.email));case 3:a=t.sent,n=a.data,y(n[0].preferences),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[T]),Object(n.useEffect)((function(){if(e.user){var t=e.user.is_admin;N(t)}}),[e.user]),Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(h),e.prev=1,e.next=4,d.a.get("/top_albums?name=".concat(p));case 4:return e.next=6,e.sent.data;case 6:a=e.sent,n=a[0].filter((function(e){return e.name.toUpperCase().includes(p.toUpperCase())})),L?(r=n.filter((function(e){return t.includes("album: ".concat(e.id))})),Y(r)):Y(n),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),U(!1),e.abrupt("return",alert(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[D,T,L,h]);var J=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name.replace("'","''"),e.next=3,d.a.delete("/album/".concat(a));case 3:C(!T);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){var t=new Promise((function(e,t){e(F(!0))})),a=new Promise((function(t,a){t(W(e))}));t.then((function(){return a})),a.then((function(){setTimeout((function(){F(!1)}),1500)}))},W=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=JSON.parse(h)).includes("album: ".concat(a.id))){t.next=7;break}return t.next=4,d.a.put("/album/like",{toggle:"unlike",is_liked:a.is_liked,preferences:n,user:e.user.email,id:a.id});case 4:C(!T),t.next=10;break;case 7:return t.next=9,d.a.put("/album/like",{toggle:"like",is_liked:a.is_liked,user:e.user.email,id:a.id});case 9:C(!T);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(t){var a=JSON.parse(h),n=t.map((function(t){var n=a.includes("album: ".concat(t.id))?r.a.createElement("button",{onClick:function(){return R(t)},disabled:D,className:"like fas fa-heart"}):r.a.createElement("button",{onClick:function(){return R(t)},disabled:D,className:"like far fa-heart"}),c=e.user?n:"",l=1===k?r.a.createElement("button",{onClick:function(){return J(t)},className:"deleteButton"},"Delete"):"";return r.a.createElement("li",{key:t.name,className:"grid-item"},r.a.createElement("span",{style:{cursor:"pointer"}},c," "," "," "),r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"".concat(V.url,"/").concat(t.id)},t.name," - ",t.artist)),r.a.createElement(E.c,{className:"navTo",to:"".concat(V.url,"/").concat(t.id)},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"250",height:"250",src:t.cover_img})),l)}));l(n),U(!1)},K=L?r.a.createElement("i",{className:"fas fa-heart"}):r.a.createElement("i",{className:"far fa-heart"});return r.a.createElement("div",null,r.a.createElement(g.a,{active:B,spinner:r.a.createElement(x.a,{css:"\n  position:absolute;\n  width:200px;\n  height:200px;\n  margin-top:200px;\n  left: 40%;\n",color:"white",style:{zIndex:1010},size:150})}),r.a.createElement("p",{className:"listTitle"},r.a.createElement(E.c,{className:"fa fa-plus-square-o add",to:"/PostAlbum"})," "," Albums"),r.a.createElement("input",{className:"filterList",onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{onClick:function(){return C(!T),void U(!0)},className:"searchButton"},"Search"),e.user?r.a.createElement("i",{className:"filterFavorites",onClick:function(){return P(!L)}},K):"",r.a.createElement("ul",{className:"grid-container"},c))}var B=function(e){var t=Object(j.g)();return r.a.createElement(j.c,null,r.a.createElement(j.a,{path:"".concat(t.path,"/:albumId")},r.a.createElement(A,{user:e.user})),r.a.createElement(j.a,{path:t.path},r.a.createElement(M,{user:e.user})))},U=a(403),H=a(407),q=a(402),D=a(401),F=a(409),V=a(405),J=a(54);var R=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)([]),m=Object(o.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)(void 0),v=Object(o.a)(b,2),g=v[0],h=v[1],x=Object(n.useState)(void 0),y=Object(o.a)(x,2),O=y[0],j=y[1],w=Object(n.useState)(void 0),k=Object(o.a)(w,2),N=k[0],S=k[1],_=Object(n.useState)(void 0),T=Object(o.a)(_,2),C=T[0],I=T[1],z=Object(n.useState)(void 0),L=Object(o.a)(z,2),P=L[0],A=L[1],M=Object(n.useState)(void 0),B=Object(o.a)(M,2),U=B[0],H=B[1],q=Object(n.useState)(void 0),D=Object(o.a)(q,2),F=D[0],V=D[1],R=Object(n.useState)(void 0),W=Object(o.a)(R,2),Y=W[0],K=W[1],$=Object(n.useState)(void 0),G=Object(o.a)($,2),Z=G[0],Q=G[1];function X(e){return!!/^([0-5]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e)}Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,d.a.get("/top_albums");case 3:return e.next=5,e.sent.data[0];case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=f,e.next=10,d.a.get("/top_artists");case 10:return e.next=12,e.sent.data;case 12:e.t3=e.sent,(0,e.t2)(e.t3);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var ee=function(){var t=Object(i.a)(s.a.mark((function t(a,n,r,c,l,u,i,o,m){var p,f,b,E,v,g,h;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),p=/'/gi,f=/\n/gi,l){t.next=5;break}return t.abrupt("return",document.getElementById("songError").innerHTML="Select an artist");case 5:if(u){t.next=7;break}return t.abrupt("return",document.getElementById("songError").innerHTML="Select an album");case 7:if(b=m.slice(0,10),E=o.replace(p,"''").replace(f,"&&"),v=n.replace(p,"''"),g=l.value.replace(p,"''"),h=u.value.replace(p,"''"),e.user){t.next=14;break}return t.abrupt("return",document.getElementById("songError").innerHTML="Only registered users can post new songs to the website");case 14:if(X(r)){t.next=16;break}return t.abrupt("return",document.getElementById("songError").innerHTML="Length form is invalid");case 16:if(/^[1-9]\d{0,1}(?:,\d{1,3})?$/.test(i)){t.next=18;break}return t.abrupt("return",document.getElementById("songError").innerHTML="Track number field must be a 2-digit number");case 18:return t.prev=18,t.next=21,d.a.post("/song",{title:v,length:r,youtube_id:c,artist:g,album:h,track_number:i,lyrics:E,created_at:b,user:e.user.email,user_name:e.user.username});case 21:window.location.reload(!1),t.next=27;break;case 24:return t.prev=24,t.t0=t.catch(18),t.abrupt("return",document.getElementById("songError").innerHTML="Song already exists");case 27:case 28:case"end":return t.stop()}}),t,null,[[18,24]])})));return function(e,a,n,r,c,l,u,s,i){return t.apply(this,arguments)}}();return r.a.createElement("div",null,function(){var e=p.map((function(e){return{value:e.name,label:e.name}})),t=c.map((function(e){return{value:e.name,label:"".concat(e.name," - ").concat(e.artist)}})),a=new Date,n=a.getDate(),l=a.getMonth()+1,u=a.getFullYear();return n<10&&(n="0"+n),l<10&&(l="0"+l),a=u+"-"+l+"-"+n,r.a.createElement("form",{id:"songForm",className:"songForm",onSubmit:function(e){return ee(e,O,N,C,P,U,Y,F,Z)}},r.a.createElement("div",null,r.a.createElement("label",null," Name of the song: "),r.a.createElement("br",null),r.a.createElement("input",{id:"song_img",required:!0,type:"text",defaultValue:O,onChange:function(e){j(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Youtube ID: "),r.a.createElement("i",{className:"tooltip fas fa-info"}," ",r.a.createElement("span",{className:"tooltiptext"},"youtube.com/watch?v= (Youtube_ID)")),r.a.createElement("br",null),r.a.createElement("input",{id:"song_id",required:!0,type:"text",defaultValue:C,onChange:function(e){I(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null," Length: "),r.a.createElement("i",{className:"tooltip fas fa-info"}," ",r.a.createElement("span",{className:"tooltiptext"},"M M : S S")),r.a.createElement("br",null),r.a.createElement("input",{id:"song_length",required:!0,type:"text",defaultValue:N,onChange:function(e){S(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Artist: "),r.a.createElement("i",{className:"tooltip fas fa-info"}," ",r.a.createElement("span",{className:"tooltiptext"},"You can only post albums of uploaded artists")),r.a.createElement("br",null),r.a.createElement(J.a,{required:!0,maxMenuHeight:160,defaultValue:P,onChange:function(e){var a=e.value;A(e),h(t.filter((function(e){return e.label.includes(a)})))},options:e}),r.a.createElement("br",null),r.a.createElement("label",null," Album: "),r.a.createElement("i",{className:"tooltip fas fa-info"}," ",r.a.createElement("span",{className:"tooltiptext"},"You can only post songs of uploaded albums")),r.a.createElement("br",null),r.a.createElement(J.a,{required:!0,maxMenuHeight:160,defaultValue:U,onChange:function(e){H(e)},options:g}),r.a.createElement("br",null),r.a.createElement("label",null," Track number: "),r.a.createElement("br",null),r.a.createElement("input",{id:"song_track",required:!0,type:"text",defaultValue:Y,onChange:function(e){K(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.c,{style:{marginTop:"0px"},className:"fa fa-arrow-left back",to:"/Songs"}," ")),r.a.createElement("div",null,r.a.createElement("label",null," Lyrics: "),r.a.createElement("br",null),r.a.createElement("textarea",{rows:"12",required:!0,type:"text",defaultValue:F,onChange:function(e){V(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null," Release date: "),r.a.createElement("br",null),r.a.createElement("input",{max:a,style:{height:"32px"},id:"song_date",required:!0,type:"date",defaultValue:Z,onChange:function(e){Q(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{style:{width:"550px"},type:"submit",className:"post",value:"Post Song"})))}(),r.a.createElement("p",{id:"songError",style:{marginTop:"10px",marginLeft:"20px",fontSize:"20px",color:"red"}}))};var W=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,d.a.get("/top_artists");case 3:return e.next=5,e.sent.data;case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var u=function(){var t=Object(i.a)(s.a.mark((function t(a,n,r,c,l){var u,i,o,m;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),u=/'/gi,i=l.slice(0,10),e.user){t.next=5;break}return t.abrupt("return",document.getElementById("albumError").innerHTML="Only registered users can post new albums to the website!");case 5:if(c){t.next=7;break}return t.abrupt("return",document.getElementById("albumError").innerHTML="Select an artist");case 7:return o=n.replace(u,"''"),m=c.value.replace(u,"''"),t.prev=9,t.next=12,d.a.post("/album",{name:o,artist:m,cover_img:r,created_at:i,user:e.user.email,user_name:e.user.username});case 12:window.location.reload(!1),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(9),document.getElementById("albumError").innerHTML="Undetected Error";case 18:case 19:case"end":return t.stop()}}),t,null,[[9,15]])})));return function(e,a,n,r,c){return t.apply(this,arguments)}}();return r.a.createElement("div",null,function(){var e,t,a,n,l=new Date,s=l.getDate(),i=l.getMonth()+1,o=l.getFullYear();s<10&&(s="0"+s),i<10&&(i="0"+i),l=o+"-"+i+"-"+s;var m=c.map((function(e){return{value:e.name,label:e.name}}));return r.a.createElement("form",{id:"albumForm",className:"albumForm",onSubmit:function(r){return u(r,e,t,n,a)}},r.a.createElement("div",null,r.a.createElement("label",null," Name of the Album: "),r.a.createElement("br",null),r.a.createElement("input",{id:"album_name",required:!0,type:"text",defaultValue:e,onChange:function(t){e=t.target.value}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Artist: "),r.a.createElement("i",{class:"tooltip fas fa-info"}," ",r.a.createElement("span",{class:"tooltiptext"},"You can only post albums of uploaded artists")),r.a.createElement("br",null),r.a.createElement(J.a,{style:{},required:!0,maxMenuHeight:160,defaultValue:n,onChange:function(e){n=e},options:m}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null," Cover image URL "),r.a.createElement("br",null),r.a.createElement("input",{id:"album_img",required:!0,type:"text",defaultValue:t,onChange:function(e){t=e.target.value}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null," Release date: "),r.a.createElement("br",null),r.a.createElement("input",{max:l,style:{height:"32px"},id:"album_date",required:!0,type:"date",defaultValue:a,onChange:function(e){a=e.target.value}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"post",value:"Post Album"}),r.a.createElement(E.c,{style:{marginTop:"-50px"},className:"fa fa-arrow-left back",to:"/Albums"})))}(),r.a.createElement("p",{id:"albumError",style:{marginTop:"0px",marginLeft:"130px",fontSize:"20px",color:"red"}}))};var Y=function(e){var t=function(){var t=Object(i.a)(s.a.mark((function t(a,n,r){var c,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),c=/'/gi,l=n.replace(c,"''"),t.prev=3,t.next=6,d.a.post("/artist",{name:l,cover_img:r,user:e.user.email,user_name:e.user.username});case 6:document.getElementById("artistForm").reset(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),document.getElementById("artistError").innerHTML="Undetected Error";case 12:case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,a,n){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"artistForm"},function(){var e,a;return r.a.createElement("form",{id:"artistForm",onSubmit:function(n){return t(n,e,a)}},r.a.createElement("div",null,r.a.createElement("label",null," Name of the Artist: "),r.a.createElement("br",null),r.a.createElement("input",{id:"artist_name",required:!0,type:"text",defaultValue:e,onChange:function(t){e=t.target.value}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("label",null," Artist image URL "),r.a.createElement("br",null),r.a.createElement("input",{id:"artist_img",required:!0,type:"text",defaultValue:a,onChange:function(e){a=e.target.value}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"post",value:"Post Artist"}),r.a.createElement(E.c,{style:{marginTop:"-50px"},className:"fa fa-arrow-left back",to:"/Artists"})))}(),r.a.createElement("p",{id:"artistError",style:{marginTop:"-2px",marginLeft:"120px",fontSize:"20px",color:"red"}}))},K=a(192);var $=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,d.a.get("/top_songs");case 3:return e.next=5,e.sent.data[0];case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var u=function(){var t=Object(i.a)(s.a.mark((function t(a,n,r,c){var l,u,i,o,m,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),l=/'/gi,u=[],i=Object(K.a)(r);try{for(i.s();!(o=i.n()).done;)m=o.value,u.push(m.value)}catch(s){i.e(s)}finally{i.f()}if(e.user){t.next=7;break}return t.abrupt("return",document.getElementById("playlistError").innerHTML="Only registered users can post new playlists to the website!");case 7:if(r){t.next=9;break}return t.abrupt("return",document.getElementById("playlistError").innerHTML="Select songs");case 9:return p=n.replace(l,"''"),t.prev=10,t.next=13,d.a.post("/playlist",{name:p,songs:u,cover_img:c,user:e.user.email,user_name:e.user.username});case 13:document.getElementById("playlistForm").reset(),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),document.getElementById("playlistError").innerHTML="Undetected error";case 19:case 20:case"end":return t.stop()}}),t,null,[[10,16]])})));return function(e,a,n,r){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"playlistForm"},function(){var e,t,a,n=c.map((function(e){return{value:e.youtube_id,label:"".concat(e.title," - ").concat(e.artist)}}));return r.a.createElement("form",{style:{marginTop:"150px"},id:"playlistForm",onSubmit:function(n){return u(n,e,a,t)}},r.a.createElement("div",null,r.a.createElement("label",null," Name of the Playlist: "),r.a.createElement("br",null),r.a.createElement("input",{id:"playlist_name",required:!0,type:"text",defaultValue:e,onChange:function(t){e=t.target.value}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null," Songs: "),r.a.createElement("br",null),r.a.createElement(J.a,{required:!0,maxMenuHeight:160,isMulti:!0,defaultValue:a,onChange:function(e){a=e},options:n}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null," Cover image URL "),r.a.createElement("br",null),r.a.createElement("input",{id:"artist_img",required:!0,type:"text",defaultValue:t,onChange:function(e){t=e.target.value}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"post",value:"Post Playlist"}),r.a.createElement(E.c,{style:{marginTop:"-50px"},className:"fa fa-arrow-left back",to:"/Playlists"})))}(),r.a.createElement("p",{id:"playlistError",style:{marginLeft:"120px",fontSize:"20px",color:"red"}}))},G=a(118),Z=a.n(G),Q=a(75);function X(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),p=m[0],f=m[1],v=Object(n.useState)(!1),h=Object(o.a)(v,2),y=h[0],O=h[1],w=Object(n.useState)("Uploads"),k=Object(o.a)(w,2),N=k[0],S=k[1],_=Object(n.useState)(""),T=Object(o.a)(_,2),C=T[0],I=T[1],z=Object(j.f)().userId;Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r,c,u,i,o,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/user/".concat(z));case 3:return t=e.sent,e.next=6,d.a.get("/top_songs?name=".concat(p));case 6:return a=e.sent,e.next=9,d.a.get("/top_albums?name=".concat(p));case 9:return n=e.sent,e.next=12,d.a.get("/top_artists?name=".concat(p));case 12:return r=e.sent,e.next=15,d.a.get("/top_playlists?name=".concat(p));case 15:c=e.sent,u=a.data[0].filter((function(e){return e.user_name===z})),i=n.data[0].filter((function(e){return e.user_name===z})),o=r.data.filter((function(e){return e.user_name===z})),m=c.data.filter((function(e){return e.user_name===z})),U(u,i,o,m,t.data),e.next=26;break;case 23:return e.prev=23,e.t0=e.catch(0),e.abrupt("return",l(!1));case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}})()()}),[y,e.user,N]);var L=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.youtube_id.replace("'","''"),e.next=3,d.a.delete("/song/".concat(a));case 3:O(!y);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name.replace("'","''"),e.next=3,d.a.delete("/artist/".concat(a));case 3:O(!y);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name.replace("'","''"),e.next=3,d.a.delete("/album/".concat(a));case 3:O(!y);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/playlist/".concat(t.id));case 2:O(!y);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(t,a,n,c,u){var s=z.charAt(0).toUpperCase()+z.slice(1);e.user&&e.user.username.toUpperCase()===z.toUpperCase()?S("My Uploads"):S("".concat(s,"'s Uploads"));var i=1e3,o=t.map((function(t){i--;var a=e.user&&e.user.email===t.user?r.a.createElement("button",{onClick:function(){return P(t)},style:{marginBottom:"15px"},className:"deleteButton"},"Delete"):"";return r.a.createElement("li",{key:t.youtube_id,style:{zIndex:i},className:"hov"},r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"/songs",onClick:function(){return e.song(t)}},t.title,"  - ",t.artist)),r.a.createElement(b.a,{className:"video",onPlay:function(){return L(t)},videoId:t.youtube_id,id:"video",opts:{width:"250",height:"250"}}),r.a.createElement("br",null),a)})),m=a.map((function(t){var a=e.user&&e.user.email===t.user?r.a.createElement("button",{onClick:function(){return M(t)},className:"deleteButton"},"Delete"):"";return i--,r.a.createElement("li",{style:{zIndex:i},key:t.name,className:"hov"},r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"/albums",onClick:function(){return e.album(t)}},t.name," - ",t.artist)),r.a.createElement(E.c,{className:"navTo",to:"/albums",onClick:function(){return e.album(t)}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"250",height:"250",src:t.cover_img})),r.a.createElement("br",null),a)})),p=n.map((function(t){var a=e.user&&e.user.email===t.user?r.a.createElement("button",{onClick:function(){return A(t)},className:"deleteButton"},"Delete"):"";return i--,r.a.createElement("li",{style:{zIndex:i},key:t.name,className:"hov"},r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"/artists",onClick:function(){return e.artist(t)}},t.name)),r.a.createElement(E.c,{className:"navTo",to:"/artists",onClick:function(){return e.artist(t)}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"250",height:"250",src:t.cover_img})),r.a.createElement("br",null),a)})),d=c.map((function(t){var a=e.user&&e.user.email===t.user?r.a.createElement("button",{onClick:function(){return B(t)},className:"deleteButton"},"Delete"):"";return i--,r.a.createElement("li",{style:{zIndex:i},key:t.name,className:"hov"},r.a.createElement("p",null,r.a.createElement(E.c,{className:"navTo",to:"/playlists",onClick:function(){return e.playlist(t)}},t.name)),r.a.createElement(E.c,{className:"navTo",to:"/playlists",onClick:function(){return e.playlist(t)}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"250",height:"250",src:t.cover_img})),r.a.createElement("br",null),a)}));I("user doesn't exist"===u?r.a.createElement("p",{style:{top:"440px",fontSize:"120px",textAlign:"right",width:"86%"},className:"listTitle"},"User doesn't exist"):function(){return r.a.createElement("div",null,r.a.createElement("p",{id:"listTitle",className:"listTitle"},N),r.a.createElement("input",{className:"filterList",onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{onClick:function(){return O(!y),void l(!0)},className:"searchButton"},"Search"),r.a.createElement("div",{className:"uploadsList"},r.a.createElement("h6",{className:"upTitle"},"Songs"),r.a.createElement(Q.a,{className:"upload"},o),r.a.createElement("h6",{className:"upTitle"},"Albums"),r.a.createElement(Q.a,{className:"upload"},m),r.a.createElement("h6",{className:"upTitle"},"Artists"),r.a.createElement(Q.a,{className:"upload"},p),r.a.createElement("h6",{className:"upTitle"},"Playlists"),r.a.createElement(Q.a,{className:"upload"},d),r.a.createElement(E.c,{className:"fa fa-arrow-left back",to:"/Uploads"}),r.a.createElement("br",null),r.a.createElement("br",null)))}),l(!1)};return r.a.createElement("div",{id:"uploadsPage"},r.a.createElement(g.a,{active:c,spinner:r.a.createElement(x.a,{css:"\n  position:absolute;\n  width:200px;\n  height:200px;\n  margin-top:200px;\n  left: 40%;\n",color:"white",style:{zIndex:1010},size:150})}),r.a.createElement("br",null),C)}function ee(e){var t=Object(n.useState)(void 0),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(j.g)();return r.a.createElement("div",{style:{position:"relative",width:"92%",top:"0px"}},r.a.createElement("p",{className:"listTitle"},"Search user"),r.a.createElement("input",{className:"filterList",onChange:function(e){return l(e.target.value)}}),r.a.createElement(E.c,{to:c?"".concat(u.url,"/").concat(c):"".concat(u.url)},r.a.createElement("button",{className:"searchButton"},"Search")),e.user?r.a.createElement(E.c,{to:"".concat(u.url,"/").concat(e.user.username)},r.a.createElement("button",{style:{position:"relative",textAlign:"right",width:"108%",top:"550px",marginBottom:"0px"},className:"post"},"To my page")):"")}var te=function(e){var t=Object(j.g)();return r.a.createElement("div",null,r.a.createElement(j.c,null,r.a.createElement(j.a,{path:"".concat(t.path,"/:userId")},r.a.createElement(X,{user:e.user})),r.a.createElement(j.a,{path:t.path},r.a.createElement(ee,{user:e.user}))))};var ae=function(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!0),u=Object(o.a)(l,2),m=u[0],p=u[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(f),p(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var f=r.a.createElement("div",null,r.a.createElement("p",{style:{height:"100px",marginTop:"-50px",fontSize:"400px",textAlign:"center",width:"825px"},className:"dataTitle"},"404"),r.a.createElement("p",{style:{position:"relative",top:"180px",fontSize:"120px",textAlign:"right",width:"95%"},className:"listTitle"},"Page not found"));return r.a.createElement("div",null,r.a.createElement(g.a,{active:m,spinner:r.a.createElement(x.a,{css:"\n  position:absolute;\n  width:200px;\n  height:200px;\n  margin-top:200px;\n  left: 40%;\n",color:"white",style:{zIndex:1010},size:150})}),a)},ne=a(408),re=a(406),ce=a(396),le=r.a.forwardRef((function(e,t){return r.a.createElement(ce.a,Object.assign({direction:"down",ref:t},e))}));var ue=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),u=Object(o.a)(l,2),f=u[0],b=u[1],v=Object(n.useState)(void 0),g=Object(o.a)(v,2),h=g[0],x=g[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("session=",t=decodeURIComponent(document.cookie),""==(a=t.replace("session=",""))||"0"==a){e.next=15;break}return e.prev=4,e.next=7,d.a.get("/auto/".concat(a));case 7:n=e.sent,r=n.data,setTimeout((function(){x(r[0])}),500),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var y=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/logout",{email:h.email});case 2:x(void 0),document.cookie="session=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function w(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)}var k=function(){var e=Object(i.a)(s.a.mark((function e(t,a,n,r){var l,u,i,o,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=Z.a.generate({length:50,numbers:!0}),e.prev=1,w(t)){e.next=4;break}return e.abrupt("return",document.getElementById("errorMessage").innerHTML="Please enter a valid email address");case 4:if(!(a.length>10)){e.next=6;break}return e.abrupt("return",document.getElementById("errorMessage").innerHTML="Username can not exceed 10 characters");case 6:if(n===r){e.next=8;break}return e.abrupt("return",document.getElementById("errorMessage").innerHTML="Password fields do not match");case 8:return e.next=10,d.a.get("user/".concat(a));case 10:if(0===e.sent.data.length){e.next=15;break}return e.abrupt("return",document.getElementById("errorMessage").innerHTML="Username is already in use");case 15:return e.next=17,d.a.post("/users",{username:a,email:t,password:n,auto_code:l});case 17:u=e.sent,i=u.data,setTimeout((function(){x(i[0])}),500),c(!1),(o=new Date).setTime(o.getTime()+604800),m="expires="+o.toGMTString(),document.cookie="session="+l+";"+m+";path=/";case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(1),document.getElementById("errorMessage").innerHTML="The email you tried to register with is already in use";case 30:case 31:case"end":return e.stop()}}),e,null,[[1,27]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(t)){e.next=2;break}return e.abrupt("return",document.getElementById("errorMessage").innerHTML="Please enter a valid email address");case 2:return n=Z.a.generate({length:50,numbers:!0}),e.prev=3,e.next=6,d.a.put("/users",{email:t,password:a,auto_code:n});case 6:r=e.sent,c=r.data,(l=new Date).setTime(l.getTime()+604800),u="expires="+l.toGMTString(),document.cookie="session="+n+";"+u+";path=/",b(!1),setTimeout((function(){x(c[0])}),500),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),document.getElementById("errorMessage").innerHTML="Either the email or password you entered is incorrect";case 19:case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t,a){return e.apply(this,arguments)}}(),_=r.a.createElement(V.a,{style:{fontSize:"20px"},variant:"text",color:"inherit",onClick:y},"Logout"),C=h?r.a.createElement("h5",null," ",_," "):r.a.createElement("h5",null," ",function(){var e,t;return r.a.createElement("span",null,r.a.createElement(V.a,{style:{fontSize:"20px",marginLeft:"255px"},variant:"text",color:"inherit",onClick:function(){return b(!0)}},"Login"),r.a.createElement(H.a,{TransitionComponent:le,open:f,onClose:function(){return b(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(F.a,{id:"form-dialog-title"},"Login"),r.a.createElement(D.a,null,r.a.createElement(U.a,{onChange:function(t){e=t.target.value},defaultValue:e,autoFocus:!0,margin:"dense",id:"email",label:"Email Address",type:"email",required:!0,fullWidth:!0}),r.a.createElement(U.a,{onChange:function(e){t=e.target.value},autoFocus:!0,defaultValue:t,margin:"dense",id:"password",label:"Password",type:"password",required:!0,fullWidth:!0})),r.a.createElement(F.a,{style:{color:"red"},id:"errorMessage"}),r.a.createElement(q.a,null,r.a.createElement(V.a,{type:"submit",onClick:function(){return b(!1)},color:"primary"},"Cancel"),r.a.createElement(V.a,{onClick:function(){return S(e,t)},color:"primary"},"login"))))}()," | ",function(){var e,t,n,l;return r.a.createElement("span",null,r.a.createElement(V.a,{style:{fontSize:"20px"},variant:"text",color:"inherit",onClick:function(){return c(!0)}},"Register"),r.a.createElement(H.a,{TransitionComponent:le,open:a,onClose:function(){return c(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(F.a,{id:"form-dialog-title"},"Register"),r.a.createElement(D.a,null,r.a.createElement(U.a,{onChange:function(t){e=t.target.value},autoFocus:!0,required:!0,margin:"dense",id:"email",label:"Email Address",type:"email",fullWidth:!0}),r.a.createElement(U.a,{onChange:function(e){t=e.target.value},autoFocus:!0,required:!0,margin:"dense",id:"username",label:"Username",type:"name",fullWidth:!0}),r.a.createElement(U.a,{onChange:function(e){n=e.target.value},autoFocus:!0,required:!0,margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0}),r.a.createElement(U.a,{onChange:function(e){l=e.target.value},autoFocus:!0,required:!0,margin:"dense",id:"password",label:"Confirm password",autoComplete:"",type:"password",fullWidth:!0})),r.a.createElement(F.a,{style:{color:"red"},id:"errorMessage"}),r.a.createElement(q.a,null,r.a.createElement(V.a,{onClick:function(){return c(!1)},color:"primary"},"Cancel"),r.a.createElement(V.a,{onClick:function(){return k(e,t,n,l)},color:"primary"},"Register"))))}()," "),I=Object(j.h)((function(e){var t=e.location;return r.a.createElement(ne.a,null,r.a.createElement(re.a,{key:t.key,classNames:"page",timeout:1e3},r.a.createElement(j.c,{location:t},r.a.createElement(j.a,{exact:!0,path:"/",component:function(){return r.a.createElement(O,{user:h})}}),r.a.createElement(j.a,{path:"/songs",component:function(){return r.a.createElement(N,{user:h})}}),r.a.createElement(j.a,{path:"/artists",component:function(){return r.a.createElement(T,{user:h})}}),r.a.createElement(j.a,{path:"/playlists",component:function(){return r.a.createElement(P,{user:h})}}),r.a.createElement(j.a,{path:"/albums",component:function(){return r.a.createElement(B,{user:h})}}),r.a.createElement(j.a,{path:"/Uploads",component:function(){return r.a.createElement(te,{user:h})}}),r.a.createElement(j.a,{path:"/PostSong",component:function(){return r.a.createElement(R,{user:h})}}),r.a.createElement(j.a,{path:"/PostAlbum",component:function(){return r.a.createElement(W,{user:h})}}),r.a.createElement(j.a,{path:"/PostArtist",component:function(){return r.a.createElement(Y,{user:h})}}),r.a.createElement(j.a,{path:"/PostPlaylist",component:function(){return r.a.createElement($,{user:h})}}),r.a.createElement(j.a,{path:"*",component:function(){return r.a.createElement(ae,{user:h})}}))))}));return r.a.createElement("div",{className:"App"},C,r.a.createElement(p.a,{style:{background:"rgb(180, 60, 60)",borderRight:"2px solid white"},expanded:!0,onToggle:function(){}},r.a.createElement(p.a.Toggle,null),r.a.createElement(p.a.Nav,{defaultSelected:"home"},r.a.createElement(m.NavItem,{eventKey:"home"},r.a.createElement(m.NavIcon,null,r.a.createElement("i",{style:{fontSize:"1.75em"}})),r.a.createElement(E.b,{to:"/"},r.a.createElement("i",{style:{color:"white",fontSize:"44px",paddingTop:"3px"},className:"fa fa-fw fa-home"}))),r.a.createElement(m.NavItem,{eventKey:"1"},r.a.createElement(m.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw ",style:{fontSize:"1.75em"}})),r.a.createElement(m.NavText,null,r.a.createElement(E.b,{className:"navItem",to:"/songs"},"Songs"))),r.a.createElement(m.NavItem,{eventKey:"2"},r.a.createElement(m.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw ",style:{fontSize:"1.75em"}})),r.a.createElement(m.NavText,null,r.a.createElement(E.b,{className:"navItem",to:"/albums"},"Albums"))),r.a.createElement(m.NavItem,{eventKey:"3"},r.a.createElement(m.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw ",style:{fontSize:"1.75em"}})),r.a.createElement(m.NavText,null,r.a.createElement(E.b,{className:"navItem",to:"/artists"},"Artists"))),r.a.createElement(m.NavItem,{eventKey:"4"},r.a.createElement(m.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw ",style:{fontSize:"1.75em"}})),r.a.createElement(m.NavText,null,r.a.createElement(E.b,{className:"navItem",to:"/playlists"},"Playlists"))),r.a.createElement(m.NavItem,{eventKey:"5"},r.a.createElement(m.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw ",style:{fontSize:"1.75em"}})),r.a.createElement(m.NavText,null,r.a.createElement(E.b,{className:"navItem",to:"/Uploads"},"Uploads"))))),r.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(E.a,null,r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[201,1,2]]]);
//# sourceMappingURL=main.eab0f50a.chunk.js.map