{"version":3,"sources":["components/Home.js","Network.js","UserContext.js","AnalyticsManager.js","components/Songs.js","components/Artists.js","components/Playlists.js","components/Albums.js","components/PostSong.js","components/PostAlbum.js","components/PostArtist.js","components/PostPlaylist.js","components/Uploads.js","NoFound.js","components/AlbumData.js","components/ArtistData.js","components/PlaylistData.js","components/SongData.js","components/UploadsData.js","App.js","serviceWorker.js","index.js"],"names":["Home","props","useStateIfMounted","songs","setSongs","albums","setAlbums","artists","setArtists","playlists","setPlaylists","loading","setLoading","songsLength","setSongsLength","albumsLength","setAlbumsLength","artistsLength","setArtistsLength","playlistsLength","setPlaylistsLength","useEffect","a","axios","get","makeLists","data","console","log","fetchData","playCount","e","patch","youtube_id","play_count","sArray","map","length","key","className","to","Artist","title","name","onPlay","videoId","id","opts","width","height","alArray","onError","target","onerror","src","alt","cover_img","arArray","pArray","active","spinner","css","color","style","zIndex","size","naturalSlideWidth","naturalSlideHeight","visibleSlides","totalSlides","step","infinite","maxHeight","float","network","create","interceptors","request","use","config","headers","localStorage","getItem","response","error","UserContext","React","createContext","UserProvider","Provider","Consumer","mixpanel","init","process","Mixpanel","identify","alias","track","people","set","MemoSong","memo","item","adminDelete","like","user","include","useContext","match","useRouteMatch","username","song","cursor","url","prevProps","nextProps","Songs","list","setList","search","setSearch","favorites","setFavorites","toggle","setToggle","preferences","prefArray","item_id","filter","toUpperCase","includes","favoriteList","makeSongs","deleteSong","delete","isLiked","document","getElementById","classList","replace","type","then","res","deleted","is_liked","method","post","created","array","heart","onClick","deleteButton","marginTop","is_admin","filterFavorites","onChange","event","value","MemoArtist","Artists","toString","makeArtists","deleteArtist","MemoPlaylist","Playlists","makePlaylists","deletePlaylist","removeAttribute","MemoAlbum","Albums","makeAlbums","deleteAlbum","PostSong","undefined","selectAlbum","setSelectAlbum","setTitle","setLength","setYoutube_id","artist","setArtist","album","setAlbum","lyrics","setLyrics","track_number","setTrack_number","created_at","setCreated_at","validateLength","test","addSong","preventDefault","date","Date","enter","newCreated_at","slice","newLyrics","innerHTML","ArtistId","AlbumId","Username","upload_at","toISOString","substring","window","location","reload","selectArtist","label","albumList","today","dd","getDate","mm","getMonth","yyyy","getFullYear","onSubmit","required","defaultValue","maxMenuHeight","x","options","rows","max","form","marginLeft","fontSize","PostAlbum","addAlbum","image","class","PostArtist","addArtist","reset","PostPlaylist","selectSong","addPlaylist","result","JSON","stringify","isMulti","Uploads","position","top","textAlign","marginBottom","NoFound","useState","unfound","setUnfound","page","AlbumData","albumId","useParams","makeID","push","display","marginRight","playing","controls","substr","setTimeout","ArtistData","artistId","z","songList","left","PlaylistData","playlist","setPlaylist","playlistId","Song","SongData","setSong","songId","split","idx","Album","UploadsData","setName","uploads","setUploads","confirm","useConfirm","userId","description","catch","capitalUserId","charAt","Transition","forwardRef","ref","Slide","direction","App","registerOpen","setRegisterOpen","loginOpen","setLoginOpen","setUser","useLocation","loaction","usePageViews","last_login","autoLogin","handleRegister","password","repassword","occupied","success","token","setItem","USER_ID","message","handleLogin","logout","Button","variant","clear","platform","disabled","Dialog","TransitionComponent","open","onClose","aria-labelledby","DialogTitle","DialogContent","TextField","autoFocus","margin","inputProps","maxLength","fullWidth","minLength","DialogActions","login","autoComplete","register","AnimatedSwitch","withRouter","TransitionGroup","CSSTransition","classNames","timeout","exact","path","component","paddingTop","fontWeight","Boolean","hostname","history","createBrowserHistory","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7a20b2ee.chunk.js","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport YouTube from 'react-youtube';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport {\r\n  ButtonBack, ButtonNext, CarouselProvider, Slide, Slider,\r\n} from 'pure-react-carousel';\r\nimport 'pure-react-carousel/dist/react-carousel.es.css';\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\n\r\nfunction Home(props) {\r\nconst [songs, setSongs] = useStateIfMounted([]);\r\nconst [albums, setAlbums] = useStateIfMounted([]);\r\nconst [artists, setArtists] = useStateIfMounted([]);\r\nconst [playlists, setPlaylists] = useStateIfMounted([]);\r\nconst [loading, setLoading] = useStateIfMounted(true);\r\n\r\nconst [songsLength, setSongsLength] = useStateIfMounted(0);\r\nconst [albumsLength, setAlbumsLength] = useStateIfMounted(0);\r\nconst [artistsLength, setArtistsLength] = useStateIfMounted(0);\r\nconst [playlistsLength, setPlaylistsLength] = useStateIfMounted(0);\r\n\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n      const songs = await axios.get(`/api/songs`)\r\n      const albums = await axios.get(`/api/albums`);\r\n      const artists = await axios.get(`/api/artists`);\r\n      const playlists = await axios.get(`/api/playlists`);\r\n      makeLists(songs.data, albums.data, artists.data, playlists.data)\r\n      setLoading(false)\r\n      }\r\n       catch(response) {\r\n      setLoading(false)\r\nconsole.log(response)\r\n      }\r\n    }; fetchData();\r\n   }, [])\r\n\r\nconst playCount = async (e) => {\r\nawait axios.patch(`/api/songs/count/${e.youtube_id}`, {\r\nplay_count: e.play_count + 1,\r\n});\r\n};\r\n\r\nconst makeLists = (songs, albums, artists, playlists) => {\r\nlet sArray = songs.map(e => {\r\nsetSongsLength(songs.length)\r\nreturn (\r\n<Slide key={e.youtube_id} className=\"hov carouselist\">\r\n<div>\r\n<p>\r\n<NavLink className=\"navTo\" to={`/songs/${e.youtube_id}`} > {e.Artist ? <> {e.title} - {e.Artist.name} </> : <> {e.title}</>}</NavLink>\r\n</p>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)}videoId={e.youtube_id} id=\"video\" opts={{width:\"300\",height:\"300\"}}/>\r\n<br/><br/>\r\n</div>\r\n</Slide>\r\n)}\r\n)\r\n\r\n\r\n\r\nlet alArray = albums.map(e => {\r\nsetAlbumsLength(albums.length)\r\nreturn (\r\n<Slide key={e.name} className=\"hov carouselist\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}`} >\r\n{e.Artist ? <> {e.name} - {e.Artist.name} </> : <> {e.name}</>}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}`} >\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"300\" height=\"300\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/><br/>\r\n</Slide>\r\n)}\r\n)\r\n\r\nlet arArray = artists.map(e => {\r\nsetArtistsLength(artists.length)\r\nreturn (\r\n<Slide key={e.name} className=\"hov carouselist\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/artists/${e.id}`}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`/artists/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"300\" height=\"300\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/><br/>\r\n</Slide>\r\n)}\r\n)\r\n\r\nlet pArray = playlists.map(e => {\r\nsetPlaylistsLength(playlists.length)\r\nreturn (\r\n<Slide key={e.name} className=\"hov carouselist\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/playlists/${e.id}`}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`/playlists/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"300\" height=\"300\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/><br/>\r\n</Slide>\r\n)}\r\n)\r\nsetSongs(sArray)\r\nsetAlbums(alArray)\r\nsetArtists(arArray)\r\nsetPlaylists(pArray)\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n    <div>\r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n\r\n\r\n<div className=\"homeLists\">\r\n<h4> Top Songs </h4> \r\n  <CarouselProvider\r\n    naturalSlideWidth={25}\r\n    naturalSlideHeight={35}\r\n    visibleSlides={4}\r\n    totalSlides={songsLength}\r\n    step={4}\r\n    infinite\r\n  >\r\n<Slider style={{maxHeight:\"420px\"}}>\r\n{songs}\r\n</Slider>\r\n{!loading ?\r\n<>\r\n    <ButtonBack className=\"arrow fa fa-arrow-left\" ></ButtonBack>\r\n    <ButtonNext style={{float:\"right\"}}  className=\"arrow fa fa-arrow-right\"></ButtonNext>\r\n</>\r\n: null}\r\n    </CarouselProvider>\r\n\r\n\r\n<h4> Top Albums </h4> \r\n  <CarouselProvider\r\n    naturalSlideWidth={25}\r\n    naturalSlideHeight={35}\r\n    visibleSlides={4}\r\n    totalSlides={albumsLength}\r\n    step={4}\r\n    infinite\r\n  >\r\n<Slider style={{maxHeight:\"420px\"}}>\r\n{albums}\r\n</Slider>\r\n{!loading ?\r\n<>\r\n    <ButtonBack className=\"arrow fa fa-arrow-left\" ></ButtonBack>\r\n    <ButtonNext style={{float:\"right\"}} className=\"arrow fa fa-arrow-right\"></ButtonNext>\r\n</>\r\n: null}\r\n</CarouselProvider>\r\n\r\n<h4> Top Artists </h4> \r\n  <CarouselProvider\r\n    naturalSlideWidth={25}\r\n    naturalSlideHeight={35}\r\n    visibleSlides={4}\r\n    totalSlides={artistsLength}\r\n    step={4}\r\n    infinite\r\n  >\r\n<Slider style={{maxHeight:\"420px\"}}>\r\n{artists}\r\n</Slider>\r\n{!loading ?\r\n<>\r\n    <ButtonBack className=\"arrow fa fa-arrow-left\" ></ButtonBack>\r\n    <ButtonNext style={{float:\"right\"}} className=\"arrow fa fa-arrow-right\"></ButtonNext>\r\n</>\r\n: null}\r\n</CarouselProvider>\r\n\r\n<h4> Top Playlists </h4> \r\n  <CarouselProvider\r\n    naturalSlideWidth={25}\r\n    naturalSlideHeight={35}\r\n    visibleSlides={4}\r\n    totalSlides={playlistsLength}\r\n    step={4}\r\n    infinite\r\n  >\r\n<Slider style={{maxHeight:\"420px\"}}>\r\n{playlists}\r\n</Slider>{!loading ?\r\n<>\r\n    <ButtonBack className=\"arrow fa fa-arrow-left\" ></ButtonBack>\r\n    <ButtonNext style={{float:\"right\"}} className=\"arrow fa fa-arrow-right\"></ButtonNext>\r\n</>\r\n: null}\r\n</CarouselProvider>\r\n</div>\r\n\r\n</div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import axios from 'axios';\r\n\r\nconst network = axios.create({});\r\n\r\nconst getToken = () => {\r\n  return localStorage.getItem('token');\r\n}\r\n\r\nnetwork.interceptors.request.use(\r\n  config => {\r\n    config.headers[\"Username\"] = localStorage.getItem('username');\r\n    config.headers[\"Authorization\"] = \"bearer \" + getToken();\r\n    return config;\r\n  }\r\n);\r\n\r\nnetwork.interceptors.response.use(\r\n  config => {\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return error;\r\n  }\r\n);\r\n\r\nexport default network;","import React from 'react'\r\n\r\nconst UserContext = React.createContext(false)\r\n\r\nexport const UserProvider = UserContext.Provider\r\nexport const UserConsumer = UserContext.Consumer\r\n\r\nexport default UserContext","\r\nimport mixpanel from 'mixpanel-browser';\r\nmixpanel.init(process.env.REACT_APP_MIXPANEL_KEY);\r\n\r\nlet actions = {\r\n  identify: (id) => {\r\nmixpanel.identify(id);\r\n  },\r\n  alias: (id) => {\r\nmixpanel.alias(id);\r\n  },\r\n  track: (name, props) => {\r\nmixpanel.track(name, props);\r\n  },\r\n  people: {\r\n    set: (props) => {\r\nmixpanel.people.set(props);\r\n    },\r\n  },\r\n};\r\n\r\nexport let Mixpanel = actions;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useContext, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport YouTube from 'react-youtube';\r\nimport {\r\n  NavLink,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport network from '../Network.js';\r\nimport UserContext from '../UserContext'\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\nimport { Mixpanel } from '../AnalyticsManager';\r\n\r\nfunction Song({item, adminDelete, like, include}){\r\n\r\nconst user = useContext(UserContext)\r\n\r\nlet match = useRouteMatch();\r\n\r\nconst playCount = async (e) => {\r\nawait axios.patch(`/api/songs/count/${e.youtube_id}`, {\r\nplay_count: e.play_count + 1,\r\n});\r\nif (user) Mixpanel.identify(user.username)\r\nMixpanel.track('play song', { song: e.title });\r\n};\r\n\r\nreturn (\r\n<li className=\"grid-item\">\r\n<span style={{cursor:'pointer'}} >\r\n{like}\r\n</span>\r\n<p style={{width: like ? '200px': '250px'}}>\r\n<NavLink className=\"navTo\" to={`${match.url}/${item.youtube_id}`}>{item.Artist ? <> {item.title} - {item.Artist.name} </> : <> {item.title}</>}</NavLink>\r\n</p>\r\n<YouTube className=\"video\" onPlay={() => playCount(item)} videoId={item.youtube_id} id=\"video\" opts={{width:\"250\",height:\"250\"}}/>\r\n{adminDelete}\r\n</li>\r\n)}\r\n\r\nconst MemoSong = React.memo(Song, (prevProps, nextProps) => {\r\n  if (prevProps.include === nextProps.include) {\r\n    return true;\r\n  }\r\n  return false;\r\n});\r\n\r\nfunction Songs(props) {\r\nconst [list, setList] = useStateIfMounted([])\r\nconst [search, setSearch] = useStateIfMounted('')\r\nconst [favorites, setFavorites] = useStateIfMounted(false)\r\nconst [toggle, setToggle] = useStateIfMounted(0)\r\nconst [loading, setLoading] = useStateIfMounted(true);\r\n\r\nconst user = useContext(UserContext)\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n      const songs = await (await axios.get(`/api/songs?name=${search}`)).data;\r\n      const preferences = user ? await (await axios.get(`/api/preferences/song/${user.username}`)).data : [];\r\n      let prefArray = preferences.map(e => e.item_id)\r\n      let list = songs.filter(e => e.title.toUpperCase().includes(search.toUpperCase()))\r\n      if (!favorites) {\r\n      makeSongs(list, prefArray) \r\n      } else {\r\n      let favoriteList = list.filter(e => prefArray.includes(e.youtube_id))\r\n      makeSongs(favoriteList, prefArray)\r\n      }\r\n    } catch(response) {\r\n    setLoading(false)  \r\n    return\r\n    }\r\n    }; fetchData();\r\n   }, [toggle, favorites])\r\n\r\n\r\nconst handleSearch = () => {\r\nsetToggle(e => e + 1)\r\nsetLoading(true)\r\n}\r\n\r\nconst handleFavorite = () => {\r\nsetFavorites(!favorites)\r\nsetLoading(true)\r\n}\r\n\r\nconst deleteSong = async (e) => {\r\nawait network.delete(`/api/songs/${e.youtube_id}`);\r\nsetToggle(e => e + 1)\r\n};\r\n\r\nconst isLiked = async (e) => {\r\ntry{\r\nif (document.getElementById(e.youtube_id + 'like').className.includes('fas')){\r\ndocument.getElementById(e.youtube_id + 'like').classList.replace('fas', 'far');\r\nawait network.patch(`/api/preferences`, {\r\nusername: user.username,\r\ntype: 'song',\r\nitem_id: e.youtube_id\r\n}).then((res) => {\r\nif (res.data.deleted)\r\nnetwork.patch(`/api/songs/like/${e.youtube_id}`, {\r\nis_liked: e.is_liked - 1,\r\n})})\r\nif (user) Mixpanel.identify(user.username)\r\nMixpanel.track('toggle song likes', { song: e.title, method: 'unlike'});\r\n} else {\r\ndocument.getElementById(e.youtube_id + 'like').classList.replace('far', 'fas');\r\nawait network.post(`/api/preferences`, {\r\nusername: user.username,\r\ntype: 'song',\r\nitem_id: e.youtube_id\r\n}).then((res) => {\r\nif (res.data.created)\r\nnetwork.patch(`/api/songs/like/${e.youtube_id}`, {\r\nis_liked: e.is_liked + 1,\r\n})})\r\nif (user) Mixpanel.identify(user.username)\r\nMixpanel.track('toggle song likes', { song: e.title, method: 'like'});\r\n}\r\n} catch (response) {\r\nconsole.log(response)\r\n}\r\n}\r\n\r\n\r\nconst makeSongs = (songs, preferences) => {\r\nlet array = songs.map(e => {\r\nconst heart = <button onClick={() => isLiked(e, preferences)} id={e.youtube_id + 'like'} className={preferences.includes(e.youtube_id) ? \"like fas fa-heart\" : \"like far fa-heart\"}/>\r\nconst deleteButton = <button onClick={() => deleteSong(e)} style={{marginTop:'30px'}} className=\"deleteButton\">Delete</button>;\r\nconst like = user ? heart :  null;\r\nconst adminDelete = user && user.is_admin ? deleteButton : null;\r\nreturn (\r\n\r\n            <MemoSong\r\n            key={e.youtube_id} \r\n            item={e}\r\n            adminDelete={adminDelete}\r\n            like={like}\r\n            include={preferences.includes(e.youtube_id)}\r\n            />\r\n)})\r\nsetList(array)\r\nsetLoading(false)\r\n}\r\n\r\nconst filterFavorites = favorites ?  <i className=\"fas fa-heart\"></i> : <i className=\"far fa-heart\"></i>\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div> \r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n<p className='listTitle'>\r\n<NavLink className=\"fa fa-plus-square-o add\" to=\"/PostSong\"></NavLink>  \r\n{\" \"} Songs</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<button onClick={() => handleSearch()} className=\"searchButton\">Search</button>\r\n{user ? <i className=\"filterFavorites\" onClick={() => handleFavorite()}>{filterFavorites}</i> : ''}\r\n<ul className=\"grid-container\"><br/>\r\n{list}\r\n</ul>\r\n</div>\r\n  );\r\n}\r\n\r\nexport default Songs;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useContext, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport network from '../Network.js';\r\nimport UserContext from '../UserContext'\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\n\r\nfunction Artist({item, adminDelete, like, include}){\r\n\r\nlet match = useRouteMatch();\r\n\r\nreturn (\r\n<li className=\"grid-item\">\r\n<span style={{cursor:'pointer'}}>{like} {\" \"}</span>\r\n<p style={{width: like ? '195px': '250px'}}>\r\n<NavLink className=\"navTo\" to={`${match.url}/${item.id}`}>\r\n{item.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\"to={`${match.url}/${item.id}`}>\r\n<img onError={(item)=>{item.target.onerror = null; item.target.src=\"/no_image.jpg\"}} alt={item.name} width=\"250\" height=\"250\" src={item.cover_img}></img>\r\n</NavLink>\r\n{adminDelete}\r\n</li>\r\n)}\r\n\r\nconst MemoArtist = React.memo(Artist, (prevProps, nextProps) => {\r\n  if (prevProps.include === nextProps.include) {\r\n    return true;\r\n  }\r\n  return false;\r\n});\r\n\r\nfunction Artists(props) {\r\nconst [list, setList] = useStateIfMounted([])\r\nconst [search, setSearch] = useStateIfMounted('')\r\nconst [favorites, setFavorites] = useStateIfMounted(false)\r\nconst [toggle, setToggle] = useStateIfMounted(0)\r\nconst [loading, setLoading] = useStateIfMounted(true);\r\n\r\nconst user = useContext(UserContext)\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try{\r\n      const artists = await (await axios.get(`/api/artists?name=${search}`)).data;\r\n      const preferences = user ? await (await axios.get(`/api/preferences/artist/${user.username}`)).data: [];\r\n      let prefArray = preferences.map(e => e.item_id)\r\n      let list = artists.filter(e => e.name.toUpperCase().includes(search.toUpperCase()))\r\n      if (!favorites) {\r\n      makeArtists(list, prefArray) \r\n      } else {\r\n      let favoriteList = list.filter(e => prefArray.includes(e.id.toString()))\r\n      makeArtists(favoriteList, prefArray)\r\n      }} catch(response) {\r\n    setLoading(false)\r\n    return\r\n      }\r\n    }; fetchData();\r\n   }, [toggle, favorites])\r\n\r\nconst handleSearch = () => {\r\nsetToggle(e => e + 1)\r\nsetLoading(true)\r\n}\r\n\r\nconst handleFavorite = () => {\r\nsetFavorites(!favorites)\r\nsetLoading(true)\r\n}\r\n\r\nconst deleteArtist = async (e) => {\r\nawait network.delete(`/api/artists/${e.id}`);\r\nsetToggle(e => e + 1)\r\n};\r\n\r\n\r\nconst isLiked = async (e) => {\r\ntry{\r\nif (document.getElementById(e.id + 'like').className.includes('fas')){\r\ndocument.getElementById(e.id + 'like').classList.replace('fas', 'far');\r\nawait network.patch(`/api/preferences`, {\r\nusername: user.username,\r\ntype: 'artist',\r\nitem_id: e.id\r\n}).then((res) => {\r\nif (res.data.deleted)\r\nnetwork.patch(`/api/artists/like/${e.id}`, {\r\nis_liked: e.is_liked - 1,\r\n})})\r\n} else {\r\ndocument.getElementById(e.id + 'like').classList.replace('far', 'fas');\r\nawait network.post(`/api/preferences`, {\r\nusername: user.username,\r\ntype: 'artist',\r\nitem_id: e.id\r\n}).then((res) => {\r\nif (res.data.deleted)\r\nnetwork.patch(`/api/artists/like/${e.id}`, {\r\nis_liked: e.is_liked + 1,\r\n})});\r\n}\r\n} catch (response) {\r\nconsole.log(response)\r\n}\r\n}\r\n\r\n\r\nconst makeArtists = (artists, preferences) => {\r\nlet array = artists.map(e => {\r\nconst heart = preferences.includes(e.id.toString()) ? \r\n<button  onClick={() => isLiked(e, preferences)} id={e.id + 'like'} className=\"like fas fa-heart\"/> :\r\n<button  onClick={() => isLiked(e, preferences)} id={e.id + 'like'} className=\"like far fa-heart\"/>\r\nconst deleteButton = <button onClick={() => deleteArtist(e)} className=\"deleteButton\">Delete</button>;\r\nconst like = user ? heart :  null;\r\nconst adminDelete = user && user.is_admin ? deleteButton : null;\r\n\r\nreturn (\r\n            <MemoArtist\r\n            key={e.id}\r\n            item={e}\r\n            adminDelete={adminDelete}\r\n            like={like}\r\n            include={preferences.includes(e.id.toString())}\r\n            />\r\n)}\r\n)\r\nsetList(array)\r\nsetLoading(false)\r\n}\r\n\r\n\r\nconst filterFavorites = favorites ?  <i className=\"fas fa-heart\"></i> : <i className=\"far fa-heart\"></i>\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div> \r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n<p className='listTitle'>\r\n<NavLink className=\"fa fa-plus-square-o add\" to=\"/PostArtist\"></NavLink>  \r\n{\" \"} Artists</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<button onClick={() => handleSearch()} className=\"searchButton\">Search</button>\r\n{user ? <i className=\"filterFavorites\" onClick={() => handleFavorite()}>{filterFavorites}</i> : ''}\r\n<ul className=\"grid-container\">\r\n{list}\r\n</ul>\r\n</div>\r\n  );\r\n}\r\n\r\nexport default Artists;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n  \r\nimport React, { useContext, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport network from '../Network.js';\r\nimport UserContext from '../UserContext'\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\n\r\nfunction Playlist({item, adminDelete, like, include}){\r\n\r\nlet match = useRouteMatch();\r\n\r\nreturn (\r\n<li className=\"grid-item\">\r\n<span style={{cursor:'pointer'}} >{like} </span>\r\n<p style={{width: like ? '195px': '250px'}}>\r\n<NavLink className=\"navTo\"  to={`${match.url}/${item.id}`}>\r\n{item.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`${match.url}/${item.id}`}>\r\n<img onError={(item)=>{item.target.onerror = null; item.target.src=\"/no_image.jpg\"}} alt={item.name} width=\"250\" height=\"250\" src={item.cover_img}></img>\r\n</NavLink>\r\n{adminDelete}\r\n</li>\r\n)}\r\n\r\nconst MemoPlaylist = React.memo(Playlist, (prevProps, nextProps) => {\r\n  if (prevProps.include === nextProps.include) {\r\n    return true;\r\n  }\r\n  return false;\r\n});\r\n\r\n\r\nfunction Playlists(props) {\r\nconst [list, setList] = useStateIfMounted([])\r\nconst [search, setSearch] = useStateIfMounted('')\r\nconst [favorites, setFavorites] = useStateIfMounted(false)\r\nconst [toggle, setToggle] = useStateIfMounted(0)\r\nconst [loading, setLoading] = useStateIfMounted(true);\r\n\r\n\r\nconst user = useContext(UserContext)\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try{\r\n      const artists = await (await axios.get(`/api/playlists?name=${search}`)).data;\r\n      const preferences = user ? await (await axios.get(`/api/preferences/playlist/${user.username}`)).data : [];\r\n      let prefArray = preferences.map(e => e.item_id)\r\n      let list = artists.filter(e => e.name.toUpperCase().includes(search.toUpperCase()))\r\n      if (!favorites) {\r\n      makePlaylists(list, prefArray) \r\n      } else {\r\n      let favoriteList = list.filter(e => prefArray.includes(e.id.toString()))\r\n      makePlaylists(favoriteList, prefArray)\r\n      }} catch(response) {\r\n    setLoading(false)\r\n    return\r\n      }\r\n    }; fetchData();\r\n   }, [toggle, favorites])\r\n\r\nconst handleSearch = () => {\r\nsetToggle(e => e + 1)\r\nsetLoading(true)\r\n}\r\n\r\nconst handleFavorite = () => {\r\nsetFavorites(!favorites)\r\nsetLoading(true)\r\n}\r\n\r\nconst deletePlaylist = async (e) => {\r\nawait network.delete(`/api/playlists/${e.id}`);\r\nsetToggle(e => e + 1)\r\n};\r\n\r\n\r\nconst isLiked = async (e) => {\r\ntry{\r\nif (document.getElementById(e.id + 'like').className.includes('fas')){\r\ndocument.getElementById(e.id + 'like').classList.replace('fas', 'far');\r\nawait network.patch(`/api/preferences`, {\r\nusername: user.username,\r\ntype: 'playlist',\r\nitem_id: e.id\r\n}).then((res) => {\r\nif (res.data.deleted)\r\nnetwork.patch(`/api/playlists/like/${e.id}`, {\r\nis_liked: e.is_liked - 1,\r\n})})\r\n} else {\r\ndocument.getElementById(e.id + 'like').classList.replace('far', 'fas');\r\nawait network.post(`/api/preferences`, {\r\nusername: user.username,\r\ntype: 'playlist',\r\nitem_id: e.id\r\n}).then((res) => {\r\nif (res.data.deleted)\r\nnetwork.patch(`/api/playlists/like/${e.id}`, {\r\nis_liked: e.is_liked + 1,\r\n})});\r\n}\r\n} catch (response) {\r\nconsole.log(response)\r\n}\r\n}\r\n\r\n\r\nconst makePlaylists = (playlists, preferences) => {\r\nlet array = playlists.map(e => {\r\ndocument.getElementById(e.id + 'like') && document.getElementById(e.id + 'like').removeAttribute('disabled');\r\nconst heart = preferences.includes(e.id.toString()) ? \r\n<button  onClick={() => isLiked(e, preferences)} id={e.id + 'like'} className=\"like fas fa-heart\"/> :\r\n<button  onClick={() => isLiked(e, preferences)} id={e.id + 'like'} className=\"like far fa-heart\"/>\r\nconst deleteButton = <button onClick={() => deletePlaylist(e)} className=\"deleteButton\">Delete</button>;\r\nconst like = user ? heart :  null;\r\nconst adminDelete = user && user.is_admin ? deleteButton : null;\r\n\r\nreturn (\r\n            <MemoPlaylist\r\n            key={e.id}\r\n            item={e}\r\n            adminDelete={adminDelete}\r\n            like={like}\r\n            include={preferences.includes(e.id.toString())}\r\n            />\r\n)}\r\n)\r\nsetList(array)\r\nsetLoading(false)\r\n}\r\n\r\nconst filterFavorites = favorites ?  <i className=\"fas fa-heart\"></i> : <i className=\"far fa-heart\"></i>\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div> \r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n<p className='listTitle'>\r\n<NavLink className=\"fa fa-plus-square-o add\" to=\"/PostPlaylist\"></NavLink>  \r\n{\" \"} Playlists</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<button onClick={() => handleSearch()} className=\"searchButton\">Search</button>\r\n{user ? <i className=\"filterFavorites\" onClick={() => handleFavorite()}>{filterFavorites}</i> : ''}\r\n<ul className=\"grid-container\">\r\n{list}\r\n</ul>\r\n</div>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default Playlists;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useContext, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useRouteMatch,\r\n  } from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport network from '../Network.js';\r\nimport UserContext from '../UserContext'\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\n\r\nfunction Album({item, adminDelete, like, include}){\r\n\r\nlet match = useRouteMatch();\r\n\r\nreturn (\r\n<li className=\"grid-item\">\r\n<span style={{cursor:'pointer'}}>{like} </span>\r\n<p style={{width: like ? '195px': '250px'}}>\r\n<NavLink className=\"navTo\" to={`${match.url}/${item.id}`}>\r\n{item.Artist ? <> {item.name} - {item.Artist.name} </> : <> {item.name}</>}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`${match.url}/${item.id}`}>\r\n<img onError={(item)=>{item.target.onerror = null; item.target.src=\"/no_image.jpg\"}} alt={item.name} width=\"250\" height=\"250\" src={item.cover_img}></img>\r\n</NavLink>\r\n{adminDelete}\r\n</li>\r\n)}\r\n\r\nconst MemoAlbum = React.memo(Album, (prevProps, nextProps) => {\r\n  if (prevProps.include === nextProps.include) {\r\n    return true;\r\n  }\r\n  return false;\r\n});\r\n\r\n\r\nfunction Albums(props) {\r\nconst [list, setList] = useStateIfMounted([])\r\nconst [search, setSearch] = useStateIfMounted('')\r\nconst [toggle, setToggle] = useStateIfMounted(0)\r\nconst [favorites, setFavorites] = useStateIfMounted(false)\r\nconst [loading, setLoading] = useStateIfMounted(true);\r\n\r\nconst user = useContext(UserContext)\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try{\r\n      const albums = await (await axios.get(`/api/albums?name=${search}`)).data;\r\n      const preferences = user ? await (await axios.get(`/api/preferences/album/${user.username}`)).data : [];\r\n      let prefArray = preferences.map(e => e.item_id)\r\n      let list = albums.filter(e => e.name.toUpperCase().includes(search.toUpperCase()))\r\n      if (!favorites) {\r\n      makeAlbums(list, prefArray) \r\n      } else {\r\n      let favoriteList = list.filter(e => prefArray.includes(e.id.toString()))\r\n      makeAlbums(favoriteList, prefArray)\r\n      }} catch(response) {\r\n    setLoading(false)\r\n    return\r\n      }\r\n    }; fetchData();\r\n   }, [toggle, favorites])\r\n\r\nconst handleSearch = () => {\r\nsetToggle(e => e + 1)\r\nsetLoading(true)\r\n}\r\n\r\nconst deleteAlbum = async (e) => {\r\nawait network.delete(`/api/albums/${e.id}`);\r\nsetToggle(e => e + 1)\r\n};\r\n\r\nconst handleFavorite = () => {\r\nsetFavorites(!favorites)\r\nsetLoading(true)\r\n}\r\n\r\nconst isLiked = async (e) => {\r\ntry{\r\nif (document.getElementById(e.id + 'like').className.includes('fas')){\r\ndocument.getElementById(e.id + 'like').classList.replace('fas', 'far');\r\nawait network.patch(`/api/preferences`, {\r\nusername: user.username,\r\ntype: 'album',\r\nitem_id: e.id\r\n}).then((res) => {\r\nif (res.data.deleted)\r\nnetwork.patch(`/api/albums/like/${e.id}`, {\r\nis_liked: e.is_liked - 1,\r\n})})\r\n} else {\r\ndocument.getElementById(e.id + 'like').classList.replace('far', 'fas');\r\nawait network.post(`/api/preferences`, {\r\nusername: user.username,\r\ntype: 'album',\r\nitem_id: e.id\r\n}).then((res) => {\r\nif (res.data.deleted)\r\nnetwork.patch(`/api/albums/like/${e.id}`, {\r\nis_liked: e.is_liked + 1,\r\n})});\r\n}\r\n} catch (response) {\r\nconsole.log(response)\r\n}\r\n}\r\n\r\nconst makeAlbums = (albums, preferences) => {\r\nlet array = albums.map(e => {\r\nconst heart = preferences.includes(e.id.toString()) ? \r\n<button  onClick={() => isLiked(e, preferences)} id={e.id + 'like'} className=\"like fas fa-heart\"/> :\r\n<button  onClick={() => isLiked(e, preferences)} id={e.id + 'like'} className=\"like far fa-heart\"/>\r\nconst deleteButton = <button onClick={() => deleteAlbum(e)} className=\"deleteButton\">Delete</button>;\r\nconst like = user ? heart :  null;\r\nconst adminDelete = user && user.is_admin ? deleteButton : null;\r\n\r\nreturn (\r\n            <MemoAlbum\r\n            key={e.id}\r\n            item={e}\r\n            adminDelete={adminDelete}\r\n            like={like}\r\n            include={preferences.includes(e.id.toString())}\r\n            />\r\n)}\r\n)\r\nsetList(array)\r\nsetLoading(false)\r\n}\r\n\r\n\r\nconst filterFavorites = favorites ?  <i className=\"fas fa-heart\"></i> : <i className=\"far fa-heart\"></i>\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div> \r\n\r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n<p className='listTitle'>\r\n<NavLink className=\"fa fa-plus-square-o add\" to=\"/PostAlbum\"></NavLink>  \r\n{\" \"} Albums</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<button onClick={() => handleSearch()} className=\"searchButton\">Search</button>\r\n{user ? <i className=\"filterFavorites\" onClick={() => handleFavorite()}>{filterFavorites}</i> : ''}\r\n<ul className=\"grid-container\">\r\n{list}\r\n</ul>\r\n</div>\r\n  );\r\n}\r\n\r\n\r\nexport default Albums;\r\n\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useContext, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport Select from 'react-select';\r\nimport UserContext from '../UserContext'\r\nimport network from '../Network.js';\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\n\r\nfunction PostSong(props) {\r\nconst [albums, setAlbums] = useStateIfMounted([]);\r\nconst [artists, setArtists] = useStateIfMounted([]);\r\n\r\nconst [selectAlbum, setSelectAlbum] = useStateIfMounted(undefined)\r\nconst [title, setTitle] = useStateIfMounted(undefined)\r\nconst [length, setLength] = useStateIfMounted(undefined)\r\nconst [youtube_id, setYoutube_id] = useStateIfMounted(undefined)\r\nconst [artist, setArtist] = useStateIfMounted(undefined)\r\nconst [album, setAlbum] = useStateIfMounted(undefined)\r\nconst [lyrics, setLyrics] = useStateIfMounted(undefined)\r\nconst [track_number, setTrack_number] = useStateIfMounted(undefined)\r\nconst [created_at, setCreated_at] = useStateIfMounted(undefined)\r\n\r\nconst user = useContext(UserContext)\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setAlbums(await (await axios.get(`/api/albums`)).data);\r\n      setArtists(await (await axios.get(`/api/artists`)).data);\r\n    }; fetchData();\r\n   }, []);\r\n\r\n\r\nfunction validateTrack(track) {\r\n   if (/^[1-9]\\d{0,1}(?:,\\d{1,3})?$/.test(track))\r\n  {\r\n    return (true)\r\n  }\r\n    return (false)\r\n}\r\n\r\nfunction validateLength(length) {\r\nif (/^([0-5]?[0-9]|2[0-3]):[0-5][0-9]$/.test(length)) {\r\n    return (true)\r\n  }\r\n    return (false)\r\n}\r\n\r\nconst addSong = async (event, title, length, youtube_id, artist, album, track_number, lyrics, created_at) => {\r\nevent.preventDefault();\r\n    const date = new Date();\r\n    let enter = /\\n/gi\r\n\r\n  const newCreated_at = created_at.slice(0,10)\r\n  const newLyrics = lyrics.replace(enter,`&&`);\r\n  \r\n    if (!validateLength(length)) {\r\n    return document.getElementById('songError').innerHTML = 'Length form is invalid';\r\n    }\r\n    if(!validateTrack(track_number)) {\r\n    return document.getElementById('songError').innerHTML = \"Track number field must be a 2-digit number\";\r\n    }\r\n\r\n    let occupied = await axios.get(`api/songs/${youtube_id}`)  \r\n    if(occupied.data){\r\n    return document.getElementById('songError').innerHTML = 'This song was already posted';\r\n    }\r\n\r\n    try{\r\n    await network.post(`/api/songs`, {\r\n    title: title, \r\n    length: length, \r\n    youtube_id: youtube_id, \r\n    ArtistId: artist.value, \r\n    AlbumId: album.value, \r\n    track_number: track_number, \r\n    lyrics: newLyrics, \r\n    created_at: newCreated_at,\r\n    Username: user.username,\r\n    upload_at: date.toISOString().substring(0, 10)\r\n    }\r\n    )\r\n  window.location.reload(false);\r\n} catch (response){\r\n document.getElementById('songError').innerHTML = 'Only registered users can post new songs to the website';\r\n  }; \r\n};\r\n\r\nfunction form(){\r\n\r\n      function insertTitle(event) {\r\n        setTitle(event.target.value);\r\n      }\r\n      function insertLength(event) {\r\n        setLength(event.target.value);\r\n      }\r\n      function insertYoutube(event) {\r\n        setYoutube_id(event.target.value);\r\n      }\r\n      function insertTrack(event) {\r\n        setTrack_number(event.target.value);\r\n      }\r\n\r\n      function insertLyrics(event) {\r\n        setLyrics(event.target.value);\r\n      }\r\n      function insertRelease(event) {\r\n        setCreated_at(event.target.value);\r\n      }\r\n      function insertArtist(event) {\r\n       let x = event.label\r\n       setArtist(event);\r\n       setSelectAlbum(albumList.filter(e => e.label.includes(x)));\r\n      }\r\n       function insertAlbum(event) {\r\n        setAlbum(event);\r\n      }\r\n\r\nlet selectArtist = artists.map(e => ({ value: e.id, label: e.name }))\r\nlet albumList = albums.map(e => ({value: e.id, label: `${e.name} - ${e.Artist.name}` }))\r\n\r\nvar today = new Date();\r\nvar dd = today.getDate();\r\nvar mm = today.getMonth()+1;\r\nvar yyyy = today.getFullYear();\r\n if(dd<10){\r\n        dd='0'+dd\r\n    } \r\n    if(mm<10){\r\n        mm='0'+mm\r\n    } \r\ntoday = yyyy+'-'+mm+'-'+dd;\r\n\r\nreturn (\r\n <form id=\"songForm\" className=\"songForm\" onSubmit={(event) => addSong(event, title, length, youtube_id, artist, album, track_number, lyrics, created_at)}>\r\n   <div>\r\n    <label> Name of the song: </label><br/>\r\n    <input id=\"song_img\" required type=\"text\" defaultValue={title} onChange={insertTitle}/> <br/><br/>\r\n<label>Youtube ID: </label><i className='tooltip fas fa-info'> <span className=\"tooltiptext\">youtube.com/watch?v= (Youtube_ID)</span></i><br/>\r\n    <input id=\"song_id\" required type=\"text\" defaultValue={youtube_id} onChange={insertYoutube}/><br/><br/>\r\n    <label> Length: </label><i className='tooltip fas fa-info'> <span className=\"tooltiptext\">M M : S S</span></i><br/>\r\n    <input id=\"song_length\" required type=\"text\" defaultValue={length} onChange={insertLength}/> <br/><br/>\r\n    <label>Artist: </label><i className='tooltip fas fa-info'> <span className=\"tooltiptext\">You can only select uploaded artists </span></i><br/>\r\n    <Select required maxMenuHeight={160}\r\n    defaultValue={artist}\r\n    onChange={insertArtist}\r\n    options={selectArtist}>\r\n    </Select><br/>\r\n    <label> Album: </label><i className='tooltip fas fa-info'> <span className=\"tooltiptext\">You can only select an uploaded albums</span></i><br/>\r\n    <Select required maxMenuHeight={160}\r\n    defaultValue={album}\r\n    onChange={insertAlbum}\r\n    options={selectAlbum}>\r\n    </Select><br/>\r\n    <label> Track number: </label><br/>\r\n    <input id=\"song_track\" required type=\"text\" defaultValue={track_number} onChange={insertTrack}/><br/><br/>\r\n    <NavLink style={{marginTop:\"0px\"}} className=\"fa fa-arrow-left back\" to=\"/Songs\"> </NavLink>\r\n     </div>\r\n     <div>\r\n    <label> Lyrics: </label><br/>\r\n    <textarea rows=\"12\" required type=\"text\" defaultValue={lyrics} onChange={insertLyrics}/> <br/><br/>\r\n    <label> Release date: </label><br/>\r\n    <input max={today} style={{height:\"32px\"}} id=\"song_date\" required type=\"date\" defaultValue={created_at} onChange={insertRelease}/><br/><br/>\r\n    <input style={{width:\"550px\"}} type='submit' className=\"post\" value=\"Post Song\"/>\r\n    </div>\r\n    </form>\r\n\r\n)}\r\n\r\n  return (\r\n<div> \r\n{form()}\r\n<p id=\"songError\" style={{marginTop:\"10px\", marginLeft:\"20px\", fontSize:'20px', color:\"red\"}}></p>\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PostSong;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useContext, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport Select from 'react-select';\r\nimport UserContext from '../UserContext'\r\nimport network from '../Network.js';\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\n\r\nfunction PostAlbum(props) {\r\nconst [artists, setArtists] = useStateIfMounted([]);\r\n\r\nconst user = useContext(UserContext)\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setArtists(await (await axios.get(`/api/artists`)).data);\r\n    }; fetchData();\r\n   }, []);\r\n  \r\n\r\n  const addAlbum = async (event, name, image, artist, created_at) => {\r\n   event.preventDefault();\r\n    const date = new Date();\r\n  const newCreated_at = created_at.slice(0,10)\r\n\r\n    if(!artist) {\r\n    return document.getElementById('albumError').innerHTML = \"Select an artist\";\r\n    }\r\n    try{\r\n    await network.post(`/api/albums`, {\r\n    name: name, \r\n    ArtistId: artist.value,\r\n    cover_img: image,\r\n    created_at: newCreated_at,\r\n    username: user.username,\r\n    upload_at: date.toISOString().substring(0, 10)\r\n    })\r\n  window.location.reload(false);\r\n} catch (response){\r\n  document.getElementById('albumError').innerHTML = 'Only registered users can post new albums to the website!';\r\n  }; \r\n};\r\n\r\n\r\nfunction form(){\r\nlet name;\r\nlet image;\r\nlet created_at;\r\nlet artist;\r\n\r\n      function insertName(event) {\r\n        name = event.target.value;\r\n      }\r\n      function insertImage(event) {\r\n        image = event.target.value;\r\n      }\r\n\r\n      function insertRelease(event) {\r\n        created_at = event.target.value;\r\n      }\r\n\r\n      function insertArtist(event) {\r\n        artist = event;\r\n      }\r\n\r\nvar today = new Date();\r\nvar dd = today.getDate();\r\nvar mm = today.getMonth()+1;\r\nvar yyyy = today.getFullYear();\r\n if(dd<10){\r\n        dd='0'+dd\r\n    } \r\n    if(mm<10){\r\n        mm='0'+mm\r\n    } \r\n\r\ntoday = yyyy+'-'+mm+'-'+dd;\r\n\r\n\r\nlet selectArtist = artists.map(e => ({ value: e.id, label: e.name }))\r\n\r\nreturn (\r\n <form id=\"albumForm\" className=\"albumForm\" onSubmit={(event) => addAlbum(event, name, image, artist, created_at)}>\r\n   <div>\r\n    <label> Name of the Album: </label><br/>\r\n    <input id=\"album_name\" required type=\"text\" defaultValue={name} onChange={insertName}/> <br/><br/>\r\n    <br/>\r\n    <label>Artist: </label><i class='tooltip fas fa-info'> <span class=\"tooltiptext\">You can only post albums of uploaded artists</span></i><br/>\r\n    <Select style={{}} required maxMenuHeight={160}\r\n    defaultValue={artist}\r\n    onChange={insertArtist}\r\n    options={selectArtist}>\r\n    </Select><br/><br/>\r\n    <label> Cover image URL </label><br/>\r\n    <input id=\"album_img\" required type=\"text\" defaultValue={image} onChange={insertImage}/><br/><br/>\r\n    <br/>\r\n    <label> Release date: </label><br/>\r\n   <input max={today} style={{height:\"32px\"}} id=\"album_date\" required type=\"date\" defaultValue={created_at} onChange={insertRelease}/><br/><br/>\r\n    <br/>\r\n    <input type='submit' className=\"post\" value=\"Post Album\"/>\r\n    <NavLink style={{marginTop:'-50px'}} className=\"fa fa-arrow-left back\" to=\"/Albums\"></NavLink>\r\n    </div>\r\n    </form>\r\n\r\n)}\r\n\r\n  return (\r\n<div> \r\n{form()}\r\n<p id=\"albumError\" style={{marginTop:\"0px\", marginLeft:\"130px\", fontSize:'20px', color:\"red\"}}></p>\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PostAlbum;\r\n","import React, { useContext } from 'react';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport UserContext from '../UserContext'\r\nimport network from '../Network.js';\r\n\r\nfunction PostArtist(props) {\r\n\r\n  const user = useContext(UserContext)\r\n\r\n  const addArtist = async (event, name, image) => {\r\n  event.preventDefault();\r\n  const date = new Date();\r\n\r\n    try{\r\n    await network.post(`/api/artists`, {\r\n    name: name, \r\n    cover_img: image,\r\n    username: user.username,\r\n    upload_at: date.toISOString().substring(0, 10)\r\n    })\r\n  document.getElementById(\"artistForm\").reset();\r\n} catch (response){\r\n   document.getElementById('artistError').innerHTML = \"Only registered users can post new artists to the website\";\r\n  }; \r\n};\r\n\r\n\r\nfunction form(){\r\nlet name;\r\nlet image;\r\n\r\n      function insertName(event) {\r\n        name = event.target.value;\r\n      }\r\n      function insertImage(event) {\r\n        image = event.target.value;\r\n      }\r\n\r\nreturn (\r\n <form id=\"artistForm\" onSubmit={(event) => addArtist(event, name, image)}>\r\n   <div>\r\n    <label> Name of the Artist: </label><br/>\r\n    <input id=\"artist_name\" required type=\"text\" defaultValue={name} onChange={insertName}/> <br/><br/>\r\n  <br/> <br/>\r\n    <label> Artist image URL </label><br/>\r\n    <input id=\"artist_img\" required type=\"text\" defaultValue={image} onChange={insertImage}/><br/><br/>\r\n  <br/> <br/>\r\n    <input type='submit' className=\"post\" value=\"Post Artist\"/>\r\n    <NavLink style={{marginTop:'-50px'}} className=\"fa fa-arrow-left back\" to=\"/Artists\"></NavLink>\r\n    </div>\r\n    </form>\r\n\r\n)}\r\n\r\n  return (\r\n<div className=\"artistForm\"> \r\n{form()}\r\n<p id=\"artistError\" style={{marginTop:\"-2px\", marginLeft:\"120px\", fontSize:'20px', color:\"red\"}}></p>\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PostArtist;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, {useContext, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport Select from 'react-select';\r\nimport UserContext from '../UserContext'\r\nimport network from '../Network.js';\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\n\r\nfunction PostPlaylist(props) {\r\nconst [songs, setSongs] = useStateIfMounted([])\r\n\r\nconst user = useContext(UserContext)\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n    const songs = await axios.get(`/api/songs`);\r\n    let selectSong = songs.data.map(e => { return { artist: e.Artist.name, value: e.youtube_id, label: `${e.title} - ${e.Artist.name}`}} )\r\nsetSongs(selectSong)\r\n\r\n    }; fetchData();\r\n   }, []); \r\n\r\n  const addPlaylist = async (event, name, songs, image) => {\r\n  event.preventDefault();\r\n  const date = new Date();\r\n\r\n\r\n    if(!songs) {\r\n    return document.getElementById('playlistError').innerHTML = \"Select songs\";\r\n    }\r\n    try{\r\n    await network.post(`/api/playlists`, {\r\n    name: name, \r\n    username: user.username,\r\n    cover_img: image,\r\n    created_at: date.toISOString().substring(0, 10)\r\n    }).then( async (result) => {\r\n    await network.post(`/api/songinplaylist`, {\r\n    id: result.data.id, \r\n    songs: JSON.stringify(songs)\r\n    })\r\n    })\r\n  window.location.reload(false);\r\n  document.getElementById(\"playlistForm\").reset();\r\n} catch (response){\r\ndocument.getElementById('playlistError').innerHTML = 'Only registered users can post new playlists to the website!';\r\n  }; \r\n};\r\n\r\n\r\nfunction form(){\r\nlet name;\r\nlet image;\r\nlet song;\r\n\r\n      function insertName(event) {\r\n        name = event.target.value;\r\n      }\r\n      function insertImage(event) {\r\n        image = event.target.value;\r\n      }\r\n\r\n      function insertSongs(event) {\r\n        song = event;\r\n      }\r\n\r\nlet selectSong = songs\r\n\r\n\r\nreturn (\r\n <form style={{marginTop:\"150px\"}} id=\"playlistForm\" onSubmit={(event) => addPlaylist(event, name, song, image)}>\r\n   <div>\r\n    <label> Name of the Playlist: </label><br/>\r\n    <input id=\"playlist_name\" required type=\"text\" defaultValue={name} onChange={insertName}/> <br/><br/>\r\n    <br/>\r\n    <label> Songs: </label><br/>\r\n    <Select\r\n    required\r\n    maxMenuHeight={160}\r\n    isMulti\r\n    defaultValue={song}\r\n    onChange={insertSongs}\r\n    options={selectSong}>\r\n    </Select><br/>\r\n    <br/>\r\n    <label> Cover image URL </label><br/>\r\n    <input id=\"artist_img\" required type=\"text\" defaultValue={image} onChange={insertImage}/><br/><br/>\r\n  <br/>\r\n    <input type='submit' className=\"post\" value=\"Post Playlist\"/>\r\n   <NavLink  style={{marginTop:'-50px'}} className=\"fa fa-arrow-left back\"  to=\"/Playlists\"></NavLink>\r\n    </div>\r\n    </form>\r\n\r\n)}\r\n\r\n  return (\r\n<div className=\"playlistForm\"> \r\n{form()}<p id=\"playlistError\" style={{marginLeft:\"120px\", fontSize:'20px', color:\"red\"}}></p>\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PostPlaylist;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, {useContext} from 'react';\r\nimport {\r\n  NavLink,\r\n   useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport UserContext from '../UserContext'\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\n\r\nexport default function Uploads(props){\r\nconst [search, setSearch] = useStateIfMounted(undefined)\r\n\r\nlet match = useRouteMatch();\r\n\r\nconst user = useContext(UserContext)\r\n\r\nreturn(\r\n<div style={{position:'relative', width:\"92%\", top:'0px'}}>\r\n<p className='listTitle'>Search user</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<NavLink to={search ? `${match.url}/${search}` : `${match.url}`}>\r\n<button className=\"searchButton\">Search</button>\r\n</NavLink>\r\n{ user ? \r\n<NavLink to={`${match.url}/${user.username}`}>\r\n<button style={{position:'relative', textAlign:\"right\", width:\"108%\", top:\"550px\", marginBottom:\"0px\"}} className=\"post\">To my uploads</button>\r\n</NavLink> : '' }\r\n</div>\r\n)\r\n}\r\n\r\n\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nfunction NoFound() {\r\nconst [unfound, setUnfound] = useState(undefined)\r\nconst [loading, setLoading] = useState(true);\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      setUnfound(page)\r\n      setLoading(false)\r\n    }; fetchData();\r\n   }, [])\r\n\r\n let page =\r\n<div>\r\n<p style={{height:\"100px\", marginTop:\"-50px\", fontSize:\"400px\",textAlign:\"center\",width:\"825px\"}} className=\"dataTitle\">404</p>\r\n<p style={{marginBottom:\"-100px\", position:'relative', fontSize:\"120px\",textAlign:\"right\",width:'95%'}} className=\"listTitle\">Page not found</p>\r\n</div>\r\n\r\n  const override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n{unfound}\r\n</div>\r\n  )}\r\n  \r\nexport default NoFound;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\nimport ReactPlayer from 'react-player/youtube'\r\n\r\nfunction AlbumData(props) {\r\n\r\nconst [album, setAlbum] = useStateIfMounted(undefined);\r\nconst [loading, setLoading] = useStateIfMounted(true);\r\n\r\nlet { albumId } = useParams();\r\n\r\n\r\n   useEffect(() => {\r\n  const fetchData = async () => {\r\n      try{\r\n      const { data } = await axios.get(`/api/albums/${albumId}`)\r\n      makeID(data.album, data.songs)\r\n      } catch(response) {\r\n        setLoading(false)\r\n  return setAlbum(<p style={{top:\"430px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">Unknown album</p>)\r\n  }\r\n    }; fetchData();\r\n   }, [])\r\n\r\n\r\nconst makeID = (e, songs) => {\r\n\r\nlet url = [];\r\n\r\nlet list = songs.map(e => {\r\nurl.push(`https://www.youtube.com/watch?v=${e.youtube_id}`)\r\nreturn (\r\n<li key={e.youtube_id} className=\"item\">\r\n<NavLink className=\"navTo\" to={`/songs/${e.youtube_id}?album=${albumId}`} >\r\n<span>\t&#119136; &nbsp; {e.title} </span>\r\n<span style={{float:\"right\"}}>{e.length}</span>\r\n</NavLink>\r\n</li>\r\n)\r\n})    \r\n\r\nlet x = () => {\r\nreturn (\r\n<div style={{marginLeft:'50px'}}>\r\n<p className=\"dataTitle\">{e.name}</p>\r\n\r\n<div style={{width:'100%', marginTop:'-60px', color:\"white\", display:\"flex\"}}>\r\n\r\n<div style={{fontSize:'20px', width:'36%', marginRight:\"2%\"}}>\r\n<ReactPlayer playing url={url} controls={true} width=\"100%\" height=\"450px\" /><br/>\r\n<i><strong>{e.is_liked}</strong> people liked this album</i><br/>\r\n<br/><br/>\r\n<i><strong>Artist:</strong>{\" \"} {e.Artist.name}</i><br/>\r\n<i><strong>Release date:</strong>{\" \"} {e.created_at.substr(0, 10)}</i>\r\n</div>\r\n\r\n<div style={{width:'62%'}}>\r\n<h6 className=\"songsTitle\">Songs</h6>\r\n<div className=\"dataItem\">\r\n{list}\r\n</div>\r\n\r\n</div>\r\n</div>\r\n<NavLink className=\"fa fa-arrow-left back\" to=\"/albums\"></NavLink>\r\n</div>\r\n);\r\n}\r\nsetAlbum(x)\r\nsetTimeout(() => {\r\nsetLoading(false) \r\n}, 1500);\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n\r\n  return (\r\nalbum ? <div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n{album}\r\n</div>\r\n: null\r\n  );\r\n  }\r\n\r\nexport default AlbumData;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\n\r\nfunction ArtistData(props) {\r\nconst [loading, setLoading] = useStateIfMounted(true);\r\nconst [artist, setArtist] = useStateIfMounted(undefined)\r\n\r\nlet { artistId } = useParams();\r\n\r\nuseEffect(() => {\r\n  const fetchData = async () => {\r\n      try{\r\n      const { data } = await axios.get(`/api/artists/${artistId}`)\r\n      makeID(data.artist, data.albums, data.songs)\r\n  } catch(response) {\r\n        setLoading(false)\r\n    return setArtist(<p style={{top:\"430px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">Unknown artist</p>)\r\n  }\r\n    }; fetchData();\r\n   }, [])\r\n\r\n\r\nfunction makeID(e, albums, songs){\r\nlet z = 100;\r\n\r\nlet songList = songs.map(e => {\r\nz--;\r\n\r\nreturn (\r\n<li key={e.youtube_id} className=\"item\">\r\n<NavLink className=\"navTo\" to={`/songs/${e.youtube_id}?artist=${artistId}`} >\r\n<span>\t&#119136; &nbsp; {e.title} </span>\r\n<span style={{float:\"right\"}}>{e.length}</span>\r\n</NavLink>\r\n</li>   \r\n)})\r\n\r\nlet albumList = albums.map(e => {\r\nreturn (\r\n<div style={{zIndex:z}} key={e.name} className=\"hov grid-item3\">\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}?artist=${artistId}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"200\" height=\"200\" src={e.cover_img}></img>\r\n</NavLink>\r\n<p>\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}?artist=${artistId}`}>{e.name}</NavLink>\r\n</p>\r\n</div>   \r\n)\r\n})    \r\n\r\nlet x = () => {\r\nreturn (\r\n<div style={{marginLeft:'50px', width:\"96.5%\"}}>\r\n<p className=\"dataTitle\">{e.name}</p>\r\n<br/><br/>\r\n\r\n<div style={{width:'100%', marginTop:'-105px', color:\"white\", display:\"flex\"}}>\r\n\r\n<div style={{fontSize:'20px', width:'36%', marginRight:\"2%\"}}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"100%\" height=\"450px\" src={e.cover_img}></img>\r\n<br/>\r\n<i><strong>{e.is_liked}</strong> people liked this artist</i><br/>\r\n\r\n</div>\r\n\r\n<div style={{width:'62%', marginLeft:'40px'}}>\r\n<h6 className=\"songsTitle\">Songs</h6>\r\n<div className=\"dataItem\">\r\n{songList}\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<h6 style={{textAlign:\"left\", left:\"10px\", marginTop:'0px'}} className=\"songsTitle\">Albums</h6>\r\n<div className=\"artistData\">\r\n{albumList}\r\n</div>\r\n<br/><br/><br/>\r\n<NavLink className=\"fa fa-arrow-left back\" to=\"/artists\"></NavLink>\r\n</div>\r\n)}\r\nsetArtist(x)\r\nsetTimeout(() => {\r\nsetLoading(false) \r\n}, 1500);\r\n}\r\n\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n{artist}\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default ArtistData;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport ReactPlayer from 'react-player/youtube'\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\n\r\nfunction PlaylistData(props) {\r\nconst [loading, setLoading] = useStateIfMounted(true);\r\nconst [playlist, setPlaylist] = useStateIfMounted(undefined)\r\nlet { playlistId } = useParams();\r\n\r\nuseEffect(() => {\r\n  const fetchData = async () => {\r\n      try{\r\n      const { data } = await axios.get(`/api/playlists/${playlistId}`);\r\n      const songs = await axios.get(`/api/songinplaylist/${playlistId}`)\r\n      makeID(data, songs.data)\r\n  } catch(response) {\r\n        setLoading(false)\r\n    return setPlaylist(<p style={{top:\"430px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">Unknown playlist</p>)\r\n  }\r\n    }; fetchData();\r\n   }, [])\r\n\r\n  \r\n\r\nfunction makeID(e, songs){\r\n\r\nlet url = [];\r\n\r\nlet list = songs.map(e => {\r\nurl.push(`https://www.youtube.com/watch?v=${e.Song.youtube_id}`)\r\nreturn (\r\n<li key={e.Song.youtube_id} className=\"item\">\r\n<NavLink className=\"navTo\" to={`/songs/${e.Song.youtube_id}?playlist=${playlistId}`}>\r\n<span>\t&#119136; &nbsp; {e.Song.title} - {e.artist} </span>\r\n<span style={{float:\"right\"}}>{e.Song.length}</span>\r\n</NavLink>\r\n</li>   \r\n)\r\n})    \r\n\r\nlet x = () => {\r\nreturn (\r\n<div style={{marginLeft:'50px'}}>\r\n<p className=\"dataTitle\">{e.name}</p>\r\n<br/><br/>\r\n<div style={{width:'100%',marginTop:'-105px', color:\"white\", display:\"flex\"}}>\r\n<div style={{fontSize:'20px', width:'36%', marginRight:\"2%\"}}>\r\n<ReactPlayer playing url={url} controls={true} width=\"100%\" height=\"450px\" />\r\n<br/>\r\n<i><strong>{e.is_liked}</strong> people liked this playlist</i>\r\n<br/><br/><br/>\r\n<i><strong>Created by:</strong>{\" \"} {e.username}</i><br/><br/><br/>\r\n</div>\r\n<div style={{width:'62%'}}>\r\n<h6 className=\"songsTitle\">Songs</h6>\r\n<div className=\"dataItem\">\r\n{list}\r\n</div>\r\n</div>\r\n</div>\r\n<NavLink className=\"fa fa-arrow-left back\" to=\"/playlists\"></NavLink>\r\n</div>\r\n)}\r\nsetPlaylist(x)\r\nsetTimeout(() => {\r\nsetLoading(false) \r\n}, 1500);\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n{playlist}\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PlaylistData;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport YouTube from 'react-youtube';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\n\r\nfunction SongData(props) {\r\nconst [song, setSong] = useStateIfMounted(undefined)\r\nconst [loading, setLoading] = useStateIfMounted(true);\r\n\r\nlet { songId } = useParams();\r\n\r\nconst playCount = async (e) => {\r\nawait axios.patch(`/api/songs/count/${e.youtube_id}`, {\r\nplay_count: e.play_count + 1,\r\n});\r\n};\r\nuseEffect(() => {\r\n  const fetchData = async () => {\r\n      try{\r\n      const { data } = await axios.get(`/api/songs/${songId}`)\r\n      makeID(data)\r\n  } catch(response) {\r\n        setLoading(false)\r\n      console.log(response)\r\n    return setSong(<p style={{top:\"430px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">Unknown song</p>)\r\n  }\r\n    }; fetchData();\r\n   }, [])\r\n\r\n\r\n       \r\nfunction makeID(e){\r\nlet lyrics = '' \r\nlyrics = e.lyrics.split(\"&&\").map(function(item, idx) {\r\n        return (\r\n            <span key={idx}>\r\n                {item}\r\n                <br/>\r\n            </span>\r\n         )}) \r\n\r\nlet x = () => {\r\nreturn(\r\n  <div>\r\n<div  style={{marginLeft:'50px'}}>\r\n<p className=\"dataTitle\">{e.title}</p>\r\n<br/>\r\n<div className=\"songDataPage\">\r\n\r\n<div>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)} videoId={e.youtube_id} id=\"video\" opts={{width:\"500\",height:\"500\"}}/>\r\n<br/>\r\n<i><strong>{e.is_liked}</strong>  people liked this song</i><br/><br/>\r\n<i><strong>Views:</strong>{\" \"} {e.play_count}</i><br/>\r\n\r\n<i className=\"hov\"><strong>Artist:</strong>\r\n<i>\r\n<NavLink className=\"navTo\" to={`/artists/${e.Artist && e.Artist.id}`}>\r\n{\" \"} {e.Artist.name}\r\n</NavLink>\r\n</i>\r\n</i><br/>\r\n\r\n<i className=\"hov\"><strong>Album:</strong>\r\n<i>\r\n<NavLink className=\"navTo\" to={`/artists/${e.Album && e.Album.id}`}>\r\n{\" \"} {e.Album.name}\r\n</NavLink>\r\n</i>\r\n</i><br/>\r\n<i><strong>Release date:</strong>{\" \"} {e.created_at.substr(0, 10)}</i>\r\n</div>\r\n\r\n\r\n<div className=\"dataLyrics\">\r\n<strong style={{fontSize:\"30px\"}}>Lyrics:</strong><br/>\r\n<br/>\r\n{lyrics}\r\n</div>\r\n</div>\r\n</div>\r\n<br/><br/>\r\n<NavLink style={{marginTop:'0px', marginLeft:'50px'}}  className=\"fa fa-arrow-left back\" to=\"/songs\"></NavLink>\r\n</div>\r\n)}\r\nsetSong(x)\r\nsetLoading(false)\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n{song}\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default SongData;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, {useContext, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport YouTube from 'react-youtube';\r\nimport {\r\nNavLink,\r\nuseParams,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport ScrollContainer from 'react-indiana-drag-scroll'\r\nimport UserContext from '../UserContext'\r\nimport network from '../Network.js';\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\nimport { useConfirm } from \"material-ui-confirm\";\r\n\r\nexport default function UploadsData(props) {\r\nconst [loading, setLoading] = useStateIfMounted(true);\r\nconst [toggle, setToggle] = useStateIfMounted(false);\r\nconst [name, setName] = useStateIfMounted('Uploads')\r\nconst [uploads, setUploads] = useStateIfMounted('')\r\nconst confirm = useConfirm();\r\n\r\nconst user = useContext(UserContext)\r\n\r\nlet { userId } = useParams()\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n      const { data } = await axios.get(`/api/users/uploads/${userId}`)\r\n      makeLists(data.user, data.songs, data.albums, data.artists, data.playlists)\r\n      } catch {\r\n    setLoading(false)\r\n    return setUploads(<p style={{top:\"430px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">User doesn't exist</p>)\r\n      }\r\n    }; fetchData();\r\n   }, [toggle, user, name])\r\n\r\nconst playCount = async (e) => {\r\nawait axios.patch(`/api/songs/count/${e.youtube_id}`, {\r\nplay_count: e.play_count + 1,\r\n});\r\n};\r\n\r\nconst deleteSong = async (e) => {\r\nconfirm({ description: `This will permanently delete ${e.title}.` })\r\n.then( async () => { await network.delete(`/api/songs/${e.youtube_id}`); setToggle(!toggle)})\r\n.catch(() => {return});\r\n};\r\nconst deleteArtist = async (e) => {\r\nconfirm({ description: `This will permanently delete ${e.name}.` })\r\n.then( async () => { await network.delete(`/api/artists/${e.id}`); setToggle(!toggle)})\r\n.catch(() => {return});\r\n};\r\nconst deleteAlbum = async (e) => {\r\nconfirm({ description: `This will permanently delete ${e.name}.` })\r\n.then( async () => { await network.delete(`/api/albums/${e.id}`); setToggle(!toggle)})\r\n.catch(() => {return});\r\n};\r\n\r\nconst deletePlaylist = async (e) => {\r\nconfirm({ description: `This will permanently delete ${e.name}.` })\r\n.then( async () => { await network.delete(`/api/playlists/${e.id}`); setToggle(!toggle)})\r\n.catch(() => {return});\r\n};\r\n\r\n\r\nconst makeLists = (username, songs, albums, artists, playlists) => {\r\n\r\nlet capitalUserId = userId.charAt(0).toUpperCase() + userId.slice(1)\r\nif (user) {\r\nif(user.username.toUpperCase() === userId.toUpperCase()){\r\nsetName('My Uploads') \r\n} else {\r\nsetName(`${capitalUserId}'s Uploads`)\r\n}\r\n}\r\n\r\nlet sArray = songs.map(e => {\r\nconst deleteButton = user && user.username.toUpperCase() === e.username.toUpperCase() ? <button onClick={() => deleteSong(e)} style={{marginBottom:\"15px\", marginTop:'30px'}} className=\"fa fa-remove\"></button> : null\r\nreturn (\r\n<li key={e.youtube_id} className=\"hov\">\r\n<YouTube className=\"video\" onPlay={() => playCount(e)}videoId={e.youtube_id} id=\"video\" opts={{width:\"250\",height:\"250\"}}/>\r\n<span  style={{cursor:'pointer'}} >\r\n{deleteButton}\r\n</span>\r\n<p style={{width: deleteButton ? '220px' : null, marginTop:'20px'}}>\r\n<NavLink className=\"navTo\" to={`/songs/${e.youtube_id}`}>\r\n{e.title}\r\n</NavLink>\r\n</p>\r\n<br/>\r\n</li>\r\n)\r\n\r\n}\r\n)\r\n\r\n\r\nlet alArray = albums.map(e => {\r\nconst deleteButton = user && user.username.toUpperCase() === e.username.toUpperCase() ? <button onClick={() => deleteAlbum(e)} className=\"fa fa-remove\"></button> : null\r\nreturn (\r\n<li key={e.name} className=\"hov\">\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<span style={{cursor:'pointer'}} >\r\n{deleteButton}\r\n</span>\r\n<p style={{width: deleteButton ? '220px' : null, marginTop:'0px'}}>\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}`}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<br/>\r\n</li>\r\n)}\r\n)\r\n\r\nlet arArray = artists.map(e => {\r\nconst deleteButton = user && user.username.toUpperCase() === e.username.toUpperCase() ? <button onClick={() => deleteArtist(e)} className=\"fa fa-remove\"></button> : null\r\nreturn (\r\n<li key={e.name} className=\"hov\">\r\n<NavLink className=\"navTo\"  to={`/artists/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<span style={{cursor:'pointer'}} >\r\n{deleteButton}\r\n</span>\r\n<p style={{width: deleteButton ? '220px' : null, marginTop:'0px'}}>\r\n<NavLink className=\"navTo\" to={`/artists/${e.id}`}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<br/> \r\n</li>\r\n)}\r\n) \r\nlet pArray = playlists.map(e => {\r\nconst deleteButton = user && user.username.toUpperCase() === e.username.toUpperCase() ? <button onClick={() => deletePlaylist(e)} className=\"fa fa-remove\"></button> : null\r\nreturn (\r\n<li key={e.name} className=\"hov\">\r\n<NavLink className=\"navTo\" to={`/playlists/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<span style={{cursor:'pointer'}} >\r\n{deleteButton}\r\n</span>\r\n<p style={{width: deleteButton ? '220px' : null, marginTop:'0px'}}>\r\n<NavLink className=\"navTo\"  to={`/playlists/${e.id}`}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<br/>\r\n</li>\r\n)}\r\n)\r\n\r\nlet x = () => {\r\nreturn(\r\n<div>\r\n<p id=\"listTitle\" className='listTitle'>{name}</p>\r\n<br/><br/>\r\n<div className='uploadsList'>\r\n<h6 className=\"upTitle\">Songs</h6>\r\n<ScrollContainer className=\"upload\" >\r\n{sArray}\r\n</ScrollContainer>\r\n\r\n<h6 className=\"upTitle\">Albums</h6>\r\n<ScrollContainer className=\"upload\" >\r\n{alArray}\r\n</ScrollContainer>\r\n\r\n<h6 className=\"upTitle\">Artists</h6>\r\n<ScrollContainer className=\"upload\" >\r\n{arArray}\r\n</ScrollContainer>\r\n  <h6 className=\"upTitle\">Playlists</h6>\r\n<ScrollContainer className=\"upload\" >\r\n  {pArray}\r\n  </ScrollContainer>\r\n   <NavLink className=\"fa fa-arrow-left back\"  to=\"/Uploads\"></NavLink>\r\n<br/><br/>\r\n</div>\r\n</div> \r\n)}\r\nif(username === \"user doesn't exist\"){\r\nsetUploads(<p style={{top:\"440px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">User doesn't exist</p>)\r\n} else {\r\nsetUploads(x)\r\n}\r\nsetLoading(false)\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n\r\n\r\n  return (\r\n    <div id=\"uploadsPage\">\r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n  <br/>\r\n  {uploads}\r\n</div>\r\n  );\r\n  }\r\n","/* eslint-disable eqeqeq */\r\nimport React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport './Page.css';\r\nimport Home from './components/Home.js'\r\nimport Songs from './components/Songs.js'\r\nimport Artists from './components/Artists.js'\r\nimport Playlists from './components/Playlists.js'\r\nimport Albums from './components/Albums.js'\r\nimport {\r\n  Route,\r\n  NavLink,\r\n  Switch,\r\n  withRouter,\r\n  useLocation\r\n} from \"react-router-dom\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios'\r\nimport PostSong from './components/PostSong.js';\r\nimport PostAlbum from './components/PostAlbum.js';\r\nimport PostArtist from './components/PostArtist.js';\r\nimport PostPlaylist from './components/PostPlaylist.js';\r\nimport Uploads from './components/Uploads.js';\r\nimport NoFound from './NoFound.js';\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport Slide from '@material-ui/core/Slide';\r\nimport network from './Network.js';\r\nimport { UserProvider } from './UserContext'\r\nimport AlbumData from './components/AlbumData.js';\r\nimport ArtistData from './components/ArtistData.js';\r\nimport PlaylistData from './components/PlaylistData.js';\r\nimport SongData from './components/SongData.js';\r\nimport UploadsData from './components/UploadsData.js';\r\nimport { ConfirmProvider } from \"material-ui-confirm\";\r\nimport { Mixpanel } from './AnalyticsManager';\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"down\" ref={ref} {...props} />;\r\n});\r\n\r\n\r\nfunction usePageViews() {\r\n  let location = useLocation();\r\n  useEffect(() => {\r\n    Mixpanel.track('Url change',{ loaction: location });\r\n  }, [location]);\r\n}\r\n\r\nfunction App() {\r\nconst [registerOpen, setRegisterOpen] = useState(false)\r\nconst [loginOpen,setLoginOpen] = useState(false)\r\nconst [user, setUser] = useState(undefined);\r\n\r\nusePageViews();\r\n\r\nuseEffect(() => {\r\nconst autoLogin = async () => {\r\ntry {\r\nvar date = new Date();\r\nconst { data } = await network.patch(`/api/users/auto`, {\r\nlast_login: date.toISOString().substring(0, 10),\r\n});\r\nsetUser(data)\r\nif(data.user.username) Mixpanel.identify(data.user.username)\r\nMixpanel.track('Site visit');\r\n} catch { return }\r\n}; autoLogin();\r\n}, [])\r\n\r\nconst handleLogout = () => {\r\nsetUser(undefined)\r\nlocalStorage.clear();\r\n}\r\n\r\n\r\n  const handleRegister = async (username, password, repassword) => {\r\n    try{\r\n    if (password !== repassword){\r\n    return document.getElementById('errorMessage').innerHTML='Password fields do not match';\r\n           }\r\n      let occupied = await axios.get(`api/users/${username}`)  \r\n      if(occupied.data && occupied.data.username){\r\n      return document.getElementById('errorMessage').innerHTML = 'Username is already in use';\r\n      } else {\r\n      const { data } = await network.post(`/api/users/register`, {\r\n      username: username,\r\n      password: password,\r\n      })\r\nif (data && data.success && data.token) {\r\nlocalStorage.setItem('token', data.token);\r\nsetRegisterOpen(false)   \r\nsetTimeout(() => {\r\nsetUser(data.user)\r\n}, 500);\r\nMixpanel.people.set({\r\nUSER_ID: data.user.username,\r\n      });\r\nMixpanel.track('Registration', { user: data.user.username });\r\n} else {\r\n  document.getElementById('errorMessage').innerHTML = data.message\r\n}\r\n    }\r\n  } catch (response){\r\n  document.getElementById('errorMessage2').innerHTML= response.message;\r\n  }; \r\n  }\r\n\r\n    const handleLogin = async (username, password) => {\r\n    try{\r\n      const { data } = await network.post(`/api/users/login`, {\r\n      username: username,\r\n      password: password,\r\n    });\r\nif (data && data.success && data.token) {\r\nlocalStorage.setItem('token', data.token);\r\nsetLoginOpen(false)   \r\nsetTimeout(() => {\r\nsetUser(data.user)\r\nMixpanel.identify(data.user.username)\r\nMixpanel.track('Successful login');\r\n}, 500);\r\n} else {\r\n  document.getElementById('errorMessage').innerHTML = data.message\r\n}\r\n  } catch (response) {\r\n  document.getElementById('errorMessage').innerHTML = response.message\r\n  }; \r\n};\r\n\r\n\r\nfunction login(){\r\nlet username;\r\nlet password;\r\n\r\n      function insertUsername(event) {\r\n        username = event.target.value;\r\n      }\r\n\r\n      function insertPassword(event) {\r\n        password = event.target.value;\r\n      }\r\n\r\nreturn (\r\n  <span>\r\n<Button style={{fontSize:\"20px\", marginLeft:'255px'}} variant=\"text\" color=\"inherit\" onClick={() => setLoginOpen(true)}>\r\n        Login\r\n      </Button>\r\n      <Dialog TransitionComponent={Transition} open={loginOpen} onClose={() => setLoginOpen(false)} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Login</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            onChange={insertUsername}\r\n            defaultValue={username}\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"username\"\r\n            label=\"Username\"\r\n            type=\"username\"\r\n            required\r\n            inputProps={{maxLength: 12}}\r\n            fullWidth\r\n          />\r\n            <TextField\r\n            onChange={insertPassword}\r\n            autoFocus\r\n            defaultValue={password}\r\n            margin=\"dense\"\r\n            id=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            required\r\n            minLength={{maxLength: 36}}\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogTitle style={{color:'red'}} id=\"errorMessage\"></DialogTitle>\r\n        <DialogActions>\r\n          <Button type=\"submit\" onClick={() => setLoginOpen(false)} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={() => handleLogin(username, password)} color=\"primary\">\r\n            login\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      </span>\r\n)}\r\n\r\nfunction register(){\r\nlet username;\r\nlet password;\r\nlet repassword\r\n\r\n      function insertUsername(event) {\r\n        username = event.target.value;\r\n      }\r\n\r\n      function insertPassword(event) {\r\n        password = event.target.value;\r\n      }\r\n\r\n      function insertRePassword(event) {\r\n        repassword = event.target.value;\r\n      }\r\n\r\nreturn (\r\n  <span>\r\n<Button style={{fontSize:\"20px\"}} variant=\"text\" color=\"inherit\" onClick={() => setRegisterOpen(true)}>\r\n        Register\r\n      </Button>\r\n      <Dialog TransitionComponent={Transition} open={registerOpen} onClose={() => setRegisterOpen(false)} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Register</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            onChange={insertUsername}\r\n            autoFocus\r\n            required\r\n            margin=\"dense\"\r\n            id=\"username\"\r\n            label=\"Username\"\r\n            type=\"name\"\r\n            inputProps={{maxLength: 12}}\r\n            fullWidth\r\n          />\r\n           <TextField\r\n            onChange={insertPassword}\r\n            autoFocus\r\n            required\r\n            margin=\"dense\"\r\n            id=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            inputProps={{maxLength: 36}}\r\n            fullWidth\r\n          />\r\n           <TextField\r\n            onChange={insertRePassword}\r\n            autoFocus\r\n            required\r\n            margin=\"dense\"\r\n            id=\"password\"\r\n            label=\"Confirm password\"\r\n            autoComplete=\"\"\r\n            type=\"password\"\r\n            minLength={{maxLength: 36}}\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogTitle style={{color:'red'}} id=\"errorMessage\"></DialogTitle>\r\n        <DialogActions>\r\n          <Button onClick={() => setRegisterOpen(false)} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={() => handleRegister(username, password, repassword)} color=\"primary\">\r\n            Register\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      </span>\r\n)}\r\n\r\nconst logout =\r\n<Button style={{fontSize:\"20px\"}} variant=\"text\" color=\"inherit\" onClick={() => handleLogout()}>\r\nLogout\r\n</Button>\r\n\r\nconst platform = user ? <h5> <Button disabled={true} style={{fontSize:\"20px\", color:\"rgb(180, 60, 60)\"}} variant=\"text\">{user.username}</Button> | {logout} </h5> :  <h5> {login()} | {register()} </h5>\r\n\r\n\r\nconst AnimatedSwitch = withRouter(({ location }) => (\r\n  <TransitionGroup >\r\n    <CSSTransition key={location.key} classNames=\"page\" timeout={1000}>\r\n<ConfirmProvider>\r\n<UserProvider value={user}>\r\n      <Switch location={location}>\r\n<Route exact path=\"/\" component={() => <Home/>}/>\r\n<Route exact path=\"/songs\" component={() => <Songs/>}/>\r\n<Route exact path=\"/songs/:songId\" component={() => <SongData/>}/>\r\n<Route exact path=\"/artists\" component={() => <Artists/>}/>\r\n<Route exact path=\"/artists/:artistId\" component={() => <ArtistData/>}/>\r\n<Route exact path=\"/playlists\" component={() => <Playlists/>}/>\r\n<Route exact path=\"/playlists/:playlistId\" component={() => <PlaylistData/>}/>\r\n<Route exact path=\"/albums\" component={() => <Albums/>}/>\r\n<Route exact path=\"/albums/:albumId\" component={() => <AlbumData/>}/>\r\n<Route exact path=\"/uploads\" component={() => <Uploads/>}/>\r\n<Route exact path=\"/uploads/:userId\" component={() => <UploadsData/>}/>\r\n<Route exact path=\"/PostSong\" component={() => <PostSong/>}/>\r\n<Route exact path=\"/PostAlbum\" component={() => <PostAlbum/>}/>\r\n<Route exact path=\"/PostArtist\" component={() => <PostArtist/>}/>\r\n<Route exact path=\"/PostPlaylist\" component={() => <PostPlaylist/>}/>\r\n<Route component={() => <NoFound/>}/>\r\n      </Switch>\r\n</UserProvider>\r\n</ConfirmProvider>\r\n    </CSSTransition>\r\n  </TransitionGroup>\r\n));\r\n\r\n  return (\r\n<div className=\"App\">\r\n{platform}\r\n   <div className=\"nav\">\r\n            <NavLink to=\"/\"><i style={{ fontSize:'44px', paddingTop:\"3px\", fontWeight:'normal'}} className=\"navItem fa fa-fw fa-home\" /></NavLink>\r\n            <NavLink className=\"navItem\" to=\"/songs\">Songs</NavLink>\r\n            <NavLink className=\"navItem\" to=\"/albums\">Albums</NavLink>\r\n            <NavLink className=\"navItem\" to=\"/artists\">Artists</NavLink>\r\n            <NavLink className=\"navItem\" to=\"/playlists\">Playlists</NavLink>\r\n            <NavLink className=\"navItem\" to=\"/Uploads\">Uploads</NavLink>\r\n    </div>\r\n      <AnimatedSwitch />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {\r\n  BrowserRouter as Router\r\n} from \"react-router-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\n\r\nconst history = createBrowserHistory();\r\n\r\nReactDOM.render(\r\n  <Router history={history}>\r\n    <App />\r\n  </Router>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}