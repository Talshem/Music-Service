{"version":3,"sources":["components/Home.js","components/SongData.js","components/Songs.js","components/ArtistData.js","components/Artists.js","components/PlaylistData.js","components/Playlists.js","components/AlbumData.js","components/Albums.js","components/PostSong.js","components/PostAlbum.js","components/PostArtist.js","components/PostPlaylist.js","components/Uploads.js","NoFound.js","App.js","serviceWorker.js","index.js"],"names":["Home","props","useState","songs","setSongs","albums","setAlbums","artists","setArtists","playlists","setPlaylists","loading","setLoading","songsLength","setSongsLength","albumsLength","setAlbumsLength","artistsLength","setArtistsLength","playlistsLength","setPlaylistsLength","useEffect","a","axios","get","makeLists","data","alert","fetchData","playCount","e","put","song_id","youtube_id","count","play_count","z","index","sArray","map","length","style","zIndex","key","className","to","title","artist","onPlay","videoId","id","opts","width","height","alArray","name","onError","target","onerror","src","alt","cover_img","arArray","pArray","arrowColor","active","spinner","css","color","size","user","username","naturalSlideWidth","naturalSlideHeight","visibleSlides","totalSlides","step","infinite","maxHeight","float","SongData","undefined","song","setSong","songId","useParams","makeID","lyrics","split","item","idx","marginLeft","is_liked","album","created_at","substr","fontSize","marginTop","top","textAlign","SongsList","list","setList","search","setSearch","preferences","setPreferences","admin","setAdmin","favorites","setFavorites","toggle","setToggle","disabled","setDisabled","match","useRouteMatch","email","getPreferences","isAdmin","is_admin","x","JSON","parse","filter","toUpperCase","includes","favoriteList","makeSongs","deleteSong","newId","replace","delete","isLiked","promise","Promise","resolve","reject","promise2","handleLike","then","setTimeout","array","heart","onClick","like","adminDelete","cursor","url","filterFavorites","onChange","event","value","Songs","console","log","path","ArtistData","setArtist","setName","artistId","songList","albumList","display","marginRight","marginBottom","whiteSpace","left","background","position","ArtistsList","makeArtists","deleteArtist","newName","Artists","PlaylistData","playlist","setPlaylist","playlistSongs","setPlaylistSongs","playlistId","PlaylistsList","makePlaylists","deletePlaylist","Playlists","AlbumData","setAlbum","albumId","AlbumsList","makeAlbums","deleteAlbum","Albums","PostSong","selectAlbum","setSelectAlbum","setTitle","setLength","setYoutube_id","setLyrics","track_number","setTrack_number","setCreated_at","validateLength","test","addSong","preventDefault","regex","enter","document","getElementById","innerHTML","newCreated_at","slice","newLyrics","newTitle","newArtist","newAlbum","post","user_name","window","location","reload","selectArtist","label","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","onSubmit","required","type","defaultValue","maxMenuHeight","options","rows","max","form","PostAlbum","addAlbum","image","class","PostArtist","addArtist","reset","PostPlaylist","addPlaylist","newSongs","push","selectSong","isMulti","UploadsData","setUser","setData","userId","artistList","playlistList","capitalUserId","charAt","deleteButton","UploadsSearch","Uploads","NoFound","unfound","setUnfound","page","Transition","React","forwardRef","ref","Slide","direction","App","registerOpen","setRegisterOpen","loginOpen","setLoginOpen","localStorage","getItem","autoLogin","handleLogout","clear","validateEmail","mail","handleRegister","password","repassword","code","generator","generate","numbers","occupied","auto_code","setItem","handleLogin","logout","Button","variant","platform","Dialog","TransitionComponent","open","onClose","aria-labelledby","DialogTitle","DialogContent","TextField","autoFocus","margin","fullWidth","DialogActions","login","autoComplete","register","AnimatedSwitch","withRouter","TransitionGroup","CSSTransition","classNames","timeout","exact","component","borderRight","expanded","onToggle","Toggle","Nav","defaultSelected","eventKey","paddingTop","Boolean","hostname","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.cba66777.chunk.js","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport YouTube from 'react-youtube';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport {\r\n  ButtonBack, ButtonNext, CarouselProvider, Slide, Slider,\r\n} from 'pure-react-carousel';\r\nimport 'pure-react-carousel/dist/react-carousel.es.css';\r\n\r\nfunction Home(props) {\r\nconst [songs, setSongs] = useState([]);\r\nconst [albums, setAlbums] = useState([]);\r\nconst [artists, setArtists] = useState([]);\r\nconst [playlists, setPlaylists] = useState([]);\r\nconst [loading, setLoading] = useState(true);\r\n\r\nconst [songsLength, setSongsLength] = useState(0);\r\nconst [albumsLength, setAlbumsLength] = useState(0);\r\nconst [artistsLength, setArtistsLength] = useState(0);\r\nconst [playlistsLength, setPlaylistsLength] = useState(0);\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n      const songs = await axios.get(`/top_songs`)\r\n      const albums = await axios.get(`/top_albums`);\r\n      const artists = await axios.get(`/top_artists`);\r\n      const playlists = await axios.get(`/top_playlists`);\r\n      makeLists(songs.data[0], albums.data[0], artists.data, playlists.data)\r\n      setLoading(false)\r\n      }\r\n       catch(response) {\r\n      setLoading(false)\r\n      return alert(response)\r\n      }\r\n    }; fetchData();\r\n   }, [])\r\n\r\nconst playCount = async (e) => {\r\nawait axios.put(`/count`, {\r\nsong_id: e.youtube_id,\r\ncount: e.play_count + 1,\r\n});\r\n};\r\n\r\nconst makeLists = (songs, albums, artists, playlists) => {\r\nlet z =30;\r\nlet index= 0;\r\n\r\nlet sArray = songs.map(e => {\r\nsetSongsLength(songs.length)\r\nindex++;\r\nz--;\r\nreturn (\r\n<Slide index={index} style={{zIndex: z}} key={e.youtube_id} className=\"hov carouselist\">\r\n<div>\r\n<p>\r\n<NavLink className=\"navTo\" to={`/songs/${e.youtube_id}`} >{e.title} - {e.artist}</NavLink>\r\n</p>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)}videoId={e.youtube_id} id=\"video\" opts={{width:\"250\",height:\"250\"}}/>\r\n<br/><br/>\r\n</div>\r\n</Slide>\r\n)}\r\n)\r\n\r\n\r\n\r\nlet alArray = albums.map(e => {\r\nsetAlbumsLength(albums.length)\r\nz--;\r\nreturn (\r\n<Slide style={{zIndex: z}} key={e.name} className=\"hov carouselist\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}`} >\r\n{e.name} - {e.artist}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}`} >\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/><br/>\r\n</Slide>\r\n)}\r\n)\r\n\r\nlet arArray = artists.map(e => {\r\nz--;\r\nsetArtistsLength(artists.length)\r\nreturn (\r\n<Slide style={{zIndex: z}} key={e.name} className=\"hov carouselist\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/artists/${e.id}`}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`/artists/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/><br/>\r\n</Slide>\r\n)}\r\n)\r\n\r\nlet pArray = playlists.map(e => {\r\nz--;\r\nsetPlaylistsLength(playlists.length)\r\nreturn (\r\n<Slide style={{zIndex: z}} key={e.name} className=\"hov carouselist\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/playlists/${e.id}`}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`/playlists/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/><br/>\r\n</Slide>\r\n)}\r\n)\r\nsetSongs(sArray)\r\nsetAlbums(alArray)\r\nsetArtists(arArray)\r\nsetPlaylists(pArray)\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:-190px;\r\n  left: 40%;\r\n`;\r\n\r\nconst arrowColor = loading ? 'rgb(10, 10, 10)' : 'rgb(149, 243, 215)';\r\n\r\n  return (\r\n    <div>\r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n\r\n\r\n<h3>Hello, {props.user ? props.user.username : 'Guest'}</h3>\r\n\r\n\r\n<div className=\"homeLists\">\r\n<h4> Top Songs </h4> \r\n  <CarouselProvider\r\n    naturalSlideWidth={25}\r\n    naturalSlideHeight={35}\r\n    visibleSlides={4}\r\n    totalSlides={songsLength}\r\n    step={4}\r\n    infinite\r\n  >\r\n<Slider style={{maxHeight:\"420px\"}}>\r\n{songs}\r\n</Slider>\r\n    <ButtonBack style={{color:arrowColor}} className=\"arrow fa fa-arrow-left\" ></ButtonBack>\r\n    <ButtonNext style={{color:arrowColor, float:\"right\"}}  className=\"arrow fa fa-arrow-right\"></ButtonNext>\r\n</CarouselProvider>\r\n\r\n\r\n<h4> Top Albums </h4> \r\n  <CarouselProvider\r\n    naturalSlideWidth={25}\r\n    naturalSlideHeight={35}\r\n    visibleSlides={4}\r\n    totalSlides={albumsLength}\r\n    step={4}\r\n    infinite\r\n  >\r\n<Slider style={{maxHeight:\"420px\"}}>\r\n{albums}\r\n</Slider>\r\n    <ButtonBack style={{color:arrowColor}} className=\"arrow fa fa-arrow-left\" ></ButtonBack>\r\n    <ButtonNext style={{color:arrowColor, float:\"right\"}} className=\"arrow fa fa-arrow-right\"></ButtonNext>\r\n</CarouselProvider>\r\n\r\n<h4> Top Artists </h4> \r\n  <CarouselProvider\r\n    naturalSlideWidth={25}\r\n    naturalSlideHeight={35}\r\n    visibleSlides={4}\r\n    totalSlides={artistsLength}\r\n    step={4}\r\n    infinite\r\n  >\r\n<Slider style={{maxHeight:\"420px\"}}>\r\n{artists}\r\n</Slider>\r\n    <ButtonBack style={{color:arrowColor}} className=\"arrow fa fa-arrow-left\" ></ButtonBack>\r\n    <ButtonNext style={{color:arrowColor, float:\"right\"}} className=\"arrow fa fa-arrow-right\"></ButtonNext>\r\n</CarouselProvider>\r\n\r\n<h4> Top Playlists </h4> \r\n  <CarouselProvider\r\n    naturalSlideWidth={25}\r\n    naturalSlideHeight={35}\r\n    visibleSlides={4}\r\n    totalSlides={playlistsLength}\r\n    step={4}\r\n    infinite\r\n  >\r\n<Slider style={{maxHeight:\"420px\"}}>\r\n{playlists}\r\n</Slider>\r\n    <ButtonBack style={{color:arrowColor}}className=\"arrow fa fa-arrow-left\" ></ButtonBack>\r\n    <ButtonNext style={{color:arrowColor, float:\"right\"}} className=\"arrow fa fa-arrow-right\"></ButtonNext>\r\n</CarouselProvider>\r\n</div>\r\n\r\n</div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport YouTube from 'react-youtube';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nfunction SongData(props) {\r\nconst [song, setSong] = useState(undefined)\r\nconst [loading, setLoading] = useState(true);\r\n\r\nlet { songId } = useParams();\r\n\r\nconst playCount = async (e) => {\r\nawait axios.put(`/count`, {\r\nsong_id: e.youtube_id,\r\ncount: e.play_count + 1,\r\n});\r\n};\r\n\r\nuseEffect(() => {\r\n  const fetchData = async () => {\r\n      try{\r\n      const { data } = await axios.get(`/song/${songId}`)\r\n      if (data[0].length !== 0){\r\n      makeID(data[0])\r\n      }\r\n  } catch(response) {\r\n        setLoading(false)\r\n    return setSong(<p style={{top:\"420px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">Unknown song</p>)\r\n  }\r\n    }; fetchData();\r\n   }, [])\r\n\r\n\r\n       \r\nfunction makeID(e){\r\n\r\nlet lyrics = '' \r\nlyrics = e.lyrics.split(\"&&\").map(function(item, idx) {\r\n        return (\r\n            <span key={idx}>\r\n                {item}\r\n                <br/>\r\n            </span>\r\n         )}) \r\n\r\nlet x = () => {\r\nreturn(\r\n<div  style={{marginLeft:'50px'}}>\r\n<p className=\"dataTitle\">{e.title}</p>\r\n<br/>\r\n<div className=\"songDataPage\">\r\n<div>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)} videoId={e.youtube_id} id=\"video\" opts={{width:\"600\",height:\"600\"}}/>\r\n<br/>\r\n<i><strong>{e.is_liked}</strong>  people liked this song</i><br/>\r\n<br/><br/><br/><br/><br/><br/><br/>\r\n<i><strong>Views:</strong>{\" \"} {e.play_count}</i><br/>\r\n<i><strong>Album:</strong>{\" \"}{e.album}</i><br/>\r\n<i><strong>Artist:</strong>{\" \"} {e.artist}</i><br/>\r\n<i><strong>Release date:</strong>{\" \"} {e.created_at.substr(0, 10)}</i><br/><br/>\r\n</div>\r\n<div className=\"dataLyrics\">\r\n<strong style={{fontSize:\"30px\"}}>Lyrics:</strong><br/>\r\n<br/>\r\n{lyrics}\r\n</div>\r\n</div>\r\n<NavLink style={{marginTop:'-35px'}}  className=\"fa fa-arrow-left back\" to=\"/songs\"></NavLink>\r\n</div>\r\n)}\r\nsetSong(x)\r\nsetLoading(false)\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n{song}\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default SongData;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport YouTube from 'react-youtube';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  NavLink,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport SongData from './SongData.js';\r\n\r\nfunction SongsList(props) {\r\nconst [list, setList] = useState([])\r\nconst [search, setSearch] = useState('')\r\nconst [preferences, setPreferences] = useState(\"[]\")\r\nconst [admin, setAdmin] = useState(0)\r\nconst [favorites, setFavorites] = useState(false)\r\nconst [toggle, setToggle] = useState(false)\r\nconst [loading, setLoading] = useState(true);\r\nconst [disabled, setDisabled] = useState(false)\r\n\r\nlet match = useRouteMatch();\r\n\r\nuseEffect(() => {\r\nconst getPreferences = async () => {\r\ntry {\r\nconst { data } = await axios.get(`/preferences/${props.user.email}`)\r\nsetPreferences(data[0].preferences)\r\n} catch(error) {\r\nreturn \r\n}\r\n}; getPreferences();\r\n}, [toggle])\r\n\r\nuseEffect(() => {\r\nif(props.user){\r\nlet isAdmin = props.user.is_admin;\r\nsetAdmin(isAdmin)\r\n}}, [props.user])\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      let x = JSON.parse(preferences)\r\n      try {\r\n      const songs = await (await axios.get(`/top_songs?name=${search}`)).data[0];\r\n\r\n      let list = songs.filter(e => e.title.toUpperCase().includes(search.toUpperCase()))\r\n      if (!favorites) {\r\n      makeSongs(list) \r\n      } else {\r\n      let favoriteList = list.filter(e => x.includes(`song: ${e.youtube_id}`))\r\n      makeSongs(favoriteList)\r\n      }\r\n    } catch(response) {\r\n    setLoading(false)  \r\n    return alert(response)\r\n    }\r\n    }; fetchData();\r\n   }, [disabled, toggle, favorites, preferences])\r\n\r\n\r\nconst handleSearch = () => {\r\nsetToggle(!toggle)\r\nsetLoading(true)\r\n}\r\n\r\nconst deleteSong = async (e) => {\r\nconst newId = e.youtube_id.replace(`'`,`''`);\r\nawait axios.delete(`/song/${newId}`);\r\nsetToggle(!toggle)\r\n};\r\n\r\nconst playCount = async (e) => {\r\nawait axios.put(`/count`, {\r\nsong_id: e.youtube_id,\r\ncount: e.play_count + 1,\r\n});\r\n};\r\n\r\nconst isLiked= (e) => {\r\nconst promise = new Promise((resolve, reject) => {\r\n    resolve(setDisabled(true));\r\n})\r\nconst promise2 = new Promise((resolve, reject) => {\r\n    resolve(handleLike(e));\r\n})\r\npromise.then(() => promise2)\r\npromise2.then(() => {\r\n  setTimeout(() => {\r\n    setDisabled(false)\r\n  }, 1500);\r\n})\r\n\r\n}\r\n\r\n\r\nconst handleLike = async (e) => {\r\nlet x = JSON.parse(preferences)\r\nif (x.includes(`song: ${e.youtube_id}`)){\r\nawait axios.put(`/song/like`, {\r\ntoggle: 'unlike',\r\nis_liked: e.is_liked,\r\npreferences: x,\r\nuser: props.user.email,\r\nyoutube_id: e.youtube_id,\r\n});\r\n} else {\r\nawait axios.put(`/song/like`, {\r\ntoggle: 'like',\r\nis_liked: e.is_liked,\r\nuser: props.user.email,\r\nyoutube_id: e.youtube_id,\r\n});\r\n}\r\nsetToggle(!toggle)\r\n}\r\n\r\nconst makeSongs = (songs) => {\r\nlet x = JSON.parse(preferences);\r\n\r\nlet array = songs.map(e => {\r\nconst heart = x.includes(`song: ${e.youtube_id}`) ? \r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like fas fa-heart\"/> :\r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like far fa-heart\"/>\r\nconst like = props.user ? heart :  '';\r\n\r\nconst deleteButton = <button style={{marginTop:\"20px\"}} onClick={() => deleteSong(e)} className=\"deleteButton\">Delete</button>;\r\nconst adminDelete = admin === 1 ? deleteButton : '';\r\n\r\nreturn (\r\n<li key={e.youtube_id} className=\"grid-item\">\r\n<span style={{cursor:'pointer'}} >{like}</span>\r\n<p>\r\n<NavLink className=\"navTo\" to={`${match.url}/${e.youtube_id}`}>{e.title} - {e.artist}</NavLink>\r\n</p>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)} videoId={e.youtube_id} id=\"video\" opts={{width:\"250\",height:\"250\"}}/>\r\n{adminDelete}\r\n</li>\r\n)}\r\n)\r\nsetList(array)\r\nsetLoading(false)\r\n}\r\n\r\nconst filterFavorites = favorites ?  <i className=\"fas fa-heart\"></i> : <i className=\"far fa-heart\"></i>\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div> \r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n<p className='listTitle'>\r\n<NavLink className=\"fa fa-plus-square-o add\" to=\"/PostSong\"></NavLink>  \r\n{\" \"} Songs</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<button onClick={() => handleSearch()} className=\"searchButton\">Search</button>\r\n{props.user ? <i className=\"filterFavorites\" onClick={() => setFavorites(!favorites)}>{filterFavorites}</i> : ''}\r\n<ul className=\"grid-container\"><br/>\r\n{list}\r\n</ul>\r\n</div>\r\n  );\r\n}\r\n\r\nfunction Songs(props){\r\n\r\nlet match = useRouteMatch();\r\nconsole.log(match)\r\n\r\nreturn(\r\n      <Switch>\r\n        <Route path={`${match.path}/:songId`}>\r\n          <SongData user={props.user}/>\r\n        </Route>\r\n        <Route path={match.path}>\r\n          <SongsList user={props.user}/>\r\n        </Route>\r\n      </Switch>\r\n)\r\n}\r\n\r\nexport default Songs;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport YouTube from 'react-youtube';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\n\r\nfunction ArtistData(props) {\r\nconst [songs, setSongs] = useState([])\r\nconst [albums, setAlbums] = useState([])\r\nconst [loading, setLoading] = useState(true);\r\nconst [artist, setArtist] = useState(undefined)\r\nconst [name, setName] = useState(undefined)\r\n\r\nlet { artistId } = useParams();\r\n\r\nconst playCount = async (e) => {\r\nawait axios.put(`/count`, {\r\nsong_id: e.youtube_id,\r\ncount: e.play_count + 1,\r\n});\r\n};\r\n\r\n\r\nuseEffect(() => {\r\n  const fetchData = async () => {\r\n      try{\r\n      const { data } = await axios.get(`/artist/${artistId}`)\r\n      setName(data[0].name)\r\n      if (data[0].length !== 0){\r\n      makeID(data[0])\r\n      }\r\n  } catch(response) {\r\n        setLoading(false)\r\n    return setArtist(<p style={{top:\"440px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">Unknown artist</p>)\r\n  }\r\n    }; fetchData();\r\n   }, [songs, albums])\r\n\r\n\r\n   useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n      const album = await axios.get(`/top_albums?artist=${name}`);\r\n      setAlbums(album.data[1])\r\n      const song = await axios.get(`/top_songs?artist=${name}`);\r\n      setSongs(song.data[2])\r\n    } catch { return }\r\n    }; fetchData();\r\n   }, [name])\r\n\r\n\r\nfunction makeID(e){\r\n\r\n\r\nlet songList = songs.map(e => {\r\nreturn (\r\n<div key={e.youtube_id} className=\"grid-item2\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/songs/${e.youtube_id}?name=${artistId}`}>{e.title}</NavLink>\r\n</p>\r\n<YouTube className=\"video xxx\" onPlay={() => playCount(e)} videoId={e.youtube_id} opts={{width:'200', height:'200'}} id=\"video\"/>\r\n</div>   \r\n)})\r\n\r\nlet albumList = albums.map(e => {\r\nreturn (\r\n<div key={e.name} className=\"grid-item2\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}?name=${artistId}`}>{e.name}</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}?name=${artistId}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"200\" height=\"200\" src={e.cover_img}></img>\r\n</NavLink>\r\n</div>   \r\n)\r\n})    \r\n\r\nlet x = () => {\r\nreturn (\r\n<div style={{marginLeft:'50px', width:\"96.5%\"}}>\r\n<p className=\"dataTitle\">{e.name}</p>\r\n<br/><br/>\r\n\r\n\r\n<div style={{width:'100%', marginTop:'-105px', color:\"white\", display:\"flex\"}}>\r\n\r\n<div style={{fontSize:'20px', width:'36%', marginRight:\"2%\"}}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"100%\" height=\"66%\" src={e.cover_img}></img>\r\n<br/>\r\n<i><strong>{e.is_liked}</strong> people liked this artist</i><br/>\r\n\r\n</div>\r\n\r\n\r\n<div style={{width:'62%'}}>\r\n<h6 className=\"songsTitle\">Songs</h6>\r\n<div style={{marginBottom:\"10%\", height:\"240px\", whiteSpace:\"nowrap\"}} className=\"dataSongs\">\r\n{songList}\r\n</div>\r\n<h6 className=\"songsTitle\">Albums</h6>\r\n<div style={{height:\"240px\", whiteSpace:\"nowrap\"}} className=\"dataSongs\">\r\n{albumList}\r\n</div>\r\n</div>\r\n\r\n</div>\r\n<NavLink style={{marginTop:'-35px'}} className=\"fa fa-arrow-left back\" to=\"/artists\"></NavLink>\r\n</div>\r\n)}\r\nsetArtist(x)\r\nsetTimeout(() => {\r\nsetLoading(false) \r\n}, 1500);\r\n}\r\n\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  {loading ?\r\n  <p style={{left:\"0\", top:\"-15px\", zIndex:\"1007\", background:\"rgb(0,0,0,0.5)\", position:\"fixed\", width:\"100vw\", height:\"100vh\"}}></p> : ''\r\n  }\r\n  </LoadingOverlay>\r\n{artist}\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default ArtistData;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  NavLink,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport ArtistData from './ArtistData.js';\r\n\r\n\r\n\r\nfunction ArtistsList(props) {\r\nconst [list, setList] = useState([])\r\nconst [search, setSearch] = useState('')\r\nconst [preferences, setPreferences] = useState(\"[]\")\r\nconst [admin, setAdmin] = useState(0)\r\nconst [favorites, setFavorites] = useState(false)\r\nconst [toggle, setToggle] = useState(false)\r\nconst [loading, setLoading] = useState(true);\r\nconst [disabled, setDisabled] = useState(false)\r\n\r\nlet match = useRouteMatch();\r\n\r\nuseEffect(() => {\r\nconst getPreferences = async () => {\r\ntry {\r\nconst { data } = await axios.get(`/preferences/${props.user.email}`)\r\nsetPreferences(data[0].preferences)\r\n} catch {\r\nreturn\r\n}\r\n}; getPreferences();\r\n}, [toggle])\r\n\r\nuseEffect(() => {\r\nif(props.user){\r\nlet isAdmin = props.user.is_admin;\r\nsetAdmin(isAdmin)\r\n}}, [props.user])\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      let x = JSON.parse(preferences)\r\n      try {\r\n      const artists = await (await axios.get(`/top_artists?name=${search}`)).data;\r\n      let list = artists.filter(e => e.name.toUpperCase().includes(search.toUpperCase()))\r\n      if (!favorites) {\r\n      makeArtists(list) \r\n      } else {\r\n      let favoriteList = list.filter(e => x.includes(`artist: ${e.name}`))\r\n      makeArtists(favoriteList)\r\n      }} catch(response) {\r\n    setLoading(false)\r\n    return alert(response)\r\n      }\r\n\r\n    }; fetchData();\r\n     }, [disabled, toggle, favorites, preferences])\r\n\r\nconst handleSearch = () => {\r\nsetToggle(!toggle)\r\nsetLoading(true)\r\n}\r\n\r\nconst deleteArtist = async (e) => {\r\nconst newName = e.name.replace(`'`,`''`);\r\nawait axios.delete(`/artist/${newName}`);\r\nsetToggle(!toggle)\r\n};\r\n\r\nconst isLiked= (e) => {\r\nconst promise = new Promise((resolve, reject) => {\r\n    resolve(setDisabled(true));\r\n})\r\nconst promise2 = new Promise((resolve, reject) => {\r\n    resolve(handleLike(e));\r\n})\r\npromise.then(() => promise2)\r\npromise2.then(() => {\r\n  setTimeout(() => {\r\n    setDisabled(false)\r\n  }, 1500);\r\n})\r\n\r\n}\r\n\r\n\r\nconst handleLike = async (e) => {\r\nlet x = JSON.parse(preferences)\r\nif (x.includes(`artist: ${e.name}`)){\r\nawait axios.put(`/artist/like`, {\r\ntoggle: 'unlike',\r\nis_liked: e.is_liked,\r\npreferences: x,\r\nuser: props.user.email,\r\nname: e.name,\r\n});\r\nsetToggle(!toggle)\r\n} else {\r\nawait axios.put(`/artist/like`, {\r\ntoggle: 'like',\r\nis_liked: e.is_liked,\r\nuser: props.user.email,\r\nname: e.name,\r\n});\r\nsetToggle(!toggle)\r\n}\r\n}\r\n\r\n\r\nconst makeArtists = (artists) => {\r\n\r\nlet x = JSON.parse(preferences);\r\n\r\nlet array = artists.map(e => {\r\nconst heart = x.includes(`song: ${e.name}`) ? \r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like fas fa-heart\"/> :\r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like far fa-heart\"/>\r\nconst like = props.user ? heart :  '';\r\n\r\nconst deleteButton = <button onClick={() => deleteArtist(e)} className=\"deleteButton\">Delete</button>;\r\nconst adminDelete = admin === 1 ? deleteButton : '';\r\n\r\nreturn (\r\n<li key={e.name} className=\"grid-item\">\r\n<span style={{cursor:'pointer'}}>{like} {\" \"}</span>\r\n<p>\r\n<NavLink className=\"navTo\" to={`${match.url}/${e.id}`}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\"to={`${match.url}/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n{adminDelete}\r\n</li>\r\n)}\r\n)\r\nsetList(array)\r\nsetLoading(false)\r\n}\r\n\r\n\r\nconst filterFavorites = favorites ?  <i className=\"fas fa-heart\"></i> : <i className=\"far fa-heart\"></i>\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div> \r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n<p className='listTitle'>\r\n<NavLink className=\"fa fa-plus-square-o add\" to=\"/PostArtist\"></NavLink>  \r\n{\" \"} Artists</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<button onClick={() => handleSearch()} className=\"searchButton\">Search</button>\r\n{props.user ? <i className=\"filterFavorites\" onClick={() => setFavorites(!favorites)}>{filterFavorites}</i> : ''}\r\n<ul className=\"grid-container\">\r\n{list}\r\n</ul>\r\n</div>\r\n  );\r\n}\r\n\r\nfunction Artists(props){\r\n\r\nlet match = useRouteMatch();\r\n\r\nreturn(\r\n      <Switch>\r\n        <Route path={`${match.path}/:artistId`}>\r\n          <ArtistData user={props.user}/>\r\n        </Route>\r\n        <Route path={match.path}>\r\n          <ArtistsList user={props.user}/>\r\n        </Route>\r\n      </Switch>\r\n)}\r\n\r\nexport default Artists;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport YouTube from 'react-youtube';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nfunction PlaylistData(props) {\r\nconst [songs, setSongs] = useState([])\r\nconst [loading, setLoading] = useState(true);\r\nconst [playlist, setPlaylist] = useState(undefined)\r\nconst [playlistSongs, setPlaylistSongs] = useState(undefined)\r\n\r\nlet { playlistId } = useParams();\r\n\r\nconst playCount = async (e) => {\r\nawait axios.put(`/count`, {\r\nsong_id: e.youtube_id,\r\ncount: e.play_count + 1,\r\n});\r\n};\r\n\r\nuseEffect(() => {\r\n  const fetchData = async () => {\r\n      try{\r\n      const { data } = await axios.get(`/playlist/${playlistId}`)\r\n      setPlaylistSongs(data[0].songs)\r\n      if (data[0].length !== 0){\r\n      makeID(data[0])\r\n      }\r\n  } catch(response) {\r\n        setLoading(false)\r\n    return setPlaylist(<p style={{top:\"440px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">Unknown playlist</p>)\r\n  }\r\n    }; fetchData();\r\n   }, [songs])\r\n\r\n\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n    try{\r\n    let list = JSON.parse(playlistSongs);\r\n      const { data } = await axios.get(`/top_songs`, {\r\n      });\r\n      let songList = data[0].filter(e => list.includes(e.youtube_id))\r\n      setSongs(songList)\r\n      } catch {\r\n    return \r\n    }\r\n    }; fetchData();\r\n   }, [playlistSongs])\r\n\r\n  \r\n\r\nfunction makeID(e){\r\n\r\nlet list = songs.map(e => {\r\nreturn (\r\n<li key={e.youtube_id} className=\"grid-item2\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/songs/${e.youtube_id}?name=${playlistId}`}>{e.title}</NavLink>\r\n</p>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)} videoId={e.youtube_id} id=\"video\" opts={{width:\"200\",height:\"200\"}}/>\r\n</li>   \r\n)\r\n})    \r\n\r\nlet x = () => {\r\nreturn (\r\n<div style={{marginLeft:'50px'}}>\r\n<p className=\"dataTitle\">{e.name}</p>\r\n<br/><br/>\r\n<div style={{width:'100%',marginTop:'-105px', color:\"white\", display:\"flex\"}}>\r\n<div style={{fontSize:'20px', width:'36%', marginRight:\"2%\"}}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"100%\" height=\"66%\" src={e.cover_img}></img>\r\n<br/>\r\n<i><strong>{e.is_liked}</strong> people liked this playlist</i><br/>\r\n<br/><br/><br/><br/>\r\n<i><strong>Created by:</strong>{\" \"} 000</i>\r\n</div>\r\n<div style={{width:'62%'}}>\r\n<h6 className=\"songsTitle\">Songs</h6>\r\n<div className=\"dataSongs\">\r\n{list}\r\n</div>\r\n</div>\r\n</div>\r\n<NavLink  className=\"fa fa-arrow-left back\" to=\"/playlists\"></NavLink>\r\n</div>\r\n)}\r\nsetPlaylist(x)\r\nsetTimeout(() => {\r\nsetLoading(false) \r\n}, 1500);\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n{playlist}\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PlaylistData;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n  \r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  NavLink,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport PlaylistData from './PlaylistData.js';\r\n\r\nfunction PlaylistsList(props) {\r\nconst [list, setList] = useState([])\r\nconst [search, setSearch] = useState('')\r\nconst [preferences, setPreferences] = useState(\"[]\")\r\nconst [admin, setAdmin] = useState(0)\r\nconst [toggle, setToggle] = useState(false)\r\nconst [favorites, setFavorites] = useState(false)\r\nconst [loading, setLoading] = useState(true);\r\nconst [disabled, setDisabled] = useState(false)\r\n\r\nlet match = useRouteMatch();\r\n\r\nuseEffect(() => {\r\nconst getPreferences = async () => {\r\ntry {\r\nconst { data } = await axios.get(`/preferences/${props.user.email}`)\r\nsetPreferences(data[0].preferences)\r\n} catch {\r\nreturn\r\n}\r\n}; getPreferences();\r\n}, [toggle])\r\n\r\nuseEffect(() => {\r\nif(props.user){\r\nlet isAdmin = props.user.is_admin;\r\nsetAdmin(isAdmin)\r\n}}, [props.user])\r\n\r\n\r\nuseEffect(() => {\r\n  const fetchData = async () => {\r\n      let x = JSON.parse(preferences)\r\n      try{\r\n      const playlists = await (await axios.get(`/top_playlists?name=${search}`)).data;\r\n      let list = playlists.filter(e => e.name.toUpperCase().includes(search.toUpperCase()))\r\n      if (!favorites) {\r\n      makePlaylists(list) \r\n      } else {\r\n      let favoriteList = list.filter(e => x.includes(`playlist: ${e.id}`))\r\n      makePlaylists(favoriteList)\r\n      }} catch(response) {\r\n    setLoading(false)\r\n    return alert(response)\r\n  }\r\n    }; fetchData();\r\n   }, [disabled, toggle, favorites, preferences])\r\n\r\n\r\nconst handleSearch = () => {\r\nsetToggle(!toggle)\r\nsetLoading(true)\r\n}\r\n\r\nconst deletePlaylist = async (e) => {\r\nawait axios.delete(`/playlist/${e.id}`);\r\nsetToggle(!toggle)\r\n};\r\n\r\nconst isLiked= (e) => {\r\nconst promise = new Promise((resolve, reject) => {\r\n    resolve(setDisabled(true));\r\n})\r\nconst promise2 = new Promise((resolve, reject) => {\r\n    resolve(handleLike(e));\r\n})\r\npromise.then(() => promise2)\r\npromise2.then(() => {\r\n  setTimeout(() => {\r\n    setDisabled(false)\r\n  }, 1500);\r\n})\r\n\r\n}\r\n\r\n\r\nconst handleLike = async (e) => {\r\nlet x = JSON.parse(preferences)\r\nif (preferences.includes(`playlist: ${e.id}`)){\r\nawait axios.put(`/playlist/like`, {\r\ntoggle: 'unlike',\r\nis_liked: e.is_liked,\r\npreferences: x,\r\nuser: props.user.email,\r\nid: e.id,\r\n});\r\n} else {\r\nawait axios.put(`/playlist/like`, {\r\ntoggle: 'like',\r\nis_liked: e.is_liked,\r\nuser: props.user.email,\r\nid: e.id,\r\n});\r\n}\r\nsetToggle(!toggle)\r\n}\r\n\r\n\r\nconst makePlaylists = (playlists) => {\r\n\r\nlet x = JSON.parse(preferences)\r\n\r\nlet array = playlists.map(e => {\r\nconst heart = x.includes(`playlist: ${e.id}`) ?\r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like fas fa-heart\"/> :\r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like far fa-heart\"/>\r\nconst like = props.user ? heart :  '';\r\n\r\nconst deleteButton = <button onClick={() => deletePlaylist(e)} className=\"deleteButton\">Delete</button>;\r\nconst adminDelete = admin === 1 ? deleteButton : '';\r\n\r\nreturn (\r\n<li key={e.name} className=\"grid-item\">\r\n<span style={{cursor:'pointer'}} >{like} </span>\r\n<p>\r\n<NavLink className=\"navTo\"  to={`${match.url}/${e.id}`}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`${match.url}/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n{adminDelete}\r\n</li>\r\n)}\r\n)\r\nsetList(array)\r\nsetLoading(false)\r\n}\r\n\r\nconst filterFavorites = favorites ?  <i className=\"fas fa-heart\"></i> : <i className=\"far fa-heart\"></i>\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div> \r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n<p className='listTitle'>\r\n<NavLink className=\"fa fa-plus-square-o add\" to=\"/PostPlaylist\"></NavLink>  \r\n{\" \"} Playlists</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<button onClick={() => handleSearch()} className=\"searchButton\">Search</button>\r\n{props.user ? <i className=\"filterFavorites\" onClick={() => setFavorites(!favorites)}>{filterFavorites}</i> : ''}\r\n<ul className=\"grid-container\">\r\n{list}\r\n</ul>\r\n</div>\r\n  );\r\n}\r\n\r\nfunction Playlists(props){\r\n\r\nlet match = useRouteMatch();\r\n\r\nreturn(\r\n      <Switch>\r\n        <Route path={`${match.path}/:playlistId`}>\r\n          <PlaylistData user={props.user}/>\r\n        </Route>\r\n        <Route path={match.path}>\r\n          <PlaylistsList user={props.user}/>\r\n        </Route>\r\n      </Switch>\r\n)}\r\n\r\n\r\n\r\n\r\nexport default Playlists;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport YouTube from 'react-youtube';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nfunction AlbumData(props) {\r\nconst [songs, setSongs] = useState([])\r\nconst [album, setAlbum] = useState(undefined)\r\nconst [loading, setLoading] = useState(true);\r\nconst [name, setName] = useState(undefined)\r\n\r\nlet { albumId } = useParams();\r\n\r\nconst playCount = async (e) => {\r\nawait axios.put(`/count`, {\r\nsong_id: e.youtube_id,\r\ncount: e.play_count + 1,\r\n});\r\n};\r\n\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      const { data } = await axios.get(`/top_songs?album=${name}`);\r\n      setSongs(data[1])\r\n    }; fetchData();\r\n   }, [name])\r\n\r\n\r\n   useEffect(() => {\r\n  const fetchData = async () => {\r\n      try{\r\n      const { data } = await axios.get(`/album/${albumId}`)\r\n      setName(data[0].name)\r\n      if (data[0].length !== 0){\r\n      makeID(data[0])\r\n      }\r\n      } catch(response) {\r\n        setLoading(false)\r\n  return setAlbum(<p style={{top:\"440px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">Unknown album</p>)\r\n  }\r\n    }; fetchData();\r\n   }, [songs])\r\n\r\n\r\n\r\nfunction makeID(e){\r\nlet list = songs.map(e => {\r\nreturn (\r\n<li key={e.youtube_id} className=\"grid-item2\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/songs/${e.youtube_id}?name=${albumId}`} >{e.title}</NavLink>\r\n</p>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)} videoId={e.youtube_id} id=\"video\" opts={{width:\"200\",height:\"200\"}}/>\r\n</li>   \r\n)\r\n})    \r\n\r\nlet x = () => {\r\nreturn (\r\n<div  style={{marginLeft:'50px'}}>\r\n<p className=\"dataTitle\">{e.name}</p>\r\n\r\n<div style={{width:'100%', marginTop:'-60px', color:\"white\", display:\"flex\"}}>\r\n\r\n<div style={{fontSize:'20px', width:'36%', marginRight:\"2%\"}}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"100%\" height=\"66%\" src={e.cover_img}></img>\r\n<br/>\r\n<i><strong>{e.is_liked}</strong> people liked this album</i><br/>\r\n<br/><br/>\r\n<i><strong>Artist:</strong>{\" \"} {e.artist}</i><br/>\r\n<i><strong>Release date:</strong>{\" \"} {e.created_at.substr(0, 10)}</i>\r\n</div>\r\n\r\n<div style={{width:'62%'}}>\r\n<h6 className=\"songsTitle\">Songs</h6>\r\n<div className=\"dataSongs\">\r\n{list}\r\n</div>\r\n\r\n</div>\r\n</div>\r\n<NavLink className=\"fa fa-arrow-left back\" to=\"/albums\"></NavLink>\r\n</div>\r\n);\r\n}\r\nsetAlbum(x)\r\nsetTimeout(() => {\r\nsetLoading(false) \r\n}, 1500);\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n{album}\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default AlbumData;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  NavLink,\r\n  useRouteMatch,\r\n  } from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport AlbumData from './AlbumData.js';\r\n\r\n\r\nfunction AlbumsList(props) {\r\nconst [list, setList] = useState([])\r\nconst [search, setSearch] = useState('')\r\nconst [preferences, setPreferences] = useState(\"[]\")\r\nconst [admin, setAdmin] = useState(0)\r\nconst [toggle, setToggle] = useState(false)\r\nconst [favorites, setFavorites] = useState(false)\r\nconst [loading, setLoading] = useState(true);\r\nconst [disabled, setDisabled] = useState(false)\r\n\r\nlet match = useRouteMatch();\r\n\r\nuseEffect(() => {\r\nconst getPreferences = async () => {\r\ntry {\r\nconst { data } = await axios.get(`/preferences/${props.user.email}`)\r\nsetPreferences(data[0].preferences)\r\n} catch {\r\nreturn\r\n}\r\n}; getPreferences();\r\n}, [toggle])\r\n\r\nuseEffect(() => {\r\nif(props.user){\r\nlet isAdmin = props.user.is_admin;\r\nsetAdmin(isAdmin)\r\n}}, [props.user])\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      let x = JSON.parse(preferences)\r\n      try{\r\n      const albums = await (await axios.get(`/top_albums?name=${search}`)).data;\r\n      let list = albums[0].filter(e => e.name.toUpperCase().includes(search.toUpperCase()))\r\n      if (!favorites) {\r\n      makeAlbums(list) \r\n      } else {\r\n      let favoriteList = list.filter(e => x.includes(`album: ${e.name}`))\r\n      makeAlbums(favoriteList)\r\n      }} catch(response) {\r\n    setLoading(false)\r\n    return alert(response)\r\n      }\r\n    }; fetchData();\r\n   }, [disabled, toggle, favorites, preferences])\r\n\r\nconst handleSearch = () => {\r\nsetToggle(!toggle)\r\nsetLoading(true)\r\n}\r\n\r\nconst deleteAlbum = async (e) => {\r\nconst newName = e.name.replace(`'`,`''`);\r\nawait axios.delete(`/album/${newName}`);\r\nsetToggle(!toggle)\r\n};\r\nconst isLiked= (e) => {\r\nconst promise = new Promise((resolve, reject) => {\r\n    resolve(setDisabled(true));\r\n})\r\nconst promise2 = new Promise((resolve, reject) => {\r\n    resolve(handleLike(e));\r\n})\r\npromise.then(() => promise2)\r\npromise2.then(() => {\r\n  setTimeout(() => {\r\n    setDisabled(false)\r\n  }, 1500);\r\n})\r\n\r\n}\r\n\r\nconst handleLike = async (e) => {\r\nlet x = JSON.parse(preferences)\r\nif (x.includes(`album: ${e.name}`)){\r\nawait axios.put(`/album/like`, {\r\ntoggle: 'unlike',\r\nis_liked: e.is_liked,\r\npreferences: x,\r\nuser: props.user.email,\r\nname: e.name,\r\n});\r\nsetToggle(!toggle)\r\n} else {\r\nawait axios.put(`/album/like`, {\r\ntoggle: 'like',\r\nis_liked: e.is_liked,\r\nuser: props.user.email,\r\nname: e.name,\r\n});\r\nsetToggle(!toggle)\r\n}\r\n}\r\n\r\n\r\nconst makeAlbums = (albums) => {\r\n\r\nlet x = JSON.parse(preferences);\r\n\r\nlet array = albums.map(e => {\r\nconst heart = x.includes(`album: ${e.name}`) ?\r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like fas fa-heart\"/> :\r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like far fa-heart\"/>\r\nconst like = props.user ? heart :  '';\r\n\r\nconst deleteButton = <button onClick={() => deleteAlbum(e)} className=\"deleteButton\">Delete</button>;\r\nconst adminDelete = admin === 1 ? deleteButton : '';\r\n\r\nreturn (\r\n<li key={e.name} className=\"grid-item\">\r\n<span style={{cursor:'pointer'}}>{like} {\" \"} </span>\r\n<p>\r\n<NavLink className=\"navTo\" to={`${match.url}/${e.id}`}>\r\n{e.name} - {e.artist}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`${match.url}/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n{adminDelete}\r\n</li>\r\n)}\r\n)\r\nsetList(array)\r\nsetLoading(false)\r\n}\r\n\r\n\r\nconst filterFavorites = favorites ?  <i className=\"fas fa-heart\"></i> : <i className=\"far fa-heart\"></i>\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div> \r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n<p className='listTitle'>\r\n<NavLink className=\"fa fa-plus-square-o add\" to=\"/PostAlbum\"></NavLink>  \r\n{\" \"} Albums</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<button onClick={() => handleSearch()} className=\"searchButton\">Search</button>\r\n{props.user ? <i className=\"filterFavorites\" onClick={() => setFavorites(!favorites)}>{filterFavorites}</i> : ''}\r\n<ul className=\"grid-container\">\r\n{list}\r\n</ul>\r\n</div>\r\n  );\r\n}\r\n\r\nfunction Albums(props){\r\n\r\nlet match = useRouteMatch(); \r\n\r\nreturn(\r\n      <Switch>\r\n        <Route path={`${match.path}/:albumId`}>\r\n          <AlbumData user={props.user}/>\r\n        </Route>\r\n        <Route path={match.path}>\r\n          <AlbumsList user={props.user}/>\r\n        </Route>\r\n      </Switch>\r\n)\r\n}\r\n\r\n\r\nexport default Albums;\r\n\r\n","import React, { useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport Select from 'react-select';\r\n\r\nfunction PostSong(props) {\r\nconst [albums, setAlbums] = useState([]);\r\nconst [artists, setArtists] = useState([]);\r\n\r\nconst [selectAlbum, setSelectAlbum] = useState(undefined)\r\nconst [title, setTitle] = useState(undefined)\r\nconst [length, setLength] = useState(undefined)\r\nconst [youtube_id, setYoutube_id] = useState(undefined)\r\nconst [artist, setArtist] = useState(undefined)\r\nconst [album, setAlbum] = useState(undefined)\r\nconst [lyrics, setLyrics] = useState(undefined)\r\nconst [track_number, setTrack_number] = useState(undefined)\r\nconst [created_at, setCreated_at] = useState(undefined)\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setAlbums(await (await axios.get(`/top_albums`)).data[0]);\r\n      setArtists(await (await axios.get(`/top_artists`)).data);\r\n    }; fetchData();\r\n   }, []);\r\n\r\n\r\nfunction validateTrack(track) {\r\n   if (/^[1-9]\\d{0,1}(?:,\\d{1,3})?$/.test(track))\r\n  {\r\n    return (true)\r\n  }\r\n    return (false)\r\n}\r\n\r\nfunction validateLength(length) {\r\nif (/^([0-5]?[0-9]|2[0-3]):[0-5][0-9]$/.test(length)) {\r\n    return (true)\r\n  }\r\n    return (false)\r\n}\r\n\r\nconst addSong = async (event, title, length, youtube_id, artist, album, track_number, lyrics, created_at) => {\r\nconsole.log(title, length, youtube_id, artist, album, track_number, lyrics, created_at)\r\nevent.preventDefault();\r\n    let regex = /'/gi\r\n    let enter = /\\n/gi\r\n\r\n    if(!artist) {\r\n    return document.getElementById('songError').innerHTML = \"Select an artist\";\r\n    }\r\n    if(!album) {\r\n    return document.getElementById('songError').innerHTML = \"Select an album\";\r\n    }\r\n  const newCreated_at = created_at.slice(0,10)\r\n  const newLyrics = lyrics.replace(regex,`''`).replace(enter,`&&`);\r\n  const newTitle = title.replace(regex,`''`);\r\n  const newArtist = artist.value.replace(regex,`''`);\r\n  const newAlbum = album.value.replace(regex,`''`);\r\n\r\n    if (!props.user) {\r\n    return document.getElementById('songError').innerHTML = 'Only registered users can post new songs to the website';\r\n    }\r\n    if (!validateLength(length)) {\r\n    return document.getElementById('songError').innerHTML = 'Length form is invalid';\r\n    }\r\n    if(!validateTrack(track_number)) {\r\n    return document.getElementById('songError').innerHTML = \"Track number field must be a 2-digit number\";\r\n    }\r\n    try{\r\n    await axios.post(`/song`, {\r\n    title: newTitle, \r\n    length: length, \r\n    youtube_id: youtube_id, \r\n    artist: newArtist, \r\n    album: newAlbum, \r\n    track_number: track_number, \r\n    lyrics: newLyrics, \r\n    created_at: newCreated_at,\r\n    user: props.user.email,\r\n    user_name: props.user.username\r\n    }\r\n    )\r\n  window.location.reload(false);\r\n} catch (response){\r\n  return document.getElementById('songError').innerHTML = \"Song already exists\";\r\n  }; \r\n};\r\n\r\nfunction form(){\r\n\r\n      function insertTitle(event) {\r\n        setTitle(event.target.value);\r\n      }\r\n      function insertLength(event) {\r\n        setLength(event.target.value);\r\n      }\r\n      function insertYoutube(event) {\r\n        setYoutube_id(event.target.value);\r\n      }\r\n      function insertTrack(event) {\r\n        setTrack_number(event.target.value);\r\n      }\r\n\r\n      function insertLyrics(event) {\r\n        setLyrics(event.target.value);\r\n      }\r\n      function insertRelease(event) {\r\n        setCreated_at(event.target.value);\r\n      }\r\n      function insertArtist(event) {\r\n       let x = event.value\r\n       setArtist(event);\r\n       setSelectAlbum(albumList.filter(e => e.label.includes(x)));\r\n      }\r\n       function insertAlbum(event) {\r\n        setAlbum(event);\r\n      }\r\n      \r\nlet selectArtist = artists.map(e => ({ value: e.name, label: e.name }))\r\nlet albumList = albums.map(e => ({value: e.name, label: `${e.name} - ${e.artist}` }))\r\n\r\n\r\nvar today = new Date();\r\nvar dd = today.getDate();\r\nvar mm = today.getMonth()+1;\r\nvar yyyy = today.getFullYear();\r\n if(dd<10){\r\n        dd='0'+dd\r\n    } \r\n    if(mm<10){\r\n        mm='0'+mm\r\n    } \r\ntoday = yyyy+'-'+mm+'-'+dd;\r\n\r\nreturn (\r\n <form id=\"songForm\" className=\"songForm\" onSubmit={(event) => addSong(event, title, length, youtube_id, artist, album, track_number, lyrics, created_at)}>\r\n   <div>\r\n    <label> Name of the song: </label><br/>\r\n    <input id=\"song_img\" required type=\"text\" defaultValue={title} onChange={insertTitle}/> <br/><br/>\r\n<label>Youtube ID: </label><i className='tooltip fas fa-info'> <span className=\"tooltiptext\">youtube.com/watch?v= (Youtube_ID)</span></i><br/>\r\n    <input id=\"song_id\" required type=\"text\" defaultValue={youtube_id} onChange={insertYoutube}/><br/><br/>\r\n    <label> Length: </label><i className='tooltip fas fa-info'> <span className=\"tooltiptext\">M M : S S</span></i><br/>\r\n    <input id=\"song_length\" required type=\"text\" defaultValue={length} onChange={insertLength}/> <br/><br/>\r\n    <label>Artist: </label><i className='tooltip fas fa-info'> <span className=\"tooltiptext\">You can only post albums of uploaded artists</span></i><br/>\r\n    <Select required maxMenuHeight={160}\r\n    defaultValue={artist}\r\n    onChange={insertArtist}\r\n    options={selectArtist}>\r\n    </Select><br/>\r\n    <label> Album: </label><i className='tooltip fas fa-info'> <span className=\"tooltiptext\">You can only post songs of uploaded albums</span></i><br/>\r\n    <Select required maxMenuHeight={160}\r\n    defaultValue={album}\r\n    onChange={insertAlbum}\r\n    options={selectAlbum}>\r\n    </Select><br/>\r\n    <label> Track number: </label><br/>\r\n    <input id=\"song_track\" required type=\"text\" defaultValue={track_number} onChange={insertTrack}/><br/><br/>\r\n    <NavLink style={{marginTop:\"0px\"}} className=\"fa fa-arrow-left back\" to=\"/Songs\"> </NavLink>\r\n     </div>\r\n     <div>\r\n    <label> Lyrics: </label><br/>\r\n    <textarea rows=\"12\" required type=\"text\" defaultValue={lyrics} onChange={insertLyrics}/> <br/><br/>\r\n    <label> Release date: </label><br/>\r\n    <input max={today} style={{height:\"32px\"}} id=\"song_date\" required type=\"date\" defaultValue={created_at} onChange={insertRelease}/><br/><br/>\r\n    <input style={{width:\"550px\"}} type='submit' className=\"post\" value=\"Post Song\"/>\r\n    </div>\r\n    </form>\r\n\r\n)}\r\n\r\n  return (\r\n<div> \r\n{form()}\r\n<p id=\"songError\" style={{marginTop:\"10px\", marginLeft:\"20px\", fontSize:'20px', color:\"red\"}}></p>\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PostSong;\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport Select from 'react-select';\r\n\r\nfunction PostAlbum(props) {\r\nconst [artists, setArtists] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setArtists(await (await axios.get(`/top_artists`)).data);\r\n    }; fetchData();\r\n   }, []);\r\n  \r\n\r\n  const addAlbum = async (event, name, image, artist, created_at) => {\r\n   event.preventDefault();\r\n    let regex = /'/gi\r\n  const newCreated_at = created_at.slice(0,10)\r\n    if (!props.user) {\r\n    return document.getElementById('albumError').innerHTML = 'Only registered users can post new albums to the website!';\r\n    }\r\n    if(!artist) {\r\n    return document.getElementById('albumError').innerHTML = \"Select an artist\";\r\n    }\r\n  const newName = name.replace(regex,`''`);\r\n  const newArtist = artist.value.replace(regex,`''`);\r\n    try{\r\n    await axios.post(`/album`, {\r\n    name: newName, \r\n    artist: newArtist, \r\n    cover_img: image,\r\n    created_at: newCreated_at,\r\n    user: props.user.email,\r\n    user_name: props.user.username\r\n    })\r\n  window.location.reload(false);\r\n} catch (response){\r\n   document.getElementById('albumError').innerHTML = \"Undetected Error\";\r\n  }; \r\n};\r\n\r\n\r\nfunction form(){\r\nlet name;\r\nlet image;\r\nlet created_at;\r\nlet artist;\r\n\r\n      function insertName(event) {\r\n        name = event.target.value;\r\n      }\r\n      function insertImage(event) {\r\n        image = event.target.value;\r\n      }\r\n\r\n      function insertRelease(event) {\r\n        created_at = event.target.value;\r\n      }\r\n\r\n      function insertArtist(event) {\r\n        artist = event;\r\n      }\r\n\r\nvar today = new Date();\r\nvar dd = today.getDate();\r\nvar mm = today.getMonth()+1;\r\nvar yyyy = today.getFullYear();\r\n if(dd<10){\r\n        dd='0'+dd\r\n    } \r\n    if(mm<10){\r\n        mm='0'+mm\r\n    } \r\n\r\ntoday = yyyy+'-'+mm+'-'+dd;\r\n\r\n\r\nlet selectArtist = artists.map(e => ({ value: e.name, label: e.name }))\r\n\r\nreturn (\r\n <form id=\"albumForm\" className=\"albumForm\" onSubmit={(event) => addAlbum(event, name, image, artist, created_at)}>\r\n   <div>\r\n    <label> Name of the Album: </label><br/>\r\n    <input id=\"album_name\" required type=\"text\" defaultValue={name} onChange={insertName}/> <br/><br/>\r\n    <br/>\r\n    <label>Artist: </label><i class='tooltip fas fa-info'> <span class=\"tooltiptext\">You can only post albums of uploaded artists</span></i><br/>\r\n    <Select style={{}} required maxMenuHeight={160}\r\n    defaultValue={artist}\r\n    onChange={insertArtist}\r\n    options={selectArtist}>\r\n    </Select><br/><br/>\r\n    <label> Cover image URL </label><br/>\r\n    <input id=\"album_img\" required type=\"text\" defaultValue={image} onChange={insertImage}/><br/><br/>\r\n    <br/>\r\n    <label> Release date: </label><br/>\r\n   <input max={today} style={{height:\"32px\"}} id=\"album_date\" required type=\"date\" defaultValue={created_at} onChange={insertRelease}/><br/><br/>\r\n    <br/>\r\n    <input type='submit' className=\"post\" value=\"Post Album\"/>\r\n    <NavLink className=\"fa fa-arrow-left back\" to=\"/Albums\"></NavLink>\r\n    </div>\r\n    </form>\r\n\r\n)}\r\n\r\n  return (\r\n<div> \r\n{form()}\r\n<p id=\"albumError\" style={{marginTop:\"0px\", marginLeft:\"130px\", fontSize:'20px', color:\"red\"}}></p>\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PostAlbum;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\n\r\nfunction PostArtist(props) {\r\n\r\n  const addArtist = async (event, name, image) => {\r\n  event.preventDefault();\r\n  let regex = /'/gi\r\n  const newName = name.replace(regex,`''`);\r\n    try{\r\n    await axios.post(`/artist`, {\r\n    name: newName, \r\n    cover_img: image,\r\n    user: props.user.email,\r\n    user_name: props.user.username\r\n    })\r\n  document.getElementById(\"artistForm\").reset();\r\n} catch (response){\r\n   document.getElementById('artistError').innerHTML = \"Undetected Error\";\r\n  }; \r\n};\r\n\r\n\r\nfunction form(){\r\nlet name;\r\nlet image;\r\n\r\n      function insertName(event) {\r\n        name = event.target.value;\r\n      }\r\n      function insertImage(event) {\r\n        image = event.target.value;\r\n      }\r\n\r\nreturn (\r\n <form id=\"artistForm\" onSubmit={(event) => addArtist(event, name, image)}>\r\n   <div>\r\n    <label> Name of the Artist: </label><br/>\r\n    <input id=\"artist_name\" required type=\"text\" defaultValue={name} onChange={insertName}/> <br/><br/>\r\n  <br/> <br/>\r\n    <label> Artist image URL </label><br/>\r\n    <input id=\"artist_img\" required type=\"text\" defaultValue={image} onChange={insertImage}/><br/><br/>\r\n  <br/> <br/>\r\n    <input type='submit' className=\"post\" value=\"Post Artist\"/>\r\n    <NavLink className=\"fa fa-arrow-left back\" to=\"/Artists\"></NavLink>\r\n    </div>\r\n    </form>\r\n\r\n)}\r\n\r\n  return (\r\n<div className=\"artistForm\"> \r\n{form()}\r\n<p id=\"artistError\" style={{marginTop:\"-2px\", marginLeft:\"120px\", fontSize:'20px', color:\"red\"}}></p>\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PostArtist;\r\n","import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport Select from 'react-select';\r\n\r\nfunction PostPlaylist(props) {\r\nconst [songs, setSongs] = useState([])\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setSongs(await (await axios.get(`/top_songs`)).data[0]);\r\n    }; fetchData();\r\n   }, []); \r\n\r\n  const addPlaylist = async (event, name, songs, image) => {\r\n  event.preventDefault();\r\n  let regex = /'/gi\r\n  let newSongs = []\r\n  for (let song of songs){\r\n  newSongs.push(song.value)\r\n  }\r\n    if (!props.user) {\r\n    return document.getElementById('playlistError').innerHTML = 'Only registered users can post new playlists to the website!';\r\n    }\r\n    if(!songs) {\r\n    return document.getElementById('playlistError').innerHTML = \"Select songs\";\r\n    }\r\n  const newName = name.replace(regex,`''`);\r\n    try{\r\n    await axios.post(`/playlist`, {\r\n    name: newName, \r\n    songs: newSongs, \r\n    cover_img: image,\r\n    user: props.user.email,\r\n    user_name: props.user.username\r\n    })\r\n  document.getElementById(\"playlistForm\").reset();\r\n} catch (response){\r\n   document.getElementById('playlistError').innerHTML = \"Undetected error\";\r\n  }; \r\n};\r\n\r\n\r\nfunction form(){\r\nlet name;\r\nlet image;\r\nlet song;\r\n\r\n      function insertName(event) {\r\n        name = event.target.value;\r\n      }\r\n      function insertImage(event) {\r\n        image = event.target.value;\r\n      }\r\n\r\n      function insertSongs(event) {\r\n        song = event;\r\n      }\r\n\r\nlet selectSong = songs.map(e => ({ value: e.youtube_id, label: `${e.title} - ${e.artist}` }))\r\n\r\nreturn (\r\n <form style={{marginTop:\"150px\"}} id=\"playlistForm\" onSubmit={(event) => addPlaylist(event, name, song, image)}>\r\n   <div>\r\n    <label> Name of the Playlist: </label><br/>\r\n    <input id=\"playlist_name\" required type=\"text\" defaultValue={name} onChange={insertName}/> <br/><br/>\r\n    <br/>\r\n    <label> Songs: </label><br/>\r\n    <Select\r\n    required\r\n    maxMenuHeight={160}\r\n    isMulti\r\n    defaultValue={song}\r\n    onChange={insertSongs}\r\n    options={selectSong}>\r\n    </Select><br/>\r\n    <br/>\r\n    <label> Cover image URL </label><br/>\r\n    <input id=\"artist_img\" required type=\"text\" defaultValue={image} onChange={insertImage}/><br/><br/>\r\n  <br/>\r\n    <input type='submit' className=\"post\" value=\"Post Playlist\"/>\r\n   <NavLink className=\"fa fa-arrow-left back\"  to=\"/Playlists\"></NavLink>\r\n    </div>\r\n    </form>\r\n\r\n)}\r\n\r\n  return (\r\n<div className=\"playlistForm\"> \r\n{form()}<p id=\"playlistError\" style={{marginLeft:\"120px\", fontSize:'20px', color:\"red\"}}></p>\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PostPlaylist;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport YouTube from 'react-youtube';\r\nimport {\r\n  NavLink,\r\n    Route,\r\n    Switch,\r\n    useRouteMatch,\r\n    useParams,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport ScrollContainer from 'react-indiana-drag-scroll'\r\n\r\nfunction UploadsData(props) {\r\nconst [songs, setSongs] = useState([]);\r\nconst [albums, setAlbums] = useState([]);\r\nconst [artists, setArtists] = useState([]);\r\nconst [playlists, setPlaylists] = useState([]);\r\nconst [loading, setLoading] = useState(true);\r\nconst [search, setSearch] = useState('');\r\nconst [toggle, setToggle] = useState(false);\r\nconst [user, setUser] = useState('Uploads')\r\nconst [data, setData] = useState('')\r\n\r\nlet { userId } = useParams()\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n      await axios.get(`/user/${userId}`)\r\n      const song = await axios.get(`/top_songs?name=${search}`)\r\n      const album = await axios.get(`/top_albums?name=${search}`);\r\n      const artist = await axios.get(`/top_artists?name=${search}`);\r\n      const playlist = await axios.get(`/top_playlists?name=${search}`);\r\n      let songList = song.data[0].filter(e => e.user_name === userId);\r\n      let albumList = album.data[0].filter(e => e.user_name === userId);\r\n      let artistList = artist.data.filter(e => e.user_name === userId);\r\n      let playlistList = playlist.data.filter(e => e.user_name === userId);\r\n      makeLists(songList, albumList, artistList, playlistList)\r\n      } catch(response) {\r\n    setLoading(false)\r\n    setData(<p style={{top:\"440px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">User doesn't exist</p>)\r\n      }\r\n    }; fetchData();\r\n   }, [toggle, props.user])\r\n\r\nconst handleSearch = () => {\r\nsetToggle(!toggle)\r\nsetLoading(true)\r\n}\r\n\r\n   const playCount = async (e) => {\r\nawait axios.put(`/count`, {\r\nsong_id: e.youtube_id,\r\ncount: e.play_count + 1,\r\n});\r\n};\r\n\r\nconst deleteSong = async (e) => {\r\nconst newId = e.youtube_id.replace(`'`,`''`);\r\nawait axios.delete(`/song/${newId}`);\r\nsetToggle(!toggle)\r\n};\r\nconst deleteArtist = async (e) => {\r\nconst newName = e.name.replace(`'`,`''`);\r\nawait axios.delete(`/artist/${newName}`);\r\nsetToggle(!toggle)\r\n};\r\nconst deleteAlbum = async (e) => {\r\nconst newName = e.name.replace(`'`,`''`);\r\nawait axios.delete(`/album/${newName}`);\r\nsetToggle(!toggle)\r\n};\r\nconst deletePlaylist = async (e) => {\r\nawait axios.delete(`/playlist/${e.id}`);\r\nsetToggle(!toggle)\r\n};\r\n\r\n\r\nconst makeLists = (songs, albums, artists, playlists) => {\r\n\r\nlet capitalUserId = userId.charAt(0).toUpperCase() + userId.slice(1)\r\n\r\nif (props.user) {\r\nif(props.user.username.toUpperCase() === userId.toUpperCase()){\r\nsetUser('My Uploads') \r\n} else {\r\nsetUser(`${capitalUserId}'s Uploads`)\r\n}\r\n} else {\r\nsetUser(`${capitalUserId}'s Uploads`)\r\n}\r\n\r\nlet z =1000\r\nlet sArray = songs.map(e => {\r\nz--;\r\nconst deleteButton = props.user && props.user.email === e.user ? <button onClick={() => deleteSong(e)} className=\"deleteButton\">Delete</button> : ''\r\n\r\nreturn (\r\n<li key={e.youtube_id} style={{zIndex: z}} className=\"hov\">\r\n<p>\r\n<NavLink className=\"navTo\" to=\"/songs\" onClick={() => props.song(e)}>\r\n{e.title}  - {e.artist}\r\n</NavLink>\r\n</p>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)}videoId={e.youtube_id} id=\"video\" opts={{width:\"250\",height:\"250\"}}/>\r\n<br/>\r\n{deleteButton}\r\n</li>\r\n)\r\n\r\n}\r\n)\r\n\r\n\r\nlet alArray = albums.map(e => {\r\nconst deleteButton = props.user && props.user.email === e.user ? <button onClick={() => deleteAlbum(e)} className=\"deleteButton\">Delete</button> : ''\r\nz--;\r\nreturn (\r\n<li style={{zIndex: z}} key={e.name} className=\"hov\">\r\n<p>\r\n<NavLink className=\"navTo\" to=\"/albums\" onClick={() => props.album(e)}>\r\n{e.name} - {e.artist}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to=\"/albums\" onClick={() => props.album(e)}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/>\r\n{deleteButton}\r\n</li>\r\n)}\r\n)\r\n\r\nlet arArray = artists.map(e => {\r\nconst deleteButton = props.user && props.user.email === e.user ? <button onClick={() => deleteArtist(e)} className=\"deleteButton\">Delete</button> : ''\r\nz--;\r\nreturn (\r\n<li style={{zIndex: z}} key={e.name} className=\"hov\">\r\n<p>\r\n<NavLink className=\"navTo\" to=\"/artists\" onClick={() => props.artist(e)}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to=\"/artists\" onClick={() => props.artist(e)}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/> \r\n{deleteButton}\r\n</li>\r\n)}\r\n) \r\nlet pArray = playlists.map(e => {\r\nconst deleteButton = props.user && props.user.email === e.user ? <button onClick={() => deletePlaylist(e)} className=\"deleteButton\">Delete</button> : ''\r\nz--\r\nreturn (\r\n<li style={{zIndex: z}} key={e.name} className=\"hov\">\r\n<p>\r\n<NavLink className=\"navTo\" to=\"/playlists\" onClick={() => props.playlist(e)}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to=\"/playlists\" onClick={() => props.playlist(e)}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/>\r\n{deleteButton}\r\n</li>\r\n)}\r\n)\r\n\r\nlet x = () => {\r\nreturn(\r\n<div>\r\n<p id=\"listTitle\" className='listTitle'>{user}</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<button onClick={() => handleSearch()} className=\"searchButton\">Search</button>\r\n\r\n<h6 className=\"upTitle\">Songs</h6>\r\n<div className='uploadsList'>\r\n<ScrollContainer className=\"upload\" >\r\n{sArray}\r\n</ScrollContainer>\r\n\r\n<h6 className=\"upTitle\">Albums</h6>\r\n<ScrollContainer className=\"upload\" >\r\n{alArray}\r\n</ScrollContainer>\r\n\r\n<h6 className=\"upTitle\">Artists</h6>\r\n<ScrollContainer className=\"upload\" >\r\n{arArray}\r\n</ScrollContainer>\r\n  <h6 className=\"upTitle\">Playlists</h6>\r\n<ScrollContainer className=\"upload\" >\r\n  {pArray}\r\n  </ScrollContainer>\r\n   <NavLink className=\"fa fa-arrow-left back\"  to=\"/Uploads\"></NavLink>\r\n<br/><br/>\r\n</div>\r\n</div> \r\n)}\r\nsetData(x)\r\nsetLoading(false)\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n\r\n\r\n  return (\r\n    <div id=\"uploadsPage\">\r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n  <br/>\r\n  {data}\r\n</div>\r\n  );\r\n  }\r\n\r\n\r\nfunction UploadsSearch(props){\r\nconst [search, setSearch] = useState(undefined)\r\n\r\nlet match = useRouteMatch();\r\n\r\n\r\n\r\nreturn(\r\n<div style={{position:'relative', width:\"92%\", top:'0px'}}>\r\n<p className='listTitle'>Search user</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<NavLink to={search ? `${match.url}/${search}` : `${match.url}`}>\r\n<button className=\"searchButton\">Search</button>\r\n</NavLink>\r\n{ props.user ? \r\n<NavLink to={`${match.url}/${props.user.username}`}>\r\n<button style={{position:'relative', textAlign:\"right\", width:\"108%\", top:\"550px\", marginBottom:\"0px\"}} className=\"post\">To my page</button>\r\n</NavLink> : '' }\r\n</div>\r\n)\r\n}\r\n\r\nfunction Uploads(props){\r\n\r\n\r\nlet match = useRouteMatch();\r\n\r\nreturn(\r\n<div>\r\n      <Switch>\r\n        <Route path={`${match.path}/:userId`}>\r\n          <UploadsData user={props.user}/>\r\n        </Route>\r\n        <Route path={match.path}>\r\n          <\r\n            UploadsSearch user={props.user}/>\r\n        </Route>\r\n      </Switch>\r\n</div>\r\n)\r\n}\r\n\r\n\r\nexport default Uploads;\r\n","import React, { useEffect, useState } from 'react';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nfunction NoFound() {\r\nconst [unfound, setUnfound] = useState(undefined)\r\nconst [loading, setLoading] = useState(true);\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      setUnfound(page)\r\n      setLoading(false)\r\n    }; fetchData();\r\n   }, [])\r\n\r\n let page =\r\n<div>\r\n<p style={{height:\"100px\", marginTop:\"-50px\", fontSize:\"400px\",textAlign:\"center\",width:\"825px\"}} className=\"dataTitle\">404</p>\r\n<p style={{position:'relative', top:\"180px\", fontSize:\"120px\",textAlign:\"right\",width:'95%'}} className=\"listTitle\">Page not found</p>\r\n</div>\r\n\r\n  const override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n{unfound}\r\n</div>\r\n  )}\r\n  \r\nexport default NoFound;\r\n","/* eslint-disable eqeqeq */\r\nimport React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport './Page.css';\r\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css';\r\nimport SideNav, {\r\n NavItem, NavIcon, NavText,\r\n} from '@trendmicro/react-sidenav';\r\nimport Home from './components/Home.js'\r\nimport Songs from './components/Songs.js'\r\nimport Artists from './components/Artists.js'\r\nimport Playlists from './components/Playlists.js'\r\nimport Albums from './components/Albums.js'\r\nimport {\r\n  Route,\r\n  Link,\r\n  Switch,\r\n  withRouter\r\n} from \"react-router-dom\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios'\r\nimport PostSong from './components/PostSong.js';\r\nimport PostAlbum from './components/PostAlbum.js';\r\nimport PostArtist from './components/PostArtist.js';\r\nimport PostPlaylist from './components/PostPlaylist.js';\r\nimport generator from 'generate-password'\r\nimport Uploads from './components/Uploads.js';\r\nimport NoFound from './NoFound.js';\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\n/*\r\nconst routes = [\r\n{ path: '/Songs', Component: Songs },\r\n{ path: '/artists', Component: Artists },\r\n{ path: '/playlists', Component: Playlists },\r\n{ path: '/albums', Component: Albums },\r\n{ path: '/Uploads',  Component: Uploads },\r\n{ path: '/PostSong', Component: PostSong },\r\n{ path: '/PostPlaylist', Component: PostPlaylist },\r\n{ path: '/PostAlbum', Component: PostAlbum },\r\n{ path: '/PostArtist', Component: PostArtist },\r\n{ path: '*', Component: NoFound},\r\n]\r\n\r\n{routes.map(({path, Component}) => (\r\n            <Route key={path} path={path}>\r\n              {({ match }) => (\r\n                <CSSTransition\r\n                  in={match != null}\r\n                  timeout={300}\r\n                  classNames=\"page\"\r\n                  unmountOnExit\r\n                >\r\n                    <Component user={user}/>\r\n                </CSSTransition>\r\n              )}\r\n            </Route>\r\n          ))\r\n}\r\n*/\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"down\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction App() {\r\nconst [registerOpen, setRegisterOpen] = useState(false)\r\nconst [loginOpen,setLoginOpen] = useState(false)\r\nconst [user, setUser] = useState(undefined);\r\n\r\nuseEffect(() => {\r\nlet user = localStorage.getItem('session');\r\nif (user == 0) {\r\nreturn\r\n}\r\nconst autoLogin = async () => {\r\ntry {\r\nconst { data } = await axios.get(`/auto/${user}`);\r\nsetTimeout(() => {\r\nsetUser(data[0])\r\n}, 500);\r\n} catch {\r\nreturn\r\n}\r\n}; autoLogin();\r\n}, [])\r\n\r\nconst handleLogout = async () => {\r\nawait axios.put(`/logout`, {\r\nemail: user.email,\r\n});\r\nsetUser(undefined)\r\nlocalStorage.clear();\r\n    };\r\n\r\n \r\nfunction validateEmail(mail) {\r\n if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(mail))\r\n  {\r\n    return (true)\r\n  }\r\n    return (false)\r\n}\r\n\r\n  const handleRegister = async (email, name, password, repassword) => {\r\n    let code = generator.generate({\r\n    length: 50,\r\n    numbers: true\r\n});\r\n\r\n    try{\r\n    if(!validateEmail(email)) {\r\n     return document.getElementById('errorMessage').innerHTML='Please enter a valid email address';\r\n    }\r\n     if(name.length > 10) {\r\n     return document.getElementById('errorMessage').innerHTML='Username can not exceed 10 characters';\r\n    }\r\n    if (password !== repassword){\r\n    return document.getElementById('errorMessage').innerHTML='Password fields do not match';\r\n           }\r\n\r\n      let occupied = await axios.get(`user/${name}`)  \r\nconsole.log(occupied.data)\r\nconsole.log(occupied.data.length)\r\n      if(occupied.data.length !== 0){\r\n      return document.getElementById('errorMessage').innerHTML = 'Username is already in use';\r\n      } else {\r\n      const { data } = await axios.post(`/users`, {\r\n      username: name,\r\n      email: email,\r\n      password: password,\r\n      auto_code: code,\r\n      })\r\nlocalStorage.setItem('session', code);\r\nsetUser(data[0])\r\nsetRegisterOpen(false)\r\n    }\r\n  } catch (response){\r\n  document.getElementById('errorMessage').innerHTML='The email you tried to register with is already in use';\r\n  }; \r\n  }\r\n\r\n\r\n    const handleLogin = async (email, password) => {\r\n    if(!validateEmail(email)) {\r\n    return document.getElementById('errorMessage').innerHTML='Please enter a valid email address';\r\n    }\r\n    let code = generator.generate({\r\n    length: 50,\r\n    numbers: true\r\n});\r\n    try{\r\n      const { data } = await axios.put(`/users`, {\r\n      email: email,\r\n      password: password,\r\n      auto_code: code,\r\n      });\r\nlocalStorage.setItem('session', code);\r\nsetLoginOpen(false)   \r\nsetTimeout(() => {\r\nsetUser(data[0])\r\n}, 500);\r\n  } catch (response){\r\n  document.getElementById('errorMessage').innerHTML='Either the email or password you entered is incorrect';\r\n  }; \r\n};\r\n\r\nfunction login(){\r\nlet email;\r\nlet password;\r\n\r\n      function insertEmail(event) {\r\n        email = event.target.value;\r\n      }\r\n\r\n      function insertPassword(event) {\r\n        password = event.target.value;\r\n      }\r\n\r\nreturn (\r\n  <span>\r\n<Button style={{fontSize:\"20px\", marginLeft:'255px'}} variant=\"text\" color=\"inherit\" onClick={() => setLoginOpen(true)}>\r\n        Login\r\n      </Button>\r\n      <Dialog TransitionComponent={Transition} open={loginOpen} onClose={() => setLoginOpen(false)} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Login</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            onChange={insertEmail}\r\n            defaultValue={email}\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            type=\"email\"\r\n            required\r\n            fullWidth\r\n          />\r\n            <TextField\r\n            onChange={insertPassword}\r\n            autoFocus\r\n            defaultValue={password}\r\n            margin=\"dense\"\r\n            id=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            required\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogTitle style={{color:'red'}} id=\"errorMessage\"></DialogTitle>\r\n        <DialogActions>\r\n          <Button type=\"submit\" onClick={() => setLoginOpen(false)} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={() => handleLogin(email, password)} color=\"primary\">\r\n            login\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      </span>\r\n)}\r\n\r\nfunction register(){\r\nlet email;\r\nlet username;\r\nlet password;\r\nlet repassword\r\n\r\n      function insertEmail(event) {\r\n        email = event.target.value;\r\n      }\r\n\r\n      function insertUsername(event) {\r\n        username = event.target.value;\r\n      }\r\n\r\n      function insertPassword(event) {\r\n        password = event.target.value;\r\n      }\r\n\r\n      function insertRePassword(event) {\r\n        repassword = event.target.value;\r\n      }\r\n\r\nreturn (\r\n  <span>\r\n<Button style={{fontSize:\"20px\"}} variant=\"text\" color=\"inherit\" onClick={() => setRegisterOpen(true)}>\r\n        Register\r\n      </Button>\r\n      <Dialog TransitionComponent={Transition} open={registerOpen} onClose={() => setRegisterOpen(false)} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Register</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            onChange={insertEmail}\r\n            autoFocus\r\n            required\r\n            margin=\"dense\"\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            type=\"email\"\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            onChange={insertUsername}\r\n            autoFocus\r\n            required\r\n            margin=\"dense\"\r\n            id=\"username\"\r\n            label=\"Username\"\r\n            type=\"name\"\r\n            fullWidth\r\n          />\r\n           <TextField\r\n            onChange={insertPassword}\r\n            autoFocus\r\n            required\r\n            margin=\"dense\"\r\n            id=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            fullWidth\r\n          />\r\n           <TextField\r\n            onChange={insertRePassword}\r\n            autoFocus\r\n            required\r\n            margin=\"dense\"\r\n            id=\"password\"\r\n            label=\"Confirm password\"\r\n            autoComplete=\"\"\r\n            type=\"password\"\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogTitle style={{color:'red'}} id=\"errorMessage\"></DialogTitle>\r\n        <DialogActions>\r\n          <Button onClick={() => setRegisterOpen(false)} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={() => handleRegister(email, username, password, repassword)} color=\"primary\">\r\n            Register\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      </span>\r\n)}\r\n\r\nconst logout =\r\n<Button style={{fontSize:\"20px\"}} variant=\"text\" color=\"inherit\" onClick={handleLogout}>\r\nLogout\r\n</Button>\r\n\r\nconst platform = user ? <h5> {logout} </h5> :  <h5> {login()} | {register()} </h5>\r\n\r\n\r\nconst AnimatedSwitch = withRouter(({ location }) => (\r\n  <TransitionGroup >\r\n    <CSSTransition key={location.key} classNames=\"page\" timeout={1000}>\r\n      <Switch location={location}>\r\n<Route exact path=\"/\" component={() => <Home user={user}/>}/>\r\n<Route path=\"/songs\" component={() => <Songs user={user}/>}/>\r\n<Route path=\"/artists\" component={() => <Artists user={user}/>}/>\r\n<Route path=\"/playlists\" component={() => <Playlists user={user}/>}/>\r\n<Route path=\"/albums\" component={() => <Albums user={user}/>}/>\r\n<Route path=\"/Uploads\" component={() => <Uploads user={user}/>}/>\r\n<Route path=\"/PostSong\" component={() => <PostSong user={user}/>}/>\r\n<Route path=\"/PostAlbum\" component={() => <PostAlbum user={user}/>}/>\r\n<Route path=\"/PostArtist\" component={() => <PostArtist user={user}/>}/>\r\n<Route path=\"/PostPlaylist\" component={() => <PostPlaylist user={user}/>}/>\r\n<Route path=\"*\" component={() => <NoFound user={user}/>}/>\r\n      </Switch>\r\n    </CSSTransition>\r\n  </TransitionGroup>\r\n));\r\n\r\n  return (\r\n<div className=\"App\">\r\n{platform}\r\n   <SideNav\r\n        style={{background:'rgb(114, 51, 51)', borderRight:\"2px solid white\", width:'5.5%'}}\r\n        className=\"sideNav\"\r\n        expanded={true}\r\n        onToggle={() => {return}}\r\n      >\r\n        <SideNav.Toggle/>\r\n        <SideNav.Nav defaultSelected=\"home\">\r\n          <NavItem eventKey=\"home\">\r\n            <NavIcon>\r\n              <i style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n              <Link to=\"/\"><i style={{color:'white', fontSize:'44px', paddingTop:\"3px\"}} className=\"fa fa-fw fa-home\" /></Link>\r\n          </NavItem>\r\n          <NavItem eventKey=\"1\">\r\n            <NavIcon>\r\n              <i className=\"fa fa-fw \" style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n            <NavText>\r\n               <Link className=\"navItem\" to=\"/songs\">Songs</Link>\r\n            </NavText>\r\n          </NavItem>\r\n             <NavItem eventKey=\"2\">\r\n            <NavIcon>\r\n              <i className=\"fa fa-fw \" style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n            <NavText>\r\n               <Link className=\"navItem\" to=\"/albums\">Albums</Link>\r\n            </NavText>\r\n          </NavItem>\r\n          <NavItem eventKey=\"3\">\r\n            <NavIcon>\r\n              <i className=\"fa fa-fw \" style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n            <NavText>\r\n           <Link className=\"navItem\" to=\"/artists\">Artists</Link>\r\n            </NavText>\r\n          </NavItem>\r\n          <NavItem eventKey=\"4\">\r\n            <NavIcon>\r\n              <i className=\"fa fa-fw \" style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n            <NavText>\r\n             <Link className=\"navItem\" to=\"/playlists\">Playlists</Link>\r\n            </NavText>\r\n          </NavItem>\r\n           <NavItem eventKey=\"5\">\r\n            <NavIcon>\r\n              <i className=\"fa fa-fw \" style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n            <NavText>\r\n             <Link className=\"navItem\" to=\"/Uploads\">Uploads</Link>\r\n            </NavText>\r\n          </NavItem>\r\n        </SideNav.Nav>\r\n      </SideNav>\r\n      <AnimatedSwitch />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {\r\n  BrowserRouter as Router\r\n} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <App />\r\n  </Router>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}