{"version":3,"sources":["components/Home.js","components/SongData.js","components/Songs.js","components/ArtistData.js","components/Artists.js","components/PlaylistData.js","components/Playlists.js","components/AlbumData.js","components/Albums.js","components/PostSong.js","components/PostAlbum.js","components/PostArtist.js","components/PostPlaylist.js","components/Uploads.js","NoFound.js","App.js","serviceWorker.js","index.js"],"names":["Home","props","useState","songs","setSongs","albums","setAlbums","artists","setArtists","playlists","setPlaylists","loading","setLoading","songsLength","setSongsLength","albumsLength","setAlbumsLength","artistsLength","setArtistsLength","playlistsLength","setPlaylistsLength","useEffect","a","axios","get","console","log","data","makeLists","alert","fetchData","playCount","e","patch","youtube_id","play_count","z","index","sArray","map","length","style","zIndex","key","className","to","title","Artist","name","onPlay","videoId","id","opts","width","height","alArray","onError","target","onerror","src","alt","cover_img","arArray","pArray","arrowColor","active","spinner","css","color","size","user","username","naturalSlideWidth","naturalSlideHeight","visibleSlides","totalSlides","step","infinite","maxHeight","float","SongData","undefined","song","setSong","songId","useParams","makeID","lyrics","split","item","idx","marginLeft","is_liked","album_name","artist_name","created_at","substr","fontSize","marginTop","top","textAlign","SongsList","list","setList","search","setSearch","preferences","setPreferences","admin","setAdmin","favorites","setFavorites","toggle","setToggle","disabled","setDisabled","match","useRouteMatch","email","getPreferences","isAdmin","is_admin","filter","toUpperCase","includes","favoriteList","JSON","parse","makeSongs","deleteSong","newId","replace","delete","isLiked","promise","Promise","resolve","reject","promise2","handleLike","then","setTimeout","newPreferences","x","element","stringify","password","push","array","heart","onClick","like","adminDelete","cursor","url","filterFavorites","onChange","event","value","Songs","path","ArtistData","artist","setArtist","artistId","songList","albumList","display","marginRight","left","background","position","ArtistsList","makeArtists","deleteArtist","newName","Artists","PlaylistData","playlist","setPlaylist","playlistId","controls","user_name","PlaylistsList","makePlaylists","deletePlaylist","Playlists","AlbumData","album","setAlbum","albumId","AlbumsList","makeAlbums","deleteAlbum","Albums","PostSong","selectAlbum","setSelectAlbum","setTitle","setLength","setYoutube_id","setLyrics","track_number","setTrack_number","setCreated_at","validateLength","test","addSong","preventDefault","date","Date","regex","enter","document","getElementById","innerHTML","newCreated_at","slice","newLyrics","newTitle","newArtist","label","indexOf","newAlbum","post","ArtistId","AlbumId","UserEmail","upload_at","toISOString","substring","window","location","reload","selectArtist","today","dd","getDate","mm","getMonth","yyyy","getFullYear","onSubmit","required","type","defaultValue","maxMenuHeight","options","rows","max","form","PostAlbum","addAlbum","image","class","PostArtist","addArtist","reset","PostPlaylist","selectSong","addPlaylist","newSongs","isMulti","UploadsData","setUser","setData","userId","capitalUserId","charAt","deleteButton","marginBottom","UploadsSearch","Uploads","NoFound","unfound","setUnfound","page","Transition","React","forwardRef","ref","Slide","direction","App","registerOpen","setRegisterOpen","loginOpen","setLoginOpen","decodedCookie","decodeURIComponent","cookie","sessionCookie","autoLogin","handleLogout","auto_code","validateEmail","mail","handleRegister","repassword","code","generator","generate","numbers","d","setTime","getTime","expires","toGMTString","handleLogin","logout","Button","variant","platform","Dialog","TransitionComponent","open","onClose","aria-labelledby","DialogTitle","DialogContent","TextField","autoFocus","margin","fullWidth","DialogActions","login","autoComplete","register","AnimatedSwitch","withRouter","TransitionGroup","CSSTransition","classNames","timeout","exact","component","borderRight","expanded","onToggle","Toggle","Nav","defaultSelected","eventKey","paddingTop","Boolean","hostname","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.50ddda21.chunk.js","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport YouTube from 'react-youtube';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport {\r\n  ButtonBack, ButtonNext, CarouselProvider, Slide, Slider,\r\n} from 'pure-react-carousel';\r\nimport 'pure-react-carousel/dist/react-carousel.es.css';\r\n\r\nfunction Home(props) {\r\nconst [songs, setSongs] = useState([]);\r\nconst [albums, setAlbums] = useState([]);\r\nconst [artists, setArtists] = useState([]);\r\nconst [playlists, setPlaylists] = useState([]);\r\nconst [loading, setLoading] = useState(true);\r\n\r\nconst [songsLength, setSongsLength] = useState(0);\r\nconst [albumsLength, setAlbumsLength] = useState(0);\r\nconst [artistsLength, setArtistsLength] = useState(0);\r\nconst [playlistsLength, setPlaylistsLength] = useState(0);\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n      const songs = await axios.get(`/api/songs`)\r\n      const albums = await axios.get(`/api/albums`);\r\n      const artists = await axios.get(`/api/artists`);\r\n      const playlists = await axios.get(`/api/playlists`);\r\n      console.log(songs.data)\r\n      console.log(albums)\r\n      makeLists(songs.data, albums.data, artists.data, playlists.data)\r\n      setLoading(false)\r\n      }\r\n       catch(response) {\r\n      setLoading(false)\r\n      return alert(response)\r\n      }\r\n    }; fetchData();\r\n   }, [])\r\n\r\nconst playCount = async (e) => {\r\nawait axios.patch(`/api/songs/count/${e.youtube_id}`, {\r\nplay_count: e.play_count + 1,\r\n});\r\n};\r\n\r\nconst makeLists = (songs, albums, artists, playlists) => {\r\nlet z =30;\r\nlet index= 0;\r\n\r\nlet sArray = songs.map(e => {\r\nsetSongsLength(songs.length)\r\nindex++;\r\nz--;\r\nreturn (\r\n<Slide index={index} style={{zIndex: z}} key={e.youtube_id} className=\"hov carouselist\">\r\n<div>\r\n<p>\r\n<NavLink className=\"navTo\" to={`/songs/${e.youtube_id}`} >{e.title} - {e.Artist.name}</NavLink>\r\n</p>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)}videoId={e.youtube_id} id=\"video\" opts={{width:\"250\",height:\"250\"}}/>\r\n<br/><br/>\r\n</div>\r\n</Slide>\r\n)}\r\n)\r\n\r\n\r\n\r\nlet alArray = albums.map(e => {\r\nsetAlbumsLength(albums.length)\r\nz--;\r\nreturn (\r\n<Slide style={{zIndex: z}} key={e.name} className=\"hov carouselist\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}`} >\r\n{e.name} - {e.Artist.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}`} >\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/><br/>\r\n</Slide>\r\n)}\r\n)\r\n\r\nlet arArray = artists.map(e => {\r\nz--;\r\nsetArtistsLength(artists.length)\r\nreturn (\r\n<Slide style={{zIndex: z}} key={e.name} className=\"hov carouselist\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/artists/${e.id}`}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`/artists/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/><br/>\r\n</Slide>\r\n)}\r\n)\r\n\r\nlet pArray = playlists.map(e => {\r\nz--;\r\nsetPlaylistsLength(playlists.length)\r\nreturn (\r\n<Slide style={{zIndex: z}} key={e.name} className=\"hov carouselist\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/playlists/${e.id}`}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`/playlists/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/><br/>\r\n</Slide>\r\n)}\r\n)\r\nsetSongs(sArray)\r\nsetAlbums(alArray)\r\nsetArtists(arArray)\r\nsetPlaylists(pArray)\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\nconst arrowColor = loading ? 'rgb(10, 10, 10)' : 'rgb(149, 243, 215)';\r\n\r\n  return (\r\n    <div>\r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n\r\n\r\n<h3>Hello, {props.user ? props.user.username : 'Guest'}</h3>\r\n\r\n\r\n<div className=\"homeLists\">\r\n<h4> Top Songs </h4> \r\n  <CarouselProvider\r\n    naturalSlideWidth={25}\r\n    naturalSlideHeight={35}\r\n    visibleSlides={4}\r\n    totalSlides={songsLength}\r\n    step={4}\r\n    infinite\r\n  >\r\n<Slider style={{maxHeight:\"420px\"}}>\r\n{songs}\r\n</Slider>\r\n    <ButtonBack style={{color:arrowColor}} className=\"arrow fa fa-arrow-left\" ></ButtonBack>\r\n    <ButtonNext style={{color:arrowColor, float:\"right\"}}  className=\"arrow fa fa-arrow-right\"></ButtonNext>\r\n</CarouselProvider>\r\n\r\n\r\n<h4> Top Albums </h4> \r\n  <CarouselProvider\r\n    naturalSlideWidth={25}\r\n    naturalSlideHeight={35}\r\n    visibleSlides={4}\r\n    totalSlides={albumsLength}\r\n    step={4}\r\n    infinite\r\n  >\r\n<Slider style={{maxHeight:\"420px\"}}>\r\n{albums}\r\n</Slider>\r\n    <ButtonBack style={{color:arrowColor}} className=\"arrow fa fa-arrow-left\" ></ButtonBack>\r\n    <ButtonNext style={{color:arrowColor, float:\"right\"}} className=\"arrow fa fa-arrow-right\"></ButtonNext>\r\n</CarouselProvider>\r\n\r\n<h4> Top Artists </h4> \r\n  <CarouselProvider\r\n    naturalSlideWidth={25}\r\n    naturalSlideHeight={35}\r\n    visibleSlides={4}\r\n    totalSlides={artistsLength}\r\n    step={4}\r\n    infinite\r\n  >\r\n<Slider style={{maxHeight:\"420px\"}}>\r\n{artists}\r\n</Slider>\r\n    <ButtonBack style={{color:arrowColor}} className=\"arrow fa fa-arrow-left\" ></ButtonBack>\r\n    <ButtonNext style={{color:arrowColor, float:\"right\"}} className=\"arrow fa fa-arrow-right\"></ButtonNext>\r\n</CarouselProvider>\r\n\r\n<h4> Top Playlists </h4> \r\n  <CarouselProvider\r\n    naturalSlideWidth={25}\r\n    naturalSlideHeight={35}\r\n    visibleSlides={4}\r\n    totalSlides={playlistsLength}\r\n    step={4}\r\n    infinite\r\n  >\r\n<Slider style={{maxHeight:\"420px\"}}>\r\n{playlists}\r\n</Slider>\r\n    <ButtonBack style={{color:arrowColor}}className=\"arrow fa fa-arrow-left\" ></ButtonBack>\r\n    <ButtonNext style={{color:arrowColor, float:\"right\"}} className=\"arrow fa fa-arrow-right\"></ButtonNext>\r\n</CarouselProvider>\r\n</div>\r\n\r\n</div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport YouTube from 'react-youtube';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nfunction SongData(props) {\r\nconst [song, setSong] = useState(undefined)\r\nconst [loading, setLoading] = useState(true);\r\n\r\nlet { songId } = useParams();\r\n\r\nconst playCount = async (e) => {\r\nawait axios.patch(`/api/songs/count/${e.youtube_id}`, {\r\nplay_count: e.play_count + 1,\r\n});\r\n};\r\n\r\nuseEffect(() => {\r\n  const fetchData = async () => {\r\n      try{\r\n      const { data } = await axios.get(`/api/songs/${songId}`)\r\n      makeID(data)\r\n  } catch(response) {\r\n        setLoading(false)\r\n    return setSong(<p style={{top:\"430px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">Unknown song</p>)\r\n  }\r\n    }; fetchData();\r\n   }, [])\r\n\r\n\r\n       \r\nfunction makeID(e){\r\n\r\nlet lyrics = '' \r\nlyrics = e.lyrics.split(\"&&\").map(function(item, idx) {\r\n        return (\r\n            <span key={idx}>\r\n                {item}\r\n                <br/>\r\n            </span>\r\n         )}) \r\n\r\nlet x = () => {\r\nreturn(\r\n  <div>\r\n<div  style={{marginLeft:'50px'}}>\r\n<p className=\"dataTitle\">{e.title}</p>\r\n<br/>\r\n<div className=\"songDataPage\">\r\n<div>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)} videoId={e.youtube_id} id=\"video\" opts={{width:\"600\",height:\"600\"}}/>\r\n<br/>\r\n<i><strong>{e.is_liked}</strong>  people liked this song</i><br/>\r\n<br/><br/><br/><br/><br/><br/><br/>\r\n<i><strong>Views:</strong>{\" \"} {e.play_count}</i><br/>\r\n<i><strong>Album:</strong>{\" \"}{e.album_name}</i><br/>\r\n<i><strong>Artist:</strong>{\" \"} {e.artist_name}</i><br/>\r\n<i><strong>Release date:</strong>{\" \"} {e.created_at.substr(0, 10)}</i><br/><br/>\r\n</div>\r\n<div className=\"dataLyrics\">\r\n<strong style={{fontSize:\"30px\"}}>Lyrics:</strong><br/>\r\n<br/>\r\n{lyrics}\r\n</div>\r\n</div>\r\n</div>\r\n<NavLink style={{marginTop:'-35px', marginLeft:'50px'}}  className=\"fa fa-arrow-left back\" to=\"/songs\"></NavLink>\r\n</div>\r\n)}\r\nsetSong(x)\r\nsetLoading(false)\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n{song}\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default SongData;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport YouTube from 'react-youtube';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  NavLink,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport SongData from './SongData.js';\r\n\r\nfunction SongsList(props) {\r\nconst [list, setList] = useState([])\r\nconst [search, setSearch] = useState('')\r\nconst [preferences, setPreferences] = useState(\"[]\")\r\nconst [admin, setAdmin] = useState(0)\r\nconst [favorites, setFavorites] = useState(false)\r\nconst [toggle, setToggle] = useState(false)\r\nconst [loading, setLoading] = useState(true);\r\nconst [disabled, setDisabled] = useState(false)\r\n\r\nlet match = useRouteMatch();\r\n\r\nuseEffect(() => {\r\nconst getPreferences = async () => {\r\ntry {\r\nconst { data } = await axios.get(`/api/users/preferences/${props.user.email}`)\r\nsetPreferences(data)\r\n} catch(error) {\r\nreturn \r\n}\r\n}; getPreferences();\r\n}, [toggle])\r\n\r\nuseEffect(() => {\r\nif(props.user){\r\nlet isAdmin = props.user.is_admin;\r\nsetAdmin(isAdmin)\r\n}}, [props.user])\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n      const songs = await (await axios.get(`/api/songs?name=${search}`)).data;\r\n      let list = songs.filter(e => e.title.toUpperCase().includes(search.toUpperCase()))\r\n      if (!favorites) {\r\n      makeSongs(list) \r\n      } else {\r\n      let favoriteList = list.filter(e => JSON.parse(preferences).includes(`song: ${e.youtube_id}`))\r\n      makeSongs(favoriteList)\r\n      }\r\n    } catch(response) {\r\n    setLoading(false)  \r\n    return alert(response)\r\n    }\r\n    }; fetchData();\r\n   }, [disabled, toggle, favorites, preferences])\r\n\r\n\r\nconst handleSearch = () => {\r\nsetToggle(!toggle)\r\nsetLoading(true)\r\n}\r\n\r\nconst deleteSong = async (e) => {\r\nconst newId = e.youtube_id.replace(`'`,`''`);\r\nawait axios.delete(`/api/songs/${newId}`);\r\nsetToggle(!toggle)\r\n};\r\n\r\nconst playCount = async (e) => {\r\nawait axios.patch(`/api/songs/count/${e.youtube_id}`, {\r\nplay_count: e.play_count + 1,\r\n});\r\n};\r\n\r\nconst isLiked= (e) => {\r\nconst promise = new Promise((resolve, reject) => {\r\n    resolve(setDisabled(true));\r\n})\r\nconst promise2 = new Promise((resolve, reject) => {\r\n    resolve(handleLike(e));\r\n})\r\npromise.then(() => promise2)\r\npromise2.then(() => {\r\n  setTimeout(() => {\r\n    setDisabled(false)\r\n  }, 1500);\r\n})\r\n}\r\n\r\n\r\nconst handleLike = async (e) => {\r\nlet newPreferences = JSON.parse(preferences)\r\nif (newPreferences.includes(`song: ${e.youtube_id}`)){\r\nlet x = newPreferences.filter(element => element !== `song: ${e.youtube_id}`)\r\n\r\nawait axios.patch(`/api/songs/like/${e.youtube_id}`, {\r\nis_liked: e.is_liked - 1,\r\n})\r\nawait axios.patch(`/api/users/${props.user.email}`, {\r\npreferences: JSON.stringify(x),\r\npassword: props.user.password\r\n})\r\n} else {\r\nnewPreferences.push(`song: ${e.youtube_id}`)\r\nawait axios.patch(`/api/songs/like/${e.youtube_id}`, {\r\nis_liked: e.is_liked + 1,\r\n});\r\nawait axios.patch(`/api/users/${props.user.email}`, {\r\npreferences: JSON.stringify(newPreferences),\r\npassword: props.user.password\r\n});\r\n}\r\nsetToggle(!toggle)\r\n}\r\n\r\nconst makeSongs = (songs) => {\r\nlet x = JSON.parse(preferences);\r\n\r\nlet array = songs.map(e => {\r\nconst heart = x.includes(`song: ${e.youtube_id}`) ? \r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like fas fa-heart\"/> :\r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like far fa-heart\"/>\r\nconst like = props.user ? heart :  '';\r\n\r\nconst deleteButton = <button style={{marginTop:\"20px\"}} onClick={() => deleteSong(e)} className=\"deleteButton\">Delete</button>;\r\nconst adminDelete = admin === 1 ? deleteButton : '';\r\n\r\nreturn (\r\n<li key={e.youtube_id} className=\"grid-item\">\r\n<span style={{cursor:'pointer'}} >{like}</span>\r\n<p>\r\n<NavLink className=\"navTo\" to={`${match.url}/${e.youtube_id}`}>{e.title} - {e.Artist.name}</NavLink>\r\n</p>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)} videoId={e.youtube_id} id=\"video\" opts={{width:\"250\",height:\"250\"}}/>\r\n{adminDelete}\r\n</li>\r\n)}\r\n)\r\nsetList(array)\r\nsetLoading(false)\r\n}\r\n\r\nconst filterFavorites = favorites ?  <i className=\"fas fa-heart\"></i> : <i className=\"far fa-heart\"></i>\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div> \r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n<p className='listTitle'>\r\n<NavLink className=\"fa fa-plus-square-o add\" to=\"/PostSong\"></NavLink>  \r\n{\" \"} Songs</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<button onClick={() => handleSearch()} className=\"searchButton\">Search</button>\r\n{props.user ? <i className=\"filterFavorites\" onClick={() => setFavorites(!favorites)}>{filterFavorites}</i> : ''}\r\n<ul className=\"grid-container\"><br/>\r\n{list}\r\n</ul>\r\n</div>\r\n  );\r\n}\r\n\r\nfunction Songs(props){\r\n\r\nlet match = useRouteMatch();\r\n\r\n\r\nreturn(\r\n      <Switch>\r\n        <Route path={`${match.path}/:songId`}>\r\n          <SongData user={props.user}/>\r\n        </Route>\r\n        <Route path={match.path}>\r\n          <SongsList user={props.user}/>\r\n        </Route>\r\n      </Switch>\r\n)\r\n}\r\n\r\nexport default Songs;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport YouTube from 'react-youtube';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\n\r\nfunction ArtistData(props) {\r\nconst [loading, setLoading] = useState(true);\r\nconst [artist, setArtist] = useState(undefined)\r\n\r\nlet { artistId } = useParams();\r\n\r\nconst playCount = async (e) => {\r\nawait axios.patch(`/api/songs/count/${e.youtube_id}`, {\r\nplay_count: e.play_count + 1,\r\n});\r\n};\r\n\r\n\r\nuseEffect(() => {\r\n  const fetchData = async () => {\r\n      try{\r\n      const { data } = await axios.get(`/api/artists/${artistId}`)\r\n      makeID(data.artist, data.albums, data.songs)\r\n  } catch(response) {\r\n        setLoading(false)\r\n    return setArtist(<p style={{top:\"430px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">Unknown artist</p>)\r\n  }\r\n    }; fetchData();\r\n   }, [])\r\n\r\n\r\nfunction makeID(e, albums, songs){\r\n\r\n\r\nlet songList = songs.map(e => {\r\nreturn (\r\n<div key={e.youtube_id} className=\"hov grid-item3\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/songs/${e.youtube_id}?name=${artistId}`}>{e.title}</NavLink>\r\n</p>\r\n<YouTube className=\"video xxx\" onPlay={() => playCount(e)} videoId={e.youtube_id} opts={{width:'200', height:'200'}} id=\"video\"/>\r\n</div>   \r\n)})\r\n\r\nlet albumList = albums.map(e => {\r\nreturn (\r\n<div key={e.name} className=\"hov grid-item3\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}?name=${artistId}`}>{e.name}</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`/albums/${e.id}?name=${artistId}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"200\" height=\"200\" src={e.cover_img}></img>\r\n</NavLink>\r\n</div>   \r\n)\r\n})    \r\n\r\nlet x = () => {\r\nreturn (\r\n<div style={{marginLeft:'50px', width:\"96.5%\"}}>\r\n<p className=\"dataTitle\">{e.name}</p>\r\n<br/><br/>\r\n\r\n\r\n<div style={{width:'100%', marginTop:'-105px', color:\"white\", display:\"flex\"}}>\r\n\r\n<div style={{fontSize:'20px', width:'36%', marginRight:\"2%\"}}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"100%\" height=\"72%\" src={e.cover_img}></img>\r\n<br/>\r\n<i><strong>{e.is_liked}</strong> people liked this artist</i><br/>\r\n\r\n</div>\r\n\r\n\r\n<div style={{width:'62%'}}>\r\n<h6 className=\"songsTitle\">Songs</h6>\r\n<div className=\"artistData\">\r\n{songList}\r\n</div><br/><br/><br/><br/><br/>\r\n<h6 className=\"songsTitle\">Albums</h6>\r\n<div className=\"artistData\">\r\n{albumList}\r\n</div>\r\n</div>\r\n\r\n</div>\r\n<NavLink style={{marginTop:'-35px'}} className=\"fa fa-arrow-left back\" to=\"/artists\"></NavLink>\r\n</div>\r\n)}\r\nsetArtist(x)\r\nsetTimeout(() => {\r\nsetLoading(false) \r\n}, 1500);\r\n}\r\n\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  {loading ?\r\n  <p style={{left:\"0\", top:\"-15px\", zIndex:\"1007\", background:\"rgb(0,0,0,0.5)\", position:\"fixed\", width:\"100vw\", height:\"100vh\"}}></p> : ''\r\n  }\r\n  </LoadingOverlay>\r\n{artist}\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default ArtistData;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  NavLink,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport ArtistData from './ArtistData.js';\r\n\r\n\r\n\r\nfunction ArtistsList(props) {\r\nconst [list, setList] = useState([])\r\nconst [search, setSearch] = useState('')\r\nconst [preferences, setPreferences] = useState(\"[]\")\r\nconst [admin, setAdmin] = useState(0)\r\nconst [favorites, setFavorites] = useState(false)\r\nconst [toggle, setToggle] = useState(false)\r\nconst [loading, setLoading] = useState(true);\r\nconst [disabled, setDisabled] = useState(false)\r\n\r\nlet match = useRouteMatch();\r\n\r\nuseEffect(() => {\r\nconst getPreferences = async () => {\r\ntry {\r\nconst { data } = await axios.get(`/api/users/preferences/${props.user.email}`)\r\nsetPreferences(data)\r\n} catch {\r\nreturn\r\n}\r\n}; getPreferences();\r\n}, [toggle])\r\n\r\nuseEffect(() => {\r\nif(props.user){\r\nlet isAdmin = props.user.is_admin;\r\nsetAdmin(isAdmin)\r\n}}, [props.user])\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n      const artists = await (await axios.get(`/api/artists?name=${search}`)).data;\r\n      let list = artists.filter(e => e.name.toUpperCase().includes(search.toUpperCase()))\r\n      if (!favorites) {\r\n      makeArtists(list) \r\n      } else {\r\n      let favoriteList = list.filter(e => JSON.parse(preferences).includes(`artist: ${e.id}`))\r\n      makeArtists(favoriteList)\r\n      }} catch(response) {\r\n    setLoading(false)\r\n    return alert(response)\r\n      }\r\n\r\n    }; fetchData();\r\n     }, [disabled, toggle, favorites, preferences])\r\n\r\nconst handleSearch = () => {\r\nsetToggle(!toggle)\r\nsetLoading(true)\r\n}\r\n\r\nconst deleteArtist = async (e) => {\r\nconst newName = e.name.replace(`'`,`''`);\r\nawait axios.delete(`/api/artists/${newName}`);\r\nsetToggle(!toggle)\r\n};\r\n\r\nconst isLiked= (e) => {\r\nconst promise = new Promise((resolve, reject) => {\r\n    resolve(setDisabled(true));\r\n})\r\nconst promise2 = new Promise((resolve, reject) => {\r\n    resolve(handleLike(e));\r\n})\r\npromise.then(() => promise2)\r\npromise2.then(() => {\r\n  setTimeout(() => {\r\n    setDisabled(false)\r\n  }, 1500);\r\n})\r\n\r\n}\r\n\r\n\r\nconst handleLike = async (e) => {\r\nlet newPreferences = JSON.parse(preferences)\r\nif (newPreferences.includes(`artist: ${e.id}`)){\r\nlet x = newPreferences.filter(element => element !== `artist: ${e.id}`)\r\n\r\nawait axios.patch(`/api/artists/like/${e.id}`, {\r\nis_liked: e.is_liked - 1,\r\n})\r\nawait axios.patch(`/api/users/${props.user.email}`, {\r\npreferences: JSON.stringify(x),\r\npassword: props.user.password\r\n})\r\n} else {\r\nnewPreferences.push(`artist: ${e.id}`)\r\nawait axios.patch(`/api/artists/like/${e.id}`, {\r\nis_liked: e.is_liked + 1,\r\n});\r\nawait axios.patch(`/api/users/${props.user.email}`, {\r\npreferences: JSON.stringify(newPreferences),\r\npassword: props.user.password\r\n});\r\n}\r\nsetToggle(!toggle)\r\n}\r\n\r\n\r\nconst makeArtists = (artists) => {\r\n\r\nlet x = JSON.parse(preferences);\r\n\r\nlet array = artists.map(e => {\r\nconst heart = x.includes(`artist: ${e.id}`) ? \r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like fas fa-heart\"/> :\r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like far fa-heart\"/>\r\nconst like = props.user ? heart :  '';\r\n\r\nconst deleteButton = <button onClick={() => deleteArtist(e)} className=\"deleteButton\">Delete</button>;\r\nconst adminDelete = admin === 1 ? deleteButton : '';\r\n\r\nreturn (\r\n<li key={e.name} className=\"grid-item\">\r\n<span style={{cursor:'pointer'}}>{like} {\" \"}</span>\r\n<p>\r\n<NavLink className=\"navTo\" to={`${match.url}/${e.id}`}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\"to={`${match.url}/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n{adminDelete}\r\n</li>\r\n)}\r\n)\r\nsetList(array)\r\nsetLoading(false)\r\n}\r\n\r\n\r\nconst filterFavorites = favorites ?  <i className=\"fas fa-heart\"></i> : <i className=\"far fa-heart\"></i>\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div> \r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n<p className='listTitle'>\r\n<NavLink className=\"fa fa-plus-square-o add\" to=\"/PostArtist\"></NavLink>  \r\n{\" \"} Artists</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<button onClick={() => handleSearch()} className=\"searchButton\">Search</button>\r\n{props.user ? <i className=\"filterFavorites\" onClick={() => setFavorites(!favorites)}>{filterFavorites}</i> : ''}\r\n<ul className=\"grid-container\">\r\n{list}\r\n</ul>\r\n</div>\r\n  );\r\n}\r\n\r\nfunction Artists(props){\r\n\r\nlet match = useRouteMatch();\r\n\r\nreturn(\r\n      <Switch>\r\n        <Route path={`${match.path}/:artistId`}>\r\n          <ArtistData user={props.user}/>\r\n        </Route>\r\n        <Route path={match.path}>\r\n          <ArtistsList user={props.user}/>\r\n        </Route>\r\n      </Switch>\r\n)}\r\n\r\nexport default Artists;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport YouTube from 'react-youtube';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport ReactPlayer from 'react-player/youtube'\r\n\r\nfunction PlaylistData(props) {\r\nconst [loading, setLoading] = useState(true);\r\nconst [playlist, setPlaylist] = useState(undefined)\r\n\r\nlet { playlistId } = useParams();\r\n\r\nconst playCount = async (e) => {\r\nawait axios.patch(`/api/songs/count/${e.youtube_id}`, {\r\nplay_count: e.play_count + 1,\r\n});\r\n};\r\n\r\nuseEffect(() => {\r\n  const fetchData = async () => {\r\n      try{\r\n      const { data } = await axios.get(`/api/playlists/${playlistId}`);\r\n      const songs = await axios.get(`/api/songs`)\r\n      let list = JSON.parse(data.songs);\r\n      let songList = songs.data.filter(e => list.includes(e.youtube_id))\r\n      makeID(data, songList)\r\n  } catch(response) {\r\n        setLoading(false)\r\n    return setPlaylist(<p style={{top:\"430px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">Unknown playlist</p>)\r\n  }\r\n    }; fetchData();\r\n   }, [])\r\n\r\n  \r\n\r\nfunction makeID(e, songs){\r\n\r\nlet url = []\r\n\r\nlet list = songs.map(e => {\r\nurl.push(`https://www.youtube.com/watch?v=${e.youtube_id}`)\r\nreturn (\r\n<li key={e.youtube_id} className=\"grid-item2\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/songs/${e.youtube_id}?name=${playlistId}`}>{e.title} - {e.Artist.name}</NavLink>\r\n</p>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)} videoId={e.youtube_id} id=\"video\" opts={{width:\"200\",height:\"200\"}}/>\r\n</li>   \r\n)\r\n})    \r\n\r\nlet x = () => {\r\nreturn (\r\n<div style={{marginLeft:'50px'}}>\r\n<p className=\"dataTitle\">{e.name}</p>\r\n<br/><br/>\r\n<div style={{width:'100%',marginTop:'-105px', color:\"white\", display:\"flex\"}}>\r\n<div style={{fontSize:'20px', width:'36%', marginRight:\"2%\"}}>\r\n<ReactPlayer url={url} controls={true} width=\"100%\" height=\"450px\" />\r\n<i><strong>{e.is_liked}</strong> people liked this playlist</i>\r\n<br/><br/>\r\n<i><strong>Created by:</strong>{\" \"} {e.user_name}</i><br/><br/><br/>\r\n</div>\r\n<div style={{width:'62%'}}>\r\n<h6 className=\"songsTitle\">Songs</h6>\r\n<div className=\"dataSongs\">\r\n{list}\r\n</div>\r\n</div>\r\n</div>\r\n<NavLink className=\"fa fa-arrow-left back\" to=\"/playlists\"></NavLink>\r\n</div>\r\n)}\r\nsetPlaylist(x)\r\nsetTimeout(() => {\r\nsetLoading(false) \r\n}, 1500);\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n{playlist}\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PlaylistData;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n  \r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  NavLink,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport PlaylistData from './PlaylistData.js';\r\n\r\nfunction PlaylistsList(props) {\r\nconst [list, setList] = useState([])\r\nconst [search, setSearch] = useState('')\r\nconst [preferences, setPreferences] = useState(\"[]\")\r\nconst [admin, setAdmin] = useState(0)\r\nconst [toggle, setToggle] = useState(false)\r\nconst [favorites, setFavorites] = useState(false)\r\nconst [loading, setLoading] = useState(true);\r\nconst [disabled, setDisabled] = useState(false)\r\n\r\nlet match = useRouteMatch();\r\n\r\nuseEffect(() => {\r\nconst getPreferences = async () => {\r\ntry {\r\nconst { data } = await axios.get(`/api/users/preferences/${props.user.email}`)\r\nsetPreferences(data)\r\n} catch {\r\nreturn\r\n}\r\n}; getPreferences();\r\n}, [toggle])\r\n\r\nuseEffect(() => {\r\nif(props.user){\r\nlet isAdmin = props.user.is_admin;\r\nsetAdmin(isAdmin)\r\n}}, [props.user])\r\n\r\n\r\nuseEffect(() => {\r\n  const fetchData = async () => {\r\n      try{\r\n      const playlists = await (await axios.get(`/api/playlists?name=${search}`)).data;\r\n      let list = playlists.filter(e => e.name.toUpperCase().includes(search.toUpperCase()))\r\n      if (!favorites) {\r\n      makePlaylists(list) \r\n      } else {\r\n      let favoriteList = list.filter(e => JSON.parse(preferences).includes(`playlist: ${e.id}`))\r\n      makePlaylists(favoriteList)\r\n      }} catch(response) {\r\n    setLoading(false)\r\n    return alert(response)\r\n  }\r\n    }; fetchData();\r\n   }, [disabled, toggle, favorites, preferences])\r\n\r\n\r\nconst handleSearch = () => {\r\nsetToggle(!toggle)\r\nsetLoading(true)\r\n}\r\n\r\nconst deletePlaylist = async (e) => {\r\nawait axios.delete(`/api/playlists/${e.id}`);\r\nsetToggle(!toggle)\r\n};\r\n\r\nconst isLiked= (e) => {\r\nconst promise = new Promise((resolve, reject) => {\r\n    resolve(setDisabled(true));\r\n})\r\nconst promise2 = new Promise((resolve, reject) => {\r\n    resolve(handleLike(e));\r\n})\r\npromise.then(() => promise2)\r\npromise2.then(() => {\r\n  setTimeout(() => {\r\n    setDisabled(false)\r\n  }, 1500);\r\n})\r\n\r\n}\r\n\r\n\r\nconst handleLike = async (e) => {\r\nlet newPreferences = JSON.parse(preferences)\r\nif (newPreferences.includes(`playlist: ${e.id}`)){\r\nlet x = newPreferences.filter(element => element !== `playlist: ${e.id}`)\r\n\r\nawait axios.patch(`/api/playlists/like/${e.id}`, {\r\nis_liked: e.is_liked - 1,\r\n})\r\nawait axios.patch(`/api/users/${props.user.email}`, {\r\npreferences: JSON.stringify(x),\r\npassword: props.user.password\r\n})\r\n} else {\r\nnewPreferences.push(`playlist: ${e.id}`)\r\nawait axios.patch(`/api/playlists/like/${e.id}`, {\r\nis_liked: e.is_liked + 1,\r\n});\r\nawait axios.patch(`/api/users/${props.user.email}`, {\r\npreferences: JSON.stringify(newPreferences),\r\npassword: props.user.password\r\n});\r\n}\r\nsetToggle(!toggle)\r\n}\r\n\r\nconst makePlaylists = (playlists) => {\r\n\r\nlet x = JSON.parse(preferences)\r\n\r\nlet array = playlists.map(e => {\r\nconst heart = x.includes(`playlist: ${e.id}`) ?\r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like fas fa-heart\"/> :\r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like far fa-heart\"/>\r\nconst like = props.user ? heart :  '';\r\n\r\nconst deleteButton = <button onClick={() => deletePlaylist(e)} className=\"deleteButton\">Delete</button>;\r\nconst adminDelete = admin === 1 ? deleteButton : '';\r\n\r\nreturn (\r\n<li key={e.name} className=\"grid-item\">\r\n<span style={{cursor:'pointer'}} >{like} </span>\r\n<p>\r\n<NavLink className=\"navTo\"  to={`${match.url}/${e.id}`}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`${match.url}/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n{adminDelete}\r\n</li>\r\n)}\r\n)\r\nsetList(array)\r\nsetLoading(false)\r\n}\r\n\r\nconst filterFavorites = favorites ?  <i className=\"fas fa-heart\"></i> : <i className=\"far fa-heart\"></i>\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div> \r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n<p className='listTitle'>\r\n<NavLink className=\"fa fa-plus-square-o add\" to=\"/PostPlaylist\"></NavLink>  \r\n{\" \"} Playlists</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<button onClick={() => handleSearch()} className=\"searchButton\">Search</button>\r\n{props.user ? <i className=\"filterFavorites\" onClick={() => setFavorites(!favorites)}>{filterFavorites}</i> : ''}\r\n<ul className=\"grid-container\">\r\n{list}\r\n</ul>\r\n</div>\r\n  );\r\n}\r\n\r\nfunction Playlists(props){\r\n\r\nlet match = useRouteMatch();\r\n\r\nreturn(\r\n      <Switch>\r\n        <Route path={`${match.path}/:playlistId`}>\r\n          <PlaylistData user={props.user}/>\r\n        </Route>\r\n        <Route path={match.path}>\r\n          <PlaylistsList user={props.user}/>\r\n        </Route>\r\n      </Switch>\r\n)}\r\n\r\n\r\n\r\n\r\nexport default Playlists;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport YouTube from 'react-youtube';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nfunction AlbumData(props) {\r\nconst [album, setAlbum] = useState(undefined)\r\nconst [loading, setLoading] = useState(true);\r\n\r\nlet { albumId } = useParams();\r\n\r\nconst playCount = async (e) => {\r\nawait axios.patch(`/api/songs/count/${e.youtube_id}`, {\r\nplay_count: e.play_count + 1,\r\n});\r\n};\r\n\r\n\r\n   useEffect(() => {\r\n  const fetchData = async () => {\r\n      try{\r\n      const { data } = await axios.get(`/api/albums/${albumId}`)\r\n      makeID(data.album, data.songs)\r\n      } catch(response) {\r\n        setLoading(false)\r\n  return setAlbum(<p style={{top:\"430px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">Unknown album</p>)\r\n  }\r\n    }; fetchData();\r\n   }, [])\r\n\r\n\r\n\r\nfunction makeID(e, songs){\r\nlet list = songs.map(e => {\r\nreturn (\r\n<li key={e.youtube_id} className=\"grid-item2\">\r\n<p>\r\n<NavLink className=\"navTo\" to={`/songs/${e.youtube_id}?name=${albumId}`} >{e.title}</NavLink>\r\n</p>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)} videoId={e.youtube_id} id=\"video\" opts={{width:\"200\",height:\"200\"}}/>\r\n</li>   \r\n)\r\n})    \r\n\r\nlet x = () => {\r\nreturn (\r\n<div  style={{marginLeft:'50px'}}>\r\n<p className=\"dataTitle\">{e.name}</p>\r\n\r\n<div style={{width:'100%', marginTop:'-60px', color:\"white\", display:\"flex\"}}>\r\n\r\n<div style={{fontSize:'20px', width:'36%', marginRight:\"2%\"}}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"100%\" height=\"75%\" src={e.cover_img}></img>\r\n<br/>\r\n<i><strong>{e.is_liked}</strong> people liked this album</i><br/>\r\n<br/><br/>\r\n<i><strong>Artist:</strong>{\" \"} {e.artist_name}</i><br/>\r\n<i><strong>Release date:</strong>{\" \"} {e.created_at.substr(0, 10)}</i>\r\n</div>\r\n\r\n<div style={{width:'62%'}}>\r\n<h6 className=\"songsTitle\">Songs</h6>\r\n<div className=\"dataSongs\">\r\n{list}\r\n</div>\r\n\r\n</div>\r\n</div>\r\n<NavLink className=\"fa fa-arrow-left back\" to=\"/albums\"></NavLink>\r\n</div>\r\n);\r\n}\r\nsetAlbum(x)\r\nsetTimeout(() => {\r\nsetLoading(false) \r\n}, 1500);\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n{album}\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default AlbumData;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  NavLink,\r\n  useRouteMatch,\r\n  } from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport AlbumData from './AlbumData.js';\r\n\r\n\r\nfunction AlbumsList(props) {\r\nconst [list, setList] = useState([])\r\nconst [search, setSearch] = useState('')\r\nconst [preferences, setPreferences] = useState(\"[]\")\r\nconst [admin, setAdmin] = useState(0)\r\nconst [toggle, setToggle] = useState(false)\r\nconst [favorites, setFavorites] = useState(false)\r\nconst [loading, setLoading] = useState(true);\r\nconst [disabled, setDisabled] = useState(false)\r\n\r\nlet match = useRouteMatch();\r\n\r\nuseEffect(() => {\r\nconst getPreferences = async () => {\r\ntry {\r\nconst { data } = await axios.get(`/api/users/preferences/${props.user.email}`)\r\nsetPreferences(data)\r\n} catch {\r\nreturn\r\n}\r\n}; getPreferences();\r\n}, [toggle])\r\n\r\nuseEffect(() => {\r\nif(props.user){\r\nlet isAdmin = props.user.is_admin;\r\nsetAdmin(isAdmin)\r\n}}, [props.user])\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try{\r\n      const albums = await (await axios.get(`/api/albums?name=${search}`)).data;\r\n      let list = albums.filter(e => e.name.toUpperCase().includes(search.toUpperCase()))\r\n      if (!favorites) {\r\n      makeAlbums(list) \r\n      } else {\r\n      let favoriteList = list.filter(e => JSON.parse(preferences).includes(`album: ${e.id}`))\r\n      makeAlbums(favoriteList)\r\n      }} catch(response) {\r\n    setLoading(false)\r\n    return alert(response)\r\n      }\r\n    }; fetchData();\r\n   }, [disabled, toggle, favorites, preferences])\r\n\r\nconst handleSearch = () => {\r\nsetToggle(!toggle)\r\nsetLoading(true)\r\n}\r\n\r\nconst deleteAlbum = async (e) => {\r\nconst newName = e.name.replace(`'`,`''`);\r\nawait axios.delete(`/api/albums/${newName}`);\r\nsetToggle(!toggle)\r\n};\r\nconst isLiked= (e) => {\r\nconst promise = new Promise((resolve, reject) => {\r\n    resolve(setDisabled(true));\r\n})\r\nconst promise2 = new Promise((resolve, reject) => {\r\n    resolve(handleLike(e));\r\n})\r\npromise.then(() => promise2)\r\npromise2.then(() => {\r\n  setTimeout(() => {\r\n    setDisabled(false)\r\n  }, 1500);\r\n})\r\n\r\n}\r\n\r\nconst handleLike = async (e) => {\r\nlet newPreferences = JSON.parse(preferences)\r\nif (newPreferences.includes(`album: ${e.id}`)){\r\nlet x = newPreferences.filter(element => element !== `album: ${e.id}`)\r\n\r\nawait axios.patch(`/api/albums/like/${e.id}`, {\r\nis_liked: e.is_liked - 1,\r\n})\r\nawait axios.patch(`/api/users/${props.user.email}`, {\r\npreferences: JSON.stringify(x),\r\npassword: props.user.password\r\n})\r\n} else {\r\nnewPreferences.push(`album: ${e.id}`)\r\nawait axios.patch(`/api/albums/like/${e.id}`, {\r\nis_liked: e.is_liked + 1,\r\n});\r\nawait axios.patch(`/api/users/${props.user.email}`, {\r\npreferences: JSON.stringify(newPreferences),\r\npassword: props.user.password\r\n});\r\n}\r\nsetToggle(!toggle)\r\n}\r\n\r\nconst makeAlbums = (albums) => {\r\n\r\nlet x = JSON.parse(preferences);\r\n\r\nlet array = albums.map(e => {\r\nconst heart = x.includes(`album: ${e.id}`) ?\r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like fas fa-heart\"/> :\r\n<button  onClick={() => isLiked(e)} disabled={disabled} className=\"like far fa-heart\"/>\r\nconst like = props.user ? heart :  '';\r\n\r\nconst deleteButton = <button onClick={() => deleteAlbum(e)} className=\"deleteButton\">Delete</button>;\r\nconst adminDelete = admin === 1 ? deleteButton : '';\r\n\r\nreturn (\r\n<li key={e.name} className=\"grid-item\">\r\n<span style={{cursor:'pointer'}}>{like} {\" \"} </span>\r\n<p>\r\n<NavLink className=\"navTo\" to={`${match.url}/${e.id}`}>\r\n{e.name} - {e.Artist.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to={`${match.url}/${e.id}`}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n{adminDelete}\r\n</li>\r\n)}\r\n)\r\nsetList(array)\r\nsetLoading(false)\r\n}\r\n\r\n\r\nconst filterFavorites = favorites ?  <i className=\"fas fa-heart\"></i> : <i className=\"far fa-heart\"></i>\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n  return (\r\n<div> \r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n<p className='listTitle'>\r\n<NavLink className=\"fa fa-plus-square-o add\" to=\"/PostAlbum\"></NavLink>  \r\n{\" \"} Albums</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<button onClick={() => handleSearch()} className=\"searchButton\">Search</button>\r\n{props.user ? <i className=\"filterFavorites\" onClick={() => setFavorites(!favorites)}>{filterFavorites}</i> : ''}\r\n<ul className=\"grid-container\">\r\n{list}\r\n</ul>\r\n</div>\r\n  );\r\n}\r\n\r\nfunction Albums(props){\r\n\r\nlet match = useRouteMatch(); \r\n\r\nreturn(\r\n      <Switch>\r\n        <Route path={`${match.path}/:albumId`}>\r\n          <AlbumData user={props.user}/>\r\n        </Route>\r\n        <Route path={match.path}>\r\n          <AlbumsList user={props.user}/>\r\n        </Route>\r\n      </Switch>\r\n)\r\n}\r\n\r\n\r\nexport default Albums;\r\n\r\n","import React, { useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport Select from 'react-select';\r\n\r\nfunction PostSong(props) {\r\nconst [albums, setAlbums] = useState([]);\r\nconst [artists, setArtists] = useState([]);\r\n\r\nconst [selectAlbum, setSelectAlbum] = useState(undefined)\r\nconst [title, setTitle] = useState(undefined)\r\nconst [length, setLength] = useState(undefined)\r\nconst [youtube_id, setYoutube_id] = useState(undefined)\r\nconst [artist, setArtist] = useState(undefined)\r\nconst [album, setAlbum] = useState(undefined)\r\nconst [lyrics, setLyrics] = useState(undefined)\r\nconst [track_number, setTrack_number] = useState(undefined)\r\nconst [created_at, setCreated_at] = useState(undefined)\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setAlbums(await (await axios.get(`/api/albums`)).data);\r\n      setArtists(await (await axios.get(`/api/artists`)).data);\r\n    }; fetchData();\r\n   }, []);\r\n\r\n\r\nfunction validateTrack(track) {\r\n   if (/^[1-9]\\d{0,1}(?:,\\d{1,3})?$/.test(track))\r\n  {\r\n    return (true)\r\n  }\r\n    return (false)\r\n}\r\n\r\nfunction validateLength(length) {\r\nif (/^([0-5]?[0-9]|2[0-3]):[0-5][0-9]$/.test(length)) {\r\n    return (true)\r\n  }\r\n    return (false)\r\n}\r\n\r\nconst addSong = async (event, title, length, youtube_id, artist, album, track_number, lyrics, created_at) => {\r\nevent.preventDefault();\r\n\r\n    const date = new Date();\r\n    let regex = /'/gi\r\n    let enter = /\\n/gi\r\n\r\n    if(!artist) {\r\n    return document.getElementById('songError').innerHTML = \"Select an artist\";\r\n    }\r\n    if(!album) {\r\n    return document.getElementById('songError').innerHTML = \"Select an album\";\r\n    }\r\n  const newCreated_at = created_at.slice(0,10)\r\n  const newLyrics = lyrics.replace(regex,`''`).replace(enter,`&&`);\r\n  const newTitle = title.replace(regex,`''`);\r\n  const newArtist = artist.label.substr(0, artist.label.indexOf(' - ') -1).replace(regex,`''`);\r\n  const newAlbum = album.label.replace(regex,`''`);\r\n\r\n\r\n    if (!props.user) {\r\n    return document.getElementById('songError').innerHTML = 'Only registered users can post new songs to the website';\r\n    }\r\n    if (!validateLength(length)) {\r\n    return document.getElementById('songError').innerHTML = 'Length form is invalid';\r\n    }\r\n    if(!validateTrack(track_number)) {\r\n    return document.getElementById('songError').innerHTML = \"Track number field must be a 2-digit number\";\r\n    }\r\n    try{\r\n    await axios.post(`/api/songs`, {\r\n    title: newTitle, \r\n    length: length, \r\n    youtube_id: youtube_id, \r\n    ArtistId: artist.value, \r\n    AlbumId: album.value, \r\n    artist_name: newArtist, \r\n    album_name: newAlbum, \r\n    track_number: track_number, \r\n    lyrics: newLyrics, \r\n    created_at: newCreated_at,\r\n    UserEmail: props.user.email,\r\n    upload_at: date.toISOString().substring(0, 10)\r\n    }\r\n    )\r\n  window.location.reload(false);\r\n} catch (response){\r\n  return document.getElementById('songError').innerHTML = \"Song already exists\";\r\n  }; \r\n};\r\n\r\nfunction form(){\r\n\r\n      function insertTitle(event) {\r\n        setTitle(event.target.value);\r\n      }\r\n      function insertLength(event) {\r\n        setLength(event.target.value);\r\n      }\r\n      function insertYoutube(event) {\r\n        setYoutube_id(event.target.value);\r\n      }\r\n      function insertTrack(event) {\r\n        setTrack_number(event.target.value);\r\n      }\r\n\r\n      function insertLyrics(event) {\r\n        setLyrics(event.target.value);\r\n      }\r\n      function insertRelease(event) {\r\n        setCreated_at(event.target.value);\r\n      }\r\n      function insertArtist(event) {\r\n       let x = event.label\r\n       setArtist(event);\r\n       setSelectAlbum(albumList.filter(e => e.label.includes(x)));\r\n      }\r\n       function insertAlbum(event) {\r\n        setAlbum(event);\r\n      }\r\nconsole.log(albums)\r\nlet selectArtist = artists.map(e => ({ value: e.id, label: e.name }))\r\nlet albumList = albums.map(e => ({value: e.id, label: `${e.name} - ${e.Artist.name}` }))\r\n\r\nvar today = new Date();\r\nvar dd = today.getDate();\r\nvar mm = today.getMonth()+1;\r\nvar yyyy = today.getFullYear();\r\n if(dd<10){\r\n        dd='0'+dd\r\n    } \r\n    if(mm<10){\r\n        mm='0'+mm\r\n    } \r\ntoday = yyyy+'-'+mm+'-'+dd;\r\n\r\nreturn (\r\n <form id=\"songForm\" className=\"songForm\" onSubmit={(event) => addSong(event, title, length, youtube_id, artist, album, track_number, lyrics, created_at)}>\r\n   <div>\r\n    <label> Name of the song: </label><br/>\r\n    <input id=\"song_img\" required type=\"text\" defaultValue={title} onChange={insertTitle}/> <br/><br/>\r\n<label>Youtube ID: </label><i className='tooltip fas fa-info'> <span className=\"tooltiptext\">youtube.com/watch?v= (Youtube_ID)</span></i><br/>\r\n    <input id=\"song_id\" required type=\"text\" defaultValue={youtube_id} onChange={insertYoutube}/><br/><br/>\r\n    <label> Length: </label><i className='tooltip fas fa-info'> <span className=\"tooltiptext\">M M : S S</span></i><br/>\r\n    <input id=\"song_length\" required type=\"text\" defaultValue={length} onChange={insertLength}/> <br/><br/>\r\n    <label>Artist: </label><i className='tooltip fas fa-info'> <span className=\"tooltiptext\">You can only post albums of uploaded artists</span></i><br/>\r\n    <Select required maxMenuHeight={160}\r\n    defaultValue={artist}\r\n    onChange={insertArtist}\r\n    options={selectArtist}>\r\n    </Select><br/>\r\n    <label> Album: </label><i className='tooltip fas fa-info'> <span className=\"tooltiptext\">You can only post songs of uploaded albums</span></i><br/>\r\n    <Select required maxMenuHeight={160}\r\n    defaultValue={album}\r\n    onChange={insertAlbum}\r\n    options={selectAlbum}>\r\n    </Select><br/>\r\n    <label> Track number: </label><br/>\r\n    <input id=\"song_track\" required type=\"text\" defaultValue={track_number} onChange={insertTrack}/><br/><br/>\r\n    <NavLink style={{marginTop:\"0px\"}} className=\"fa fa-arrow-left back\" to=\"/Songs\"> </NavLink>\r\n     </div>\r\n     <div>\r\n    <label> Lyrics: </label><br/>\r\n    <textarea rows=\"12\" required type=\"text\" defaultValue={lyrics} onChange={insertLyrics}/> <br/><br/>\r\n    <label> Release date: </label><br/>\r\n    <input max={today} style={{height:\"32px\"}} id=\"song_date\" required type=\"date\" defaultValue={created_at} onChange={insertRelease}/><br/><br/>\r\n    <input style={{width:\"550px\"}} type='submit' className=\"post\" value=\"Post Song\"/>\r\n    </div>\r\n    </form>\r\n\r\n)}\r\n\r\n  return (\r\n<div> \r\n{form()}\r\n<p id=\"songError\" style={{marginTop:\"10px\", marginLeft:\"20px\", fontSize:'20px', color:\"red\"}}></p>\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PostSong;\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport Select from 'react-select';\r\n\r\nfunction PostAlbum(props) {\r\nconst [artists, setArtists] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setArtists(await (await axios.get(`/api/artists`)).data);\r\n    }; fetchData();\r\n   }, []);\r\n  \r\n\r\n  const addAlbum = async (event, name, image, artist, created_at) => {\r\n   event.preventDefault();\r\n    const date = new Date();\r\n    let regex = /'/gi\r\n  const newCreated_at = created_at.slice(0,10)\r\n    if (!props.user) {\r\n    return document.getElementById('albumError').innerHTML = 'Only registered users can post new albums to the website!';\r\n    }\r\n    if(!artist) {\r\n    return document.getElementById('albumError').innerHTML = \"Select an artist\";\r\n    }\r\n  const newName = name.replace(regex,`''`);\r\n  const newArtist = artist.label.replace(regex,`''`);\r\n\r\n    try{\r\n    await axios.post(`/api/albums`, {\r\n    name: newName, \r\n    ArtistId: artist.value,\r\n    artist_name: newArtist, \r\n    cover_img: image,\r\n    created_at: newCreated_at,\r\n    UserEmail: props.user.email,\r\n    upload_at: date.toISOString().substring(0, 10)\r\n    })\r\n  window.location.reload(false);\r\n} catch (response){\r\n   document.getElementById('albumError').innerHTML = \"Undetected Error\";\r\n  }; \r\n};\r\n\r\n\r\nfunction form(){\r\nlet name;\r\nlet image;\r\nlet created_at;\r\nlet artist;\r\n\r\n      function insertName(event) {\r\n        name = event.target.value;\r\n      }\r\n      function insertImage(event) {\r\n        image = event.target.value;\r\n      }\r\n\r\n      function insertRelease(event) {\r\n        created_at = event.target.value;\r\n      }\r\n\r\n      function insertArtist(event) {\r\n        artist = event;\r\n      }\r\n\r\nvar today = new Date();\r\nvar dd = today.getDate();\r\nvar mm = today.getMonth()+1;\r\nvar yyyy = today.getFullYear();\r\n if(dd<10){\r\n        dd='0'+dd\r\n    } \r\n    if(mm<10){\r\n        mm='0'+mm\r\n    } \r\n\r\ntoday = yyyy+'-'+mm+'-'+dd;\r\n\r\n\r\nlet selectArtist = artists.map(e => ({ value: e.id, label: e.name }))\r\n\r\nreturn (\r\n <form id=\"albumForm\" className=\"albumForm\" onSubmit={(event) => addAlbum(event, name, image, artist, created_at)}>\r\n   <div>\r\n    <label> Name of the Album: </label><br/>\r\n    <input id=\"album_name\" required type=\"text\" defaultValue={name} onChange={insertName}/> <br/><br/>\r\n    <br/>\r\n    <label>Artist: </label><i class='tooltip fas fa-info'> <span class=\"tooltiptext\">You can only post albums of uploaded artists</span></i><br/>\r\n    <Select style={{}} required maxMenuHeight={160}\r\n    defaultValue={artist}\r\n    onChange={insertArtist}\r\n    options={selectArtist}>\r\n    </Select><br/><br/>\r\n    <label> Cover image URL </label><br/>\r\n    <input id=\"album_img\" required type=\"text\" defaultValue={image} onChange={insertImage}/><br/><br/>\r\n    <br/>\r\n    <label> Release date: </label><br/>\r\n   <input max={today} style={{height:\"32px\"}} id=\"album_date\" required type=\"date\" defaultValue={created_at} onChange={insertRelease}/><br/><br/>\r\n    <br/>\r\n    <input type='submit' className=\"post\" value=\"Post Album\"/>\r\n    <NavLink style={{marginTop:'-50px'}} className=\"fa fa-arrow-left back\" to=\"/Albums\"></NavLink>\r\n    </div>\r\n    </form>\r\n\r\n)}\r\n\r\n  return (\r\n<div> \r\n{form()}\r\n<p id=\"albumError\" style={{marginTop:\"0px\", marginLeft:\"130px\", fontSize:'20px', color:\"red\"}}></p>\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PostAlbum;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\n\r\nfunction PostArtist(props) {\r\n\r\n  const addArtist = async (event, name, image) => {\r\n  event.preventDefault();\r\n  const date = new Date();\r\n  let regex = /'/gi\r\n  const newName = name.replace(regex,`''`);\r\n\r\n    if (!props.user) {\r\n    return document.getElementById('artistError').innerHTML = 'Only registered users can post new songs to the website';\r\n    }\r\n\r\n    try{\r\n    await axios.post(`/api/artists`, {\r\n    name: newName, \r\n    cover_img: image,\r\n    UserEmail: props.user.email,\r\n    upload_at: date.toISOString().substring(0, 10)\r\n    })\r\n  document.getElementById(\"artistForm\").reset();\r\n} catch (response){\r\n  console.log(response)\r\n   document.getElementById('artistError').innerHTML = \"Undetected Error\";\r\n  }; \r\n};\r\n\r\n\r\nfunction form(){\r\nlet name;\r\nlet image;\r\n\r\n      function insertName(event) {\r\n        name = event.target.value;\r\n      }\r\n      function insertImage(event) {\r\n        image = event.target.value;\r\n      }\r\n\r\nreturn (\r\n <form id=\"artistForm\" onSubmit={(event) => addArtist(event, name, image)}>\r\n   <div>\r\n    <label> Name of the Artist: </label><br/>\r\n    <input id=\"artist_name\" required type=\"text\" defaultValue={name} onChange={insertName}/> <br/><br/>\r\n  <br/> <br/>\r\n    <label> Artist image URL </label><br/>\r\n    <input id=\"artist_img\" required type=\"text\" defaultValue={image} onChange={insertImage}/><br/><br/>\r\n  <br/> <br/>\r\n    <input type='submit' className=\"post\" value=\"Post Artist\"/>\r\n    <NavLink style={{marginTop:'-50px'}} className=\"fa fa-arrow-left back\" to=\"/Artists\"></NavLink>\r\n    </div>\r\n    </form>\r\n\r\n)}\r\n\r\n  return (\r\n<div className=\"artistForm\"> \r\n{form()}\r\n<p id=\"artistError\" style={{marginTop:\"-2px\", marginLeft:\"120px\", fontSize:'20px', color:\"red\"}}></p>\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PostArtist;\r\n","import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport Select from 'react-select';\r\n\r\nfunction PostPlaylist(props) {\r\nconst [songs, setSongs] = useState([])\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n    const songs = await axios.get(`/api/songs`);\r\n    let selectSong = songs.data.map(e => { return { value: e.youtube_id, label: `${e.title} - ${e.artist_name}`}} )\r\nsetSongs(selectSong)\r\n\r\n    }; fetchData();\r\n   }, []); \r\n\r\n  const addPlaylist = async (event, name, songs, image) => {\r\n  event.preventDefault();\r\n  const date = new Date();\r\n  let regex = /'/gi\r\n  let newSongs = []\r\n  for (let song of songs){\r\n  newSongs.push(song.value)\r\n  }\r\n    if (!props.user) {\r\n    return document.getElementById('playlistError').innerHTML = 'Only registered users can post new playlists to the website!';\r\n    }\r\n    if(!songs) {\r\n    return document.getElementById('playlistError').innerHTML = \"Select songs\";\r\n    }\r\n  const newName = name.replace(regex,`''`);\r\n    try{\r\n    await axios.post(`/api/playlists`, {\r\n    name: newName, \r\n    user_name: props.user.username,\r\n    songs: JSON.stringify(newSongs), \r\n    cover_img: image,\r\n    UserEmail: props.user.email,\r\n    created_at: date.toISOString().substring(0, 10)\r\n    })\r\n  document.getElementById(\"playlistForm\").reset();\r\n} catch (response){\r\n   document.getElementById('playlistError').innerHTML = \"Undetected error\";\r\n  }; \r\n};\r\n\r\n\r\nfunction form(){\r\nlet name;\r\nlet image;\r\nlet song;\r\n\r\n      function insertName(event) {\r\n        name = event.target.value;\r\n      }\r\n      function insertImage(event) {\r\n        image = event.target.value;\r\n      }\r\n\r\n      function insertSongs(event) {\r\n        song = event;\r\n        console.log(song)\r\n      }\r\n\r\nlet selectSong = songs\r\n\r\n\r\nreturn (\r\n <form style={{marginTop:\"150px\"}} id=\"playlistForm\" onSubmit={(event) => addPlaylist(event, name, song, image)}>\r\n   <div>\r\n    <label> Name of the Playlist: </label><br/>\r\n    <input id=\"playlist_name\" required type=\"text\" defaultValue={name} onChange={insertName}/> <br/><br/>\r\n    <br/>\r\n    <label> Songs: </label><br/>\r\n    <Select\r\n    required\r\n    maxMenuHeight={160}\r\n    isMulti\r\n    defaultValue={song}\r\n    onChange={insertSongs}\r\n    options={selectSong}>\r\n    </Select><br/>\r\n    <br/>\r\n    <label> Cover image URL </label><br/>\r\n    <input id=\"artist_img\" required type=\"text\" defaultValue={image} onChange={insertImage}/><br/><br/>\r\n  <br/>\r\n    <input type='submit' className=\"post\" value=\"Post Playlist\"/>\r\n   <NavLink  style={{marginTop:'-50px'}} className=\"fa fa-arrow-left back\"  to=\"/Playlists\"></NavLink>\r\n    </div>\r\n    </form>\r\n\r\n)}\r\n\r\n  return (\r\n<div className=\"playlistForm\"> \r\n{form()}<p id=\"playlistError\" style={{marginLeft:\"120px\", fontSize:'20px', color:\"red\"}}></p>\r\n</div>\r\n  );\r\n  }\r\n\r\nexport default PostPlaylist;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport YouTube from 'react-youtube';\r\nimport {\r\n  NavLink,\r\n    Route,\r\n    Switch,\r\n    useRouteMatch,\r\n    useParams,\r\n} from \"react-router-dom\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport ScrollContainer from 'react-indiana-drag-scroll'\r\n\r\nfunction UploadsData(props) {\r\nconst [loading, setLoading] = useState(true);\r\nconst [toggle, setToggle] = useState(false);\r\nconst [user, setUser] = useState('Uploads')\r\nconst [data, setData] = useState('')\r\n\r\nlet { userId } = useParams()\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n      const { data } = await axios.get(`/api/users/uploads/${userId}`)\r\n      makeLists(data[0], data.songs, data.albums, data.artists, data.playlists)\r\n      } catch {\r\n    return setLoading(false)\r\n      }\r\n    }; fetchData();\r\n   }, [toggle, props.user, user])\r\n\r\nconst playCount = async (e) => {\r\nawait axios.patch(`/api/songs/count/${e.youtube_id}`, {\r\nplay_count: e.play_count + 1,\r\n});\r\n};\r\n\r\nconst deleteSong = async (e) => {\r\nconst newId = e.youtube_id.replace(`'`,`''`);\r\nawait axios.delete(`/api/songs/${newId}`);\r\nsetToggle(!toggle)\r\n};\r\nconst deleteArtist = async (e) => {\r\nconst newName = e.name.replace(`'`,`''`);\r\nawait axios.delete(`/api/artists/${newName}`);\r\nsetToggle(!toggle)\r\n};\r\nconst deleteAlbum = async (e) => {\r\nconst newName = e.name.replace(`'`,`''`);\r\nawait axios.delete(`/api/albums/${newName}`);\r\nsetToggle(!toggle)\r\n};\r\nconst deletePlaylist = async (e) => {\r\nawait axios.delete(`/api/playlists/${e.id}`);\r\nsetToggle(!toggle)\r\n};\r\n\r\n\r\nconst makeLists = (username, songs, albums, artists, playlists) => {\r\n\r\nlet capitalUserId = userId.charAt(0).toUpperCase() + userId.slice(1)\r\nif (props.user) {\r\nif(props.user.username.toUpperCase() === userId.toUpperCase()){\r\nsetUser('My Uploads') \r\n} else {\r\nsetUser(`${capitalUserId}'s Uploads`)\r\n}\r\n} else {\r\nsetUser(`${capitalUserId}'s Uploads`)\r\n} \r\n\r\nlet z =1000\r\nlet sArray = songs.map(e => {\r\nz--;\r\nconst deleteButton = props.user && props.user.email === e.user ? <button onClick={() => deleteSong(e)} style={{marginBottom:\"15px\"}} className=\"deleteButton\">Delete</button> : ''\r\n\r\nreturn (\r\n<li key={e.youtube_id} style={{zIndex: z}} className=\"hov\">\r\n<p>\r\n<NavLink className=\"navTo\" to=\"/songs\" onClick={() => props.song(e)}>\r\n{e.title}  - {e.artist}\r\n</NavLink>\r\n</p>\r\n<YouTube className=\"video\" onPlay={() => playCount(e)}videoId={e.youtube_id} id=\"video\" opts={{width:\"250\",height:\"250\"}}/>\r\n<br/>\r\n{deleteButton}\r\n</li>\r\n)\r\n\r\n}\r\n)\r\n\r\n\r\nlet alArray = albums.map(e => {\r\nconst deleteButton = props.user && props.user.email === e.user ? <button onClick={() => deleteAlbum(e)} className=\"deleteButton\">Delete</button> : ''\r\nz--;\r\nreturn (\r\n<li style={{zIndex: z}} key={e.name} className=\"hov\">\r\n<p>\r\n<NavLink className=\"navTo\" to=\"/albums\" onClick={() => props.album(e)}>\r\n{e.name} - {e.artist}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to=\"/albums\" onClick={() => props.album(e)}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/>\r\n{deleteButton}\r\n</li>\r\n)}\r\n)\r\n\r\nlet arArray = artists.map(e => {\r\nconst deleteButton = props.user && props.user.email === e.user ? <button onClick={() => deleteArtist(e)} className=\"deleteButton\">Delete</button> : ''\r\nz--;\r\nreturn (\r\n<li style={{zIndex: z}} key={e.name} className=\"hov\">\r\n<p>\r\n<NavLink className=\"navTo\" to=\"/artists\" onClick={() => props.artist(e)}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to=\"/artists\" onClick={() => props.artist(e)}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/> \r\n{deleteButton}\r\n</li>\r\n)}\r\n) \r\nlet pArray = playlists.map(e => {\r\nconst deleteButton = props.user && props.user.email === e.user ? <button onClick={() => deletePlaylist(e)} className=\"deleteButton\">Delete</button> : ''\r\nz--\r\nreturn (\r\n<li style={{zIndex: z}} key={e.name} className=\"hov\">\r\n<p>\r\n<NavLink className=\"navTo\" to=\"/playlists\" onClick={() => props.playlist(e)}>\r\n{e.name}\r\n</NavLink>\r\n</p>\r\n<NavLink className=\"navTo\" to=\"/playlists\" onClick={() => props.playlist(e)}>\r\n<img onError={(e)=>{e.target.onerror = null; e.target.src=\"/no_image.jpg\"}} alt={e.name} width=\"250\" height=\"250\" src={e.cover_img}></img>\r\n</NavLink>\r\n<br/>\r\n{deleteButton}\r\n</li>\r\n)}\r\n)\r\n\r\nlet x = () => {\r\nreturn(\r\n<div>\r\n<p id=\"listTitle\" className='listTitle'>{user}</p>\r\n\r\n<div className='uploadsList'>\r\n<h6 className=\"upTitle\">Songs</h6>\r\n<ScrollContainer className=\"upload\" >\r\n{sArray}\r\n</ScrollContainer>\r\n\r\n<h6 className=\"upTitle\">Albums</h6>\r\n<ScrollContainer className=\"upload\" >\r\n{alArray}\r\n</ScrollContainer>\r\n\r\n<h6 className=\"upTitle\">Artists</h6>\r\n<ScrollContainer className=\"upload\" >\r\n{arArray}\r\n</ScrollContainer>\r\n  <h6 className=\"upTitle\">Playlists</h6>\r\n<ScrollContainer className=\"upload\" >\r\n  {pArray}\r\n  </ScrollContainer>\r\n   <NavLink className=\"fa fa-arrow-left back\"  to=\"/Uploads\"></NavLink>\r\n<br/><br/>\r\n</div>\r\n</div> \r\n)}\r\nif(username === \"user doesn't exist\"){\r\nsetData(<p style={{top:\"440px\", fontSize:\"120px\",textAlign:\"right\",width:\"86%\"}} className=\"listTitle\">User doesn't exist</p>)\r\n} else {\r\nsetData(x)\r\n}\r\nsetLoading(false)\r\n}\r\n\r\nconst override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n\r\n\r\n\r\n  return (\r\n    <div id=\"uploadsPage\">\r\n<LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n  <br/>\r\n  {data}\r\n</div>\r\n  );\r\n  }\r\n\r\n\r\nfunction UploadsSearch(props){\r\nconst [search, setSearch] = useState(undefined)\r\n\r\nlet match = useRouteMatch();\r\n\r\n\r\n\r\nreturn(\r\n<div style={{position:'relative', width:\"92%\", top:'0px'}}>\r\n<p className='listTitle'>Search user</p>\r\n<input className=\"filterList\" onChange={(event) => setSearch(event.target.value)} /> \r\n<NavLink to={search ? `${match.url}/${search}` : `${match.url}`}>\r\n<button className=\"searchButton\">Search</button>\r\n</NavLink>\r\n{ props.user ? \r\n<NavLink to={`${match.url}/${props.user.username}`}>\r\n<button style={{position:'relative', textAlign:\"right\", width:\"108%\", top:\"550px\", marginBottom:\"0px\"}} className=\"post\">To my page</button>\r\n</NavLink> : '' }\r\n</div>\r\n)\r\n}\r\n\r\nfunction Uploads(props){\r\n\r\n\r\nlet match = useRouteMatch();\r\n\r\nreturn(\r\n<div>\r\n      <Switch>\r\n        <Route path={`${match.path}/:userId`}>\r\n          <UploadsData user={props.user}/>\r\n        </Route>\r\n        <Route path={match.path}>\r\n          <\r\n            UploadsSearch user={props.user}/>\r\n        </Route>\r\n      </Switch>\r\n</div>\r\n)\r\n}\r\n\r\n\r\nexport default Uploads;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nfunction NoFound() {\r\nconst [unfound, setUnfound] = useState(undefined)\r\nconst [loading, setLoading] = useState(true);\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      setUnfound(page)\r\n      setLoading(false)\r\n    }; fetchData();\r\n   }, [])\r\n\r\n let page =\r\n<div>\r\n<p style={{height:\"100px\", marginTop:\"-50px\", fontSize:\"400px\",textAlign:\"center\",width:\"825px\"}} className=\"dataTitle\">404</p>\r\n<p style={{position:'relative', top:\"180px\", fontSize:\"120px\",textAlign:\"right\",width:'95%'}} className=\"listTitle\">Page not found</p>\r\n</div>\r\n\r\n  const override =`\r\n  position:absolute;\r\n  width:200px;\r\n  height:200px;\r\n  margin-top:200px;\r\n  left: 40%;\r\n`;\r\n  return (\r\n<div>\r\n  <LoadingOverlay\r\n  active={loading}\r\n  spinner={<ClipLoader css={override} color=\"white\" style={{zIndex:1010}} size={150}/>}\r\n  >\r\n  </LoadingOverlay>\r\n{unfound}\r\n</div>\r\n  )}\r\n  \r\nexport default NoFound;\r\n","/* eslint-disable eqeqeq */\r\nimport React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport './Page.css';\r\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css';\r\nimport SideNav, {\r\n NavItem, NavIcon, NavText,\r\n} from '@trendmicro/react-sidenav';\r\nimport Home from './components/Home.js'\r\nimport Songs from './components/Songs.js'\r\nimport Artists from './components/Artists.js'\r\nimport Playlists from './components/Playlists.js'\r\nimport Albums from './components/Albums.js'\r\nimport {\r\n  Route,\r\n  Link,\r\n  Switch,\r\n  withRouter\r\n} from \"react-router-dom\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios'\r\nimport PostSong from './components/PostSong.js';\r\nimport PostAlbum from './components/PostAlbum.js';\r\nimport PostArtist from './components/PostArtist.js';\r\nimport PostPlaylist from './components/PostPlaylist.js';\r\nimport generator from 'generate-password'\r\nimport Uploads from './components/Uploads.js';\r\nimport NoFound from './NoFound.js';\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"down\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction App() {\r\nconst [registerOpen, setRegisterOpen] = useState(false)\r\nconst [loginOpen,setLoginOpen] = useState(false)\r\nconst [user, setUser] = useState(undefined);\r\n\r\nuseEffect(() => {\r\n  const autoLogin = async () => {\r\n  var name = \"session=\";\r\n  var decodedCookie = decodeURIComponent(document.cookie);\r\n  var sessionCookie = decodedCookie.replace(name, '');\r\n\r\nif (sessionCookie != \"\" && sessionCookie != \"0\") {\r\ntry {\r\nconst { data } = await axios.get(`/api/users/auto/${sessionCookie}`);\r\nsetTimeout(() => {\r\nsetUser(data)\r\n}, 500);\r\n} catch { return }\r\n  }\r\n}; autoLogin();\r\n}, [])\r\n\r\nconst handleLogout = async () => {\r\nawait axios.patch(`/api/users/${user.email}`, {\r\npassword: user.password,\r\nauto_code: 0,\r\n});\r\nsetUser(undefined)\r\ndocument.cookie = \"session=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\r\n    };\r\n\r\n \r\nfunction validateEmail(mail) {\r\n if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(mail))\r\n  {\r\n    return (true)\r\n  }\r\n    return (false)\r\n}\r\n\r\n\r\n  const handleRegister = async (email, name, password, repassword) => {\r\n    let code = generator.generate({\r\n    length: 50,\r\n    numbers: true\r\n});\r\n\r\n    try{\r\n    if(!validateEmail(email)) {\r\n     return document.getElementById('errorMessage').innerHTML='Please enter a valid email address';\r\n    }\r\n     if(name.length > 10) {\r\n     return document.getElementById('errorMessage').innerHTML='Username can not exceed 10 characters';\r\n    }\r\n    if (password !== repassword){\r\n    return document.getElementById('errorMessage').innerHTML='Password fields do not match';\r\n           }\r\n\r\n      let occupied = await axios.get(`api/users/${name}`)  \r\n      if(occupied.data){\r\n      return document.getElementById('errorMessage').innerHTML = 'Username is already in use';\r\n      } else {\r\n      const { data } = await axios.post(`/api/users`, {\r\n      username: name,\r\n      email: email,\r\n      password: password,\r\n      auto_code: code,\r\n      preferences: '[]'\r\n      })\r\nsetTimeout(() => {\r\nsetUser(data)\r\n}, 500);\r\nsetRegisterOpen(false)\r\n\r\n var d = new Date();\r\n  d.setTime(d.getTime() + (24*60*60*7));\r\n  var expires = \"expires=\" + d.toGMTString();\r\n  document.cookie = \"session=\" + code + \";\" + expires + \";path=/\";\r\n    }\r\n  } catch (response){\r\n  document.getElementById('errorMessage').innerHTML='The email you tried to register with is already in use';\r\n  }; \r\n  }\r\n\r\n    const handleLogin = async (email, password) => {\r\n    if(!validateEmail(email)) {\r\n    return document.getElementById('errorMessage').innerHTML='Please enter a valid email address';\r\n    }\r\n    let code = generator.generate({\r\n    length: 50,\r\n    numbers: true\r\n});\r\n    try{\r\n      const { data } = await axios.patch(`/api/users/${email}`, {\r\n      password: password,\r\n      auto_code: code,\r\n      });\r\n var d = new Date();\r\n  d.setTime(d.getTime() + (24*60*60*7));\r\n  var expires = \"expires=\" + d.toGMTString();\r\n  document.cookie = \"session=\" + code + \";\" + expires + \";path=/\";\r\n\r\nsetLoginOpen(false)   \r\nsetTimeout(() => {\r\nsetUser(data)\r\n}, 500);\r\n  } catch (response){\r\n  document.getElementById('errorMessage').innerHTML='Either the email or password you entered is incorrect';\r\n  }; \r\n};\r\n\r\nfunction login(){\r\nlet email;\r\nlet password;\r\n\r\n      function insertEmail(event) {\r\n        email = event.target.value;\r\n      }\r\n\r\n      function insertPassword(event) {\r\n        password = event.target.value;\r\n      }\r\n\r\nreturn (\r\n  <span>\r\n<Button style={{fontSize:\"20px\", marginLeft:'255px'}} variant=\"text\" color=\"inherit\" onClick={() => setLoginOpen(true)}>\r\n        Login\r\n      </Button>\r\n      <Dialog TransitionComponent={Transition} open={loginOpen} onClose={() => setLoginOpen(false)} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Login</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            onChange={insertEmail}\r\n            defaultValue={email}\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            type=\"email\"\r\n            required\r\n            fullWidth\r\n          />\r\n            <TextField\r\n            onChange={insertPassword}\r\n            autoFocus\r\n            defaultValue={password}\r\n            margin=\"dense\"\r\n            id=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            required\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogTitle style={{color:'red'}} id=\"errorMessage\"></DialogTitle>\r\n        <DialogActions>\r\n          <Button type=\"submit\" onClick={() => setLoginOpen(false)} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={() => handleLogin(email, password)} color=\"primary\">\r\n            login\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      </span>\r\n)}\r\n\r\nfunction register(){\r\nlet email;\r\nlet username;\r\nlet password;\r\nlet repassword\r\n\r\n      function insertEmail(event) {\r\n        email = event.target.value;\r\n      }\r\n\r\n      function insertUsername(event) {\r\n        username = event.target.value;\r\n      }\r\n\r\n      function insertPassword(event) {\r\n        password = event.target.value;\r\n      }\r\n\r\n      function insertRePassword(event) {\r\n        repassword = event.target.value;\r\n      }\r\n\r\nreturn (\r\n  <span>\r\n<Button style={{fontSize:\"20px\"}} variant=\"text\" color=\"inherit\" onClick={() => setRegisterOpen(true)}>\r\n        Register\r\n      </Button>\r\n      <Dialog TransitionComponent={Transition} open={registerOpen} onClose={() => setRegisterOpen(false)} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Register</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            onChange={insertEmail}\r\n            autoFocus\r\n            required\r\n            margin=\"dense\"\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            type=\"email\"\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            onChange={insertUsername}\r\n            autoFocus\r\n            required\r\n            margin=\"dense\"\r\n            id=\"username\"\r\n            label=\"Username\"\r\n            type=\"name\"\r\n            fullWidth\r\n          />\r\n           <TextField\r\n            onChange={insertPassword}\r\n            autoFocus\r\n            required\r\n            margin=\"dense\"\r\n            id=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            fullWidth\r\n          />\r\n           <TextField\r\n            onChange={insertRePassword}\r\n            autoFocus\r\n            required\r\n            margin=\"dense\"\r\n            id=\"password\"\r\n            label=\"Confirm password\"\r\n            autoComplete=\"\"\r\n            type=\"password\"\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogTitle style={{color:'red'}} id=\"errorMessage\"></DialogTitle>\r\n        <DialogActions>\r\n          <Button onClick={() => setRegisterOpen(false)} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={() => handleRegister(email, username, password, repassword)} color=\"primary\">\r\n            Register\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      </span>\r\n)}\r\n\r\nconst logout =\r\n<Button style={{fontSize:\"20px\"}} variant=\"text\" color=\"inherit\" onClick={handleLogout}>\r\nLogout\r\n</Button>\r\n\r\nconst platform = user ? <h5> {logout} </h5> :  <h5> {login()} | {register()} </h5>\r\n\r\n\r\nconst AnimatedSwitch = withRouter(({ location }) => (\r\n  <TransitionGroup >\r\n    <CSSTransition key={location.key} classNames=\"page\" timeout={1000}>\r\n      <Switch location={location}>\r\n<Route exact path=\"/\" component={() => <Home user={user}/>}/>\r\n<Route path=\"/songs\" component={() => <Songs user={user}/>}/>\r\n<Route path=\"/artists\" component={() => <Artists user={user}/>}/>\r\n<Route path=\"/playlists\" component={() => <Playlists user={user}/>}/>\r\n<Route path=\"/albums\" component={() => <Albums user={user}/>}/>\r\n<Route path=\"/Uploads\" component={() => <Uploads user={user}/>}/>\r\n<Route path=\"/PostSong\" component={() => <PostSong user={user}/>}/>\r\n<Route path=\"/PostAlbum\" component={() => <PostAlbum user={user}/>}/>\r\n<Route path=\"/PostArtist\" component={() => <PostArtist user={user}/>}/>\r\n<Route path=\"/PostPlaylist\" component={() => <PostPlaylist user={user}/>}/>\r\n<Route path=\"*\" component={() => <NoFound user={user}/>}/>\r\n      </Switch>\r\n    </CSSTransition>\r\n  </TransitionGroup>\r\n));\r\n\r\n  return (\r\n<div className=\"App\">\r\n{platform}\r\n   <SideNav\r\n        style={{background:'rgb(180, 60, 60)', borderRight:\"2px solid white\"}}\r\n        expanded={true}\r\n        onToggle={() => {return}}\r\n      >\r\n        <SideNav.Toggle/>\r\n        <SideNav.Nav defaultSelected=\"home\">\r\n          <NavItem eventKey=\"home\">\r\n            <NavIcon>\r\n              <i style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n              <Link to=\"/\"><i style={{color:'white', fontSize:'44px', paddingTop:\"3px\"}} className=\"fa fa-fw fa-home\" /></Link>\r\n          </NavItem>\r\n          <NavItem eventKey=\"1\">\r\n            <NavIcon>\r\n              <i className=\"fa fa-fw \" style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n            <NavText>\r\n               <Link className=\"navItem\" to=\"/songs\">Songs</Link>\r\n            </NavText>\r\n          </NavItem>\r\n             <NavItem eventKey=\"2\">\r\n            <NavIcon>\r\n              <i className=\"fa fa-fw \" style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n            <NavText>\r\n               <Link className=\"navItem\" to=\"/albums\">Albums</Link>\r\n            </NavText>\r\n          </NavItem>\r\n          <NavItem eventKey=\"3\">\r\n            <NavIcon>\r\n              <i className=\"fa fa-fw \" style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n            <NavText>\r\n           <Link className=\"navItem\" to=\"/artists\">Artists</Link>\r\n            </NavText>\r\n          </NavItem>\r\n          <NavItem eventKey=\"4\">\r\n            <NavIcon>\r\n              <i className=\"fa fa-fw \" style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n            <NavText>\r\n             <Link className=\"navItem\" to=\"/playlists\">Playlists</Link>\r\n            </NavText>\r\n          </NavItem>\r\n           <NavItem eventKey=\"5\">\r\n            <NavIcon>\r\n              <i className=\"fa fa-fw \" style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n            <NavText>\r\n             <Link className=\"navItem\" to=\"/Uploads\">Uploads</Link>\r\n            </NavText>\r\n          </NavItem>\r\n        </SideNav.Nav>\r\n      </SideNav>\r\n      <AnimatedSwitch />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {\r\n  BrowserRouter as Router\r\n} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <App />\r\n  </Router>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}