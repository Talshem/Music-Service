(this.webpackJsonpmusic_service=this.webpackJsonpmusic_service||[]).push([[0],{189:function(e,t,a){e.exports=a(343)},194:function(e,t,a){},196:function(e,t,a){},252:function(e,t){},254:function(e,t){},265:function(e,t){},267:function(e,t){},294:function(e,t){},296:function(e,t){},297:function(e,t){},303:function(e,t){},305:function(e,t){},323:function(e,t){},325:function(e,t){},337:function(e,t){},340:function(e,t){},343:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),c=a.n(l),u=(a(194),a(2)),s=a.n(u),i=a(9),o=a(6),m=(a(196),a(197),a(20)),p=a.n(m),f=a(5),d=a.n(f),b=a(25),E=a(8),g=a(32),v=a.n(g),h=a(33),y=a.n(h);var x=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)([]),m=Object(o.a)(u,2),p=m[0],f=m[1],g=Object(n.useState)([]),h=Object(o.a)(g,2),x=h[0],k=h[1],N=Object(n.useState)([]),O=Object(o.a)(N,2),j=O[0],w=O[1],_=Object(n.useState)(!0),S=Object(o.a)(_,2),C=S[0],T=S[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/top_songs");case 3:return t=e.sent,e.next=6,d.a.get("/top_albums");case 6:return a=e.sent,e.next=9,d.a.get("/top_artists");case 9:return n=e.sent,e.next=12,d.a.get("/top_playlists");case 12:r=e.sent,A(t.data[0],a.data,n.data,r.data),T(!1),e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),T(!1),e.abrupt("return",alert(e.t0));case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var I=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(t,a,n,l){var u=t.map((function(t){return r.a.createElement("li",{key:t.youtube_id,className:"hov"},r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/SongData",onClick:function(){return e.song(t)}},t.title)),r.a.createElement(b.a,{className:"video",onPlay:function(){return I(t)},videoId:t.youtube_id,id:"video",opts:{width:"150",height:"150"}}),r.a.createElement("br",null),r.a.createElement("br",null))})),s=a.map((function(t){return r.a.createElement("li",{key:t.name,className:"hov"},r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/AlbumData",onClick:function(){return e.album(t)}},t.name)),r.a.createElement(E.b,{className:"navTo",to:"/AlbumData",onClick:function(){return e.album(t)}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"150",height:"150",src:t.cover_img})),r.a.createElement("br",null),r.a.createElement("br",null))})),i=n.map((function(t){return r.a.createElement("li",{key:t.name,className:"hov"},r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/ArtistData",onClick:function(){return e.artist(t)}},t.name)),r.a.createElement(E.b,{className:"navTo",to:"/ArtistData",onClick:function(){return e.artist(t)}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"150",height:"150",src:t.cover_img})),r.a.createElement("br",null),r.a.createElement("br",null))})),o=l.map((function(t){return r.a.createElement("li",{key:t.name,className:"hov"},r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/PlaylistData",onClick:function(){return e.playlist(t)}},t.name)),r.a.createElement(E.b,{className:"navTo",to:"/PlaylistData",onClick:function(){return e.playlist(t)}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"150",height:"150",src:t.cover_img})),r.a.createElement("br",null),r.a.createElement("br",null))}));c(u),f(s),k(i),w(o)};return r.a.createElement("div",null,r.a.createElement(v.a,{active:C,spinner:r.a.createElement(y.a,{css:"\n  display: block;\n  position:absolute;\n  width:200px;\n  height:200px;\n  left: 375px;\n",color:"white",style:{zIndex:1010},size:150})},C?r.a.createElement("p",{style:{left:"0",top:"-15px",zIndex:"1007",background:"rgb(0,0,0,0.5)",position:"fixed",width:"100vw",height:"100vh"}}):""),r.a.createElement("h3",null,"Hello, ",e.user?e.user.username:"Guest"),r.a.createElement("div",{className:"lists"},r.a.createElement("div",null,r.a.createElement("h4",null," Top Songs "),r.a.createElement("ul",{className:"songs"},l)),r.a.createElement("div",null,r.a.createElement("h4",null," Top Albums "),r.a.createElement("ul",{className:"albums"},p)),r.a.createElement("div",null,r.a.createElement("h4",null,"Top Artists"),r.a.createElement("ul",{className:"artists"},x)),r.a.createElement("div",null,r.a.createElement("h4",null,"Top Playlists"),r.a.createElement("ul",{className:"playlists"},j))))};var k=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),p=m[0],f=m[1],g=Object(n.useState)("[]"),h=Object(o.a)(g,2),x=h[0],k=h[1],N=Object(n.useState)(0),O=Object(o.a)(N,2),j=O[0],w=O[1],_=Object(n.useState)(!1),S=Object(o.a)(_,2),C=S[0],T=S[1],I=Object(n.useState)(!1),A=Object(o.a)(I,2),L=A[0],P=A[1],D=Object(n.useState)(!0),B=Object(o.a)(D,2),M=B[0],z=B[1];Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/preferences/".concat(e.user.email));case 3:a=t.sent,n=a.data,k(n[0].preferences),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[L]),Object(n.useEffect)((function(){if(e.user){var t=e.user.is_admin;w(t)}}),[e.user]),Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(x),e.prev=1,e.next=4,d.a.get("/top_songs?name=".concat(p));case 4:return e.next=6,e.sent.data[0];case 6:a=e.sent,n=a.filter((function(e){return e.title.toUpperCase().includes(p.toUpperCase())})),C?(r=n.filter((function(e){return t.includes("song: ".concat(e.youtube_id))})),V(r)):V(n),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),z(!1),e.abrupt("return",alert(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[L,C,x]);var q=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.youtube_id.replace("'","''"),e.next=3,d.a.delete("/song/".concat(a));case 3:P(!L);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=JSON.parse(x)).includes("song: ".concat(a.youtube_id))){t.next=6;break}return t.next=4,d.a.put("/song/like",{toggle:"unlike",is_liked:a.is_liked,preferences:n,user:e.user.email,youtube_id:a.youtube_id});case 4:t.next=8;break;case 6:return t.next=8,d.a.put("/song/like",{toggle:"like",is_liked:a.is_liked,user:e.user.email,youtube_id:a.youtube_id});case 8:P(!L);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(t){var a=JSON.parse(x),n=t.map((function(t){var n=a.includes("song: ".concat(t.youtube_id))?r.a.createElement("i",{className:"like fas fa-heart"}):r.a.createElement("i",{className:"like far fa-heart"}),l=e.user?n:"",c=1===j?r.a.createElement("button",{style:{marginTop:"20px"},onClick:function(){return q(t)},className:"deleteButton"},"Delete"):"";return r.a.createElement("li",{key:t.youtube_id,className:"grid-item"},r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return F(t)}},l," "," "," "),r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/SongData",onClick:function(){return e.song(t)}},t.title)),r.a.createElement(b.a,{className:"video",onPlay:function(){return H(t)},videoId:t.youtube_id,id:"video",opts:{width:"150",height:"150"}}),c)}));c(n),z(!1)},U=C?r.a.createElement("i",{className:"fas fa-heart"}):r.a.createElement("i",{className:"far fa-heart"});return r.a.createElement("div",null,r.a.createElement(v.a,{active:M,spinner:r.a.createElement(y.a,{css:"\n  display: block;\n  position:absolute;\n  width:200px;\n  height:200px;\n  left: 375px;\n    top:200px;\n",color:"white",style:{zIndex:1010},size:150})},M?r.a.createElement("p",{style:{left:"0",top:"-15px",zIndex:"1007",background:"rgb(0,0,0,0.5)",position:"fixed",width:"100vw",height:"100vh"}}):""),r.a.createElement("p",{className:"listTitle"},r.a.createElement(E.b,{className:"fa fa-plus-square-o add",to:"/PostSong"})," "," Songs"),r.a.createElement("input",{className:"filterList",placeholder:"Search...",onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{onClick:function(){return P(!L),void z(!0)},className:"searchButton"},"Search"),e.user?r.a.createElement("i",{className:"filterFavorites",onClick:function(){return T(!C)}},U):"",r.a.createElement("ul",{className:"grid-container"},l))};var N=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)("[]"),g=Object(o.a)(b,2),h=g[0],x=g[1],k=Object(n.useState)(0),N=Object(o.a)(k,2),O=N[0],j=N[1],w=Object(n.useState)(!1),_=Object(o.a)(w,2),S=_[0],C=_[1],T=Object(n.useState)(!1),I=Object(o.a)(T,2),A=I[0],L=I[1],P=Object(n.useState)(!0),D=Object(o.a)(P,2),B=D[0],M=D[1];Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/preferences/".concat(e.user.email));case 3:a=t.sent,n=a.data,x(n[0].preferences),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[A]),Object(n.useEffect)((function(){if(e.user){var t=e.user.is_admin;j(t)}}),[e.user]),Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(h),e.prev=1,e.next=4,d.a.get("/top_artists?name=".concat(p));case 4:return e.next=6,e.sent.data;case 6:a=e.sent,n=a.filter((function(e){return e.name.toUpperCase().includes(p.toUpperCase())})),S?(r=n.filter((function(e){return t.includes("artist: ".concat(e.name))})),H(r)):H(n),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),M(!1),e.abrupt("return",alert(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[A,S,h]);var z=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name.replace("'","''"),e.next=3,d.a.delete("/artist/".concat(a));case 3:L(!A);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=JSON.parse(h)).includes("artist: ".concat(a.name))){t.next=7;break}return t.next=4,d.a.put("/artist/like",{toggle:"unlike",is_liked:a.is_liked,preferences:n,user:e.user.email,name:a.name});case 4:L(!A),t.next=10;break;case 7:return t.next=9,d.a.put("/artist/like",{toggle:"like",is_liked:a.is_liked,user:e.user.email,name:a.name});case 9:L(!A);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(t){var a=JSON.parse(h),n=t.map((function(t){var n=a.includes("artist: ".concat(t.name))?r.a.createElement("i",{className:"like fas fa-heart"}):r.a.createElement("i",{className:"like far fa-heart"}),l=e.user?n:"",c=1===O?r.a.createElement("button",{onClick:function(){return z(t)},className:"deleteButton"},"Delete"):"";return r.a.createElement("li",{key:t.name,className:"grid-item"},r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return q(t)}},l," "," "),r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/ArtistData",onClick:function(){return e.artist(t)}},t.name)),r.a.createElement(E.b,{className:"navTo",to:"/ArtistData",onClick:function(){return e.artist(t)}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"150",height:"150",src:t.cover_img})),c)}));c(n),M(!1)},F=S?r.a.createElement("i",{className:"fas fa-heart"}):r.a.createElement("i",{className:"far fa-heart"});return r.a.createElement("div",null,r.a.createElement(v.a,{active:B,spinner:r.a.createElement(y.a,{css:"\n  display: block;\n    top:200px;\n  position:absolute;\n  width:200px;\n  height:200px;\n  left: 375px;\n",color:"white",style:{zIndex:1010},size:150})},B?r.a.createElement("p",{style:{left:"0",top:"-15px",zIndex:"1007",background:"rgb(0,0,0,0.5)",position:"fixed",width:"100vw",height:"100vh"}}):""),r.a.createElement("p",{className:"listTitle"},r.a.createElement(E.b,{className:"fa fa-plus-square-o add",to:"/PostArtist"})," "," Artists"),r.a.createElement("input",{className:"filterList",placeholder:"Search...",onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{onClick:function(){return L(!A),void M(!0)},className:"searchButton"},"Search"),e.user?r.a.createElement("i",{className:"filterFavorites",onClick:function(){return C(!S)}},F):"",r.a.createElement("ul",{className:"grid-container"},l))};var O=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)("[]"),g=Object(o.a)(b,2),h=g[0],x=g[1],k=Object(n.useState)(0),N=Object(o.a)(k,2),O=N[0],j=N[1],w=Object(n.useState)(!1),_=Object(o.a)(w,2),S=_[0],C=_[1],T=Object(n.useState)(!1),I=Object(o.a)(T,2),A=I[0],L=I[1],P=Object(n.useState)(!0),D=Object(o.a)(P,2),B=D[0],M=D[1];Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/preferences/".concat(e.user.email));case 3:a=t.sent,n=a.data,x(n[0].preferences),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[S]),Object(n.useEffect)((function(){if(e.user){var t=e.user.is_admin;j(t)}}),[e.user]),Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(h),e.prev=1,e.next=4,d.a.get("/top_playlists?name=".concat(p));case 4:return e.next=6,e.sent.data;case 6:a=e.sent,n=a.filter((function(e){return e.name.toUpperCase().includes(p.toUpperCase())})),A?(r=n.filter((function(e){return t.includes("playlist: ".concat(e.id))})),H(r)):H(n),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),M(!1),e.abrupt("return",alert(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[S,A,h]);var z=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/playlist/".concat(t.id));case 2:C(!S);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=JSON.parse(h),!h.includes("playlist: ".concat(a.id))){t.next=6;break}return t.next=4,d.a.put("/playlist/like",{toggle:"unlike",is_liked:a.is_liked,preferences:n,user:e.user.email,id:a.id});case 4:t.next=8;break;case 6:return t.next=8,d.a.put("/playlist/like",{toggle:"like",is_liked:a.is_liked,user:e.user.email,id:a.id});case 8:C(!S);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(t){var a=JSON.parse(h),n=t.map((function(t){var n=a.includes("playlist: ".concat(t.id))?r.a.createElement("i",{className:"like fas fa-heart"}):r.a.createElement("i",{className:"like far fa-heart"}),l=e.user?n:"",c=1===O?r.a.createElement("button",{onClick:function(){return z(t)},className:"deleteButton"},"Delete"):"";return r.a.createElement("li",{key:t.name,className:"grid-item"},r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return q(t)}},l," "),r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/PlaylistData",onClick:function(){return e.playlist(t)}},t.name)),r.a.createElement(E.b,{className:"navTo",to:"/PlaylistData",onClick:function(){return e.playlist(t)}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"150",height:"150",src:t.cover_img})),c)}));c(n),M(!1)},F=A?r.a.createElement("i",{className:"fas fa-heart"}):r.a.createElement("i",{className:"far fa-heart"});return r.a.createElement("div",null,r.a.createElement(v.a,{active:B,spinner:r.a.createElement(y.a,{css:"\n  display: block;\n  position:absolute;\n  width:200px;\n  height:200px;\n  top:200px;\n  left: 375px;\n",color:"white",style:{zIndex:1010},size:150})},B?r.a.createElement("p",{style:{left:"0",top:"-15px",zIndex:"1007",background:"rgb(0,0,0,0.5)",position:"fixed",width:"100vw",height:"100vh"}}):""),r.a.createElement("p",{className:"listTitle"},r.a.createElement(E.b,{className:"fa fa-plus-square-o add",to:"/PostPlaylist"})," "," Playlists"),r.a.createElement("input",{className:"filterList",placeholder:"Search...",onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{onClick:function(){return C(!S),void M(!0)},className:"searchButton"},"Search"),e.user?r.a.createElement("i",{className:"filterFavorites",onClick:function(){return L(!A)}},F):"",r.a.createElement("ul",{className:"grid-container"},l))};var j=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)("[]"),g=Object(o.a)(b,2),h=g[0],x=g[1],k=Object(n.useState)(0),N=Object(o.a)(k,2),O=N[0],j=N[1],w=Object(n.useState)(!1),_=Object(o.a)(w,2),S=_[0],C=_[1],T=Object(n.useState)(!1),I=Object(o.a)(T,2),A=I[0],L=I[1],P=Object(n.useState)(!0),D=Object(o.a)(P,2),B=D[0],M=D[1];Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/preferences/".concat(e.user.email));case 3:a=t.sent,n=a.data,x(n[0].preferences),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[S]),Object(n.useEffect)((function(){if(e.user){var t=e.user.is_admin;j(t)}}),[e.user]),Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(h),e.prev=1,e.next=4,d.a.get("/top_albums?name=".concat(p));case 4:return e.next=6,e.sent.data;case 6:a=e.sent,n=a.filter((function(e){return e.name.toUpperCase().includes(p.toUpperCase())})),A?(r=n.filter((function(e){return t.includes("album: ".concat(e.name))})),H(r)):H(n),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),M(!1),e.abrupt("return",alert(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[S,A,h]);var z=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name.replace("'","''"),e.next=3,d.a.delete("/album/".concat(a));case 3:C(!S);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=JSON.parse(h)).includes("album: ".concat(a.name))){t.next=7;break}return t.next=4,d.a.put("/album/like",{toggle:"unlike",is_liked:a.is_liked,preferences:n,user:e.user.email,name:a.name});case 4:C(!S),t.next=10;break;case 7:return t.next=9,d.a.put("/album/like",{toggle:"like",is_liked:a.is_liked,user:e.user.email,name:a.name});case 9:C(!S);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(t){var a=JSON.parse(h),n=t.map((function(t){var n=a.includes("album: ".concat(t.name))?r.a.createElement("i",{className:"like fas fa-heart"}):r.a.createElement("i",{className:"like far fa-heart"}),l=e.user?n:"",c=1===O?r.a.createElement("button",{onClick:function(){return z(t)},className:"deleteButton"},"Delete"):"";return r.a.createElement("li",{key:t.name,className:"grid-item"},r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return q(t)}},l," "," "," "),r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/AlbumData",onClick:function(){return e.album(t)}},t.name)),r.a.createElement(E.b,{className:"navTo",to:"/AlbumData",onClick:function(){return e.album(t)}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"150",height:"150",src:t.cover_img})),c)}));c(n),M(!1)},F=A?r.a.createElement("i",{className:"fas fa-heart"}):r.a.createElement("i",{className:"far fa-heart"});return r.a.createElement("div",null,r.a.createElement(v.a,{active:B,spinner:r.a.createElement(y.a,{css:"\n  display: block;\n  position:absolute;\n  width:200px;\n  height:200px;\n    top:200px;\n  left: 375px;\n",color:"white",style:{zIndex:1010},size:150})},B?r.a.createElement("p",{style:{left:"0",top:"-15px",zIndex:"1007",background:"rgb(0,0,0,0.5)",position:"fixed",width:"100vw",height:"100vh"}}):""),r.a.createElement("p",{className:"listTitle"},r.a.createElement(E.b,{className:"fa fa-plus-square-o add",to:"/PostAlbum"})," "," Albums"),r.a.createElement("input",{className:"filterList",placeholder:"Search...",onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{onClick:function(){return C(!S),void M(!0)},className:"searchButton"},"Search"),e.user?r.a.createElement("i",{className:"filterFavorites",onClick:function(){return L(!A)}},F):"",r.a.createElement("ul",{className:"grid-container"},l))},w=a(19),_=a(384),S=a(387),C=a(383),T=a(382),I=a(388),A=a(385),L=a(53);var P=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)([]),m=Object(o.a)(u,2),p=m[0],f=m[1];function b(e){return!!/^([0-5]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e)}Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,d.a.get("/top_albums");case 3:return e.next=5,e.sent.data;case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=f,e.next=10,d.a.get("/top_artists");case 10:return e.next=12,e.sent.data;case 12:e.t3=e.sent,(0,e.t2)(e.t3);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var g=function(){var t=Object(i.a)(s.a.mark((function t(a,n,r,l,c,u,i,o){var m,p,f,E,g,v,h;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m=/'/gi,p=/\n/gi,l){t.next=4;break}return t.abrupt("return",document.getElementById("songError").innerHTML="Select an artist");case 4:if(c){t.next=6;break}return t.abrupt("return",document.getElementById("songError").innerHTML="Select an album");case 6:if(f=o.slice(0,10),E=i.replace(m,"''").replace(p,"&&"),g=a.replace(m,"''"),v=l.value.replace(m,"''"),h=c.value.replace(m,"''"),e.user){t.next=13;break}return t.abrupt("return",document.getElementById("songError").innerHTML="Only registered users can post new songs to the website");case 13:if(b(n)){t.next=15;break}return t.abrupt("return",document.getElementById("songError").innerHTML="Length form is invalid");case 15:if(/^[1-9]\d{0,1}(?:,\d{1,3})?$/.test(u)){t.next=17;break}return t.abrupt("return",document.getElementById("songError").innerHTML="Track number field must be a 2-digit number");case 17:if(c.label.includes(l.value)){t.next=19;break}return t.abrupt("return",document.getElementById("songError").innerHTML="Album and song must be of the same artist");case 19:return t.prev=19,t.next=22,d.a.post("/song",{title:g,length:n,youtube_id:r,artist:v,album:h,track_number:u,lyrics:E,created_at:f,user:e.user.email});case 22:document.getElementById("songForm").reset(),document.getElementById("songError").innerHTML="",t.next=29;break;case 26:t.prev=26,t.t0=t.catch(19),document.getElementById("songError").innerHTML="Song already exists";case 29:case 30:case"end":return t.stop()}}),t,null,[[19,26]])})));return function(e,a,n,r,l,c,u,s){return t.apply(this,arguments)}}();return r.a.createElement("div",null,function(){var e,t,a,n,c,u,s,i,o=p.map((function(e){return{value:e.name,label:e.name}})),m=l.map((function(e){return{value:e.name,label:"".concat(e.name," - ").concat(e.artist)}})),f=new Date,d=f.getDate(),b=f.getMonth()+1,E=f.getFullYear();return d<10&&(d="0"+d),b<10&&(b="0"+b),f=E+"-"+b+"-"+d,r.a.createElement("form",{id:"songForm",className:"songForm",onSubmit:function(){return g(e,a,t,s,i,n,c,u)}},r.a.createElement("div",null,r.a.createElement("label",null," Name of the song: "),r.a.createElement("br",null),r.a.createElement("input",{id:"song_img",required:!0,type:"text",defaultValue:e,onChange:function(t){e=t.target.value}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Youtube ID: "),r.a.createElement("i",{className:"tooltip fas fa-info"}," ",r.a.createElement("span",{className:"tooltiptext"},"youtube.com/watch?v= (Youtube_ID)")),r.a.createElement("br",null),r.a.createElement("input",{id:"song_id",required:!0,type:"text",defaultValue:t,onChange:function(e){t=e.target.value}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null," Length: "),r.a.createElement("i",{className:"tooltip fas fa-info"}," ",r.a.createElement("span",{className:"tooltiptext"},"M M : S S")),r.a.createElement("br",null),r.a.createElement("input",{id:"song_length",required:!0,type:"text",defaultValue:a,onChange:function(e){a=e.target.value}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Artist: "),r.a.createElement("i",{className:"tooltip fas fa-info"}," ",r.a.createElement("span",{className:"tooltiptext"},"You can only post albums of uploaded artists")),r.a.createElement("br",null),r.a.createElement(L.a,{required:!0,maxMenuHeight:160,defaultValue:s,onChange:function(e){s=e},options:o}),r.a.createElement("br",null),r.a.createElement("label",null," Album: "),r.a.createElement("i",{className:"tooltip fas fa-info"}," ",r.a.createElement("span",{className:"tooltiptext"},"You can only post songs of uploaded albums")),r.a.createElement("br",null),r.a.createElement(L.a,{required:!0,maxMenuHeight:160,defaultValue:i,onChange:function(e){i=e},options:m}),r.a.createElement("br",null),r.a.createElement("label",null," Track number: "),r.a.createElement("br",null),r.a.createElement("input",{id:"song_track",required:!0,type:"text",defaultValue:n,onChange:function(e){n=e.target.value}}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",null,r.a.createElement("label",null," Lyrics: "),r.a.createElement("br",null),r.a.createElement("textarea",{rows:"12",required:!0,type:"text",defaultValue:c,onChange:function(e){c=e.target.value}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null," Release date: "),r.a.createElement("br",null),r.a.createElement("input",{max:f,style:{height:"32px"},id:"song_date",required:!0,type:"date",defaultValue:u,onChange:function(e){u=e.target.value}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"post",value:"Post Song"})))}(),r.a.createElement(E.b,{className:"fa fa-arrow-left back",to:"/Songs"}),r.a.createElement("p",{id:"songError",style:{marginTop:"10px",marginLeft:"20px",fontSize:"20px",color:"red"}}))};var D=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,d.a.get("/top_artists");case 3:return e.next=5,e.sent.data;case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var u=function(){var t=Object(i.a)(s.a.mark((function t(a,n,r,l){var c,u,i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=/'/gi,u=l.slice(0,10),e.user){t.next=4;break}return t.abrupt("return",document.getElementById("albumError").innerHTML="Only registered users can post new albums to the website!");case 4:if(r){t.next=6;break}return t.abrupt("return",document.getElementById("albumError").innerHTML="Select an artist");case 6:return i=a.replace(c,"''"),o=r.value.replace(c,"''"),t.prev=8,t.next=11,d.a.post("/album",{name:i,artist:o,cover_img:n,created_at:u,user:e.user.email});case 11:document.getElementById("albumForm").reset(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),document.getElementById("albumError").innerHTML="Album already exists";case 17:case 18:case"end":return t.stop()}}),t,null,[[8,14]])})));return function(e,a,n,r){return t.apply(this,arguments)}}();return r.a.createElement("div",null,function(){var e,t,a,n,c=new Date,s=c.getDate(),i=c.getMonth()+1,o=c.getFullYear();s<10&&(s="0"+s),i<10&&(i="0"+i),c=o+"-"+i+"-"+s;var m=l.map((function(e){return{value:e.name,label:e.name}}));return r.a.createElement("form",{id:"albumForm",className:"albumForm",onSubmit:function(){return u(e,t,n,a)}},r.a.createElement("div",null,r.a.createElement("label",null," Name of the Album: "),r.a.createElement("br",null),r.a.createElement("input",{id:"album_name",required:!0,type:"text",defaultValue:e,onChange:function(t){e=t.target.value}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Artist: "),r.a.createElement("i",{class:"tooltip fas fa-info"}," ",r.a.createElement("span",{class:"tooltiptext"},"You can only post albums of uploaded artists")),r.a.createElement("br",null),r.a.createElement(L.a,{style:{},required:!0,maxMenuHeight:160,defaultValue:n,onChange:function(e){n=e},options:m}),r.a.createElement("br",null),r.a.createElement("label",null," Cover image URL "),r.a.createElement("br",null),r.a.createElement("input",{id:"album_img",required:!0,type:"text",defaultValue:t,onChange:function(e){t=e.target.value}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null," Release date: "),r.a.createElement("br",null),r.a.createElement("input",{max:c,style:{height:"32px"},id:"album_date",required:!0,type:"date",defaultValue:a,onChange:function(e){a=e.target.value}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",style:{left:"410px"},className:"post",value:"Post Album"})))}(),r.a.createElement(E.b,{className:"fa fa-arrow-left back",style:{left:"84px"},to:"/Albums"}),r.a.createElement("p",{id:"albumError",style:{marginTop:"0px",marginLeft:"130px",fontSize:"20px",color:"red"}}))};var B=function(e){var t=function(){var t=Object(i.a)(s.a.mark((function t(a,n){var r,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=/'/gi,l=a.replace(r,"''"),t.prev=2,t.next=5,d.a.post("/artist",{name:l,cover_img:n,user:e.user.email});case 5:document.getElementById("artistForm").reset(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),document.getElementById("artistError").innerHTML="Artist already exists";case 11:case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,a){return t.apply(this,arguments)}}();return r.a.createElement("div",null,function(){var e,a;return r.a.createElement("form",{id:"artistForm",className:"artistForm",onSubmit:function(){return t(e,a)}},r.a.createElement("div",null,r.a.createElement("label",null," Name of the Artist: "),r.a.createElement("br",null),r.a.createElement("input",{id:"artist_name",required:!0,type:"text",defaultValue:e,onChange:function(t){e=t.target.value}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null," Artist image URL "),r.a.createElement("br",null),r.a.createElement("input",{id:"artist_img",required:!0,type:"text",defaultValue:a,onChange:function(e){a=e.target.value}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",style:{left:"418px"},className:"post",value:"Post Artist"})))}(),r.a.createElement(E.b,{className:"fa fa-arrow-left back",style:{left:"83px"},to:"/Artists"}),r.a.createElement("p",{id:"artistError",style:{marginTop:"-2px",marginLeft:"120px",fontSize:"20px",color:"red"}}))},M=a(181);var z=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,d.a.get("/top_songs");case 3:return e.next=5,e.sent.data[0];case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var u=function(){var t=Object(i.a)(s.a.mark((function t(a,n,r){var l,c,u,i,o,m;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=/'/gi,c=[],u=Object(M.a)(n);try{for(u.s();!(i=u.n()).done;)o=i.value,c.push(o.value)}catch(s){u.e(s)}finally{u.f()}if(e.user){t.next=6;break}return t.abrupt("return",document.getElementById("playlistError").innerHTML="Only registered users can post new playlists to the website!");case 6:if(n){t.next=8;break}return t.abrupt("return",document.getElementById("playlistError").innerHTML="Select songs");case 8:return m=a.replace(l,"''"),t.prev=9,t.next=12,d.a.post("/playlist",{name:m,songs:c,cover_img:r,user:e.user.email,user_name:e.user.username});case 12:document.getElementById("playlistForm").reset(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(9),document.getElementById("playlistError").innerHTML="Undetected error";case 18:case 19:case"end":return t.stop()}}),t,null,[[9,15]])})));return function(e,a,n){return t.apply(this,arguments)}}();return r.a.createElement("div",null,function(){var e,t,a,n=l.map((function(e){return{value:e.youtube_id,label:"".concat(e.title," - ").concat(e.artist)}}));return r.a.createElement("form",{style:{marginTop:"150px"},id:"playlistForm",className:"playlistForm",onSubmit:function(){return u(e,a,t)}},r.a.createElement("div",null,r.a.createElement("label",null," Name of the Playlist: "),r.a.createElement("br",null),r.a.createElement("input",{id:"playlist_name",required:!0,type:"text",defaultValue:e,onChange:function(t){e=t.target.value}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null," Songs: "),r.a.createElement("br",null),r.a.createElement(L.a,{required:!0,maxMenuHeight:160,isMulti:!0,defaultValue:a,onChange:function(e){a=e},options:n}),r.a.createElement("br",null),r.a.createElement("label",null," Cover image URL "),r.a.createElement("br",null),r.a.createElement("input",{id:"artist_img",required:!0,type:"text",defaultValue:t,onChange:function(e){t=e.target.value}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",style:{left:"400px"},className:"post",value:"Post Playlist"})))}(),r.a.createElement(E.b,{className:"fa fa-arrow-left back",style:{left:"83px"},to:"/Playlists"}),r.a.createElement("p",{id:"playlistError",style:{marginTop:"-2px",marginLeft:"120px",fontSize:"20px",color:"red"}}))},q=a(69),H=a.n(q);var F=function(e){var t=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"180px"}},function(a){var n;if(e.song)return n=e.song.lyrics.split("&&").map((function(e,t){return r.a.createElement("span",{key:t},e,r.a.createElement("br",null))})),r.a.createElement("div",null,r.a.createElement("p",{className:"dataTitle"},e.song.title),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"white",display:"flex"}},r.a.createElement("div",null,r.a.createElement(b.a,{className:"video",onPlay:function(){return t(a)},videoId:a.youtube_id,id:"video",opts:{width:"250",height:"250"}}),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,a.is_liked),"  people liked this song"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Views:")," "," ",a.play_count),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Album:")," ",a.album),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Artist:")," "," ",a.artist),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Release date:")," "," ",a.created_at.substr(0,10)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.a,null,r.a.createElement(E.b,{style:{marginLeft:"0px"},className:"fa fa-arrow-left back",to:"/Songs"}))),r.a.createElement("div",{className:"dataLyrics"},n)))}(e.song))};var V=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],u=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.album){t.next=6;break}return t.next=3,d.a.get("/top_songs?album=".concat(e.album.name));case 3:a=t.sent,n=a.data,c(n[1]);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.album]),r.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"180px"}},function(t){if(t){var a=l.map((function(t){return r.a.createElement("li",{key:t.youtube_id,className:"grid-item2"},r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/SongData",onClick:function(){return e.song(t)}},t.title)),r.a.createElement(b.a,{className:"video",onPlay:function(){return u(t)},videoId:t.youtube_id,id:"video",opts:{width:"175",height:"175"}}))}));return r.a.createElement("div",null,r.a.createElement("p",{className:"dataTitle"},e.album.name),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"white",display:"flex"}},r.a.createElement("div",null,r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"250",height:"250",src:t.cover_img}),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,t.is_liked)," people liked this album"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Artist:")," "," ",t.artist),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Release date:")," "," ",t.created_at.substr(0,10)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.a,null,r.a.createElement(E.b,{style:{marginLeft:"0px"},className:"fa fa-arrow-left back",to:"/Albums"}))),r.a.createElement("div",{className:"dataSongs"},r.a.createElement("h6",{className:"songsTitle"},"Songs"),a)))}}(e.album))};var U=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],u=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.artist){t.next=6;break}return t.next=3,d.a.get("/top_songs?artist=".concat(e.artist.name));case 3:a=t.sent,n=a.data,c(n[2]);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.artist]),r.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"180px"}},function(t){if(t){var a=l.map((function(t){return r.a.createElement("li",{key:t.youtube_id,className:"grid-item2"},r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/SongData",onClick:function(){return e.song(t)}},t.title)),r.a.createElement(b.a,{className:"video",onPlay:function(){return u(t)},videoId:t.youtube_id,id:"video",opts:{width:"175",height:"175"}}))}));return r.a.createElement("div",null,r.a.createElement("p",{className:"dataTitle"},e.artist.name),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"white",display:"flex"}},r.a.createElement("div",null,r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"250",height:"250",src:t.cover_img}),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,t.is_liked)," people liked this artist"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.a,null,r.a.createElement(E.b,{style:{marginLeft:"0px"},className:"fa fa-arrow-left back",to:"/Albums"}))),r.a.createElement("div",{className:"dataSongs"},r.a.createElement("h6",{className:"songsTitle"},"Songs"),a)))}}(e.artist))};var J=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],u=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n,r,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.playlist){t.next=8;break}return a=JSON.parse(e.playlist.songs),t.next=4,d.a.get("/top_songs",{});case 4:n=t.sent,r=n.data,l=r[0].filter((function(e){return a.includes(e.youtube_id)})),c(l);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.artist]),r.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"180px"}},function(t){if(t){var a=l.map((function(t){return r.a.createElement("li",{key:t.youtube_id,className:"grid-item2"},r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/SongData",onClick:function(){return e.song(t)}},t.title)),r.a.createElement(b.a,{className:"video",onPlay:function(){return u(t)},videoId:t.youtube_id,id:"video",opts:{width:"175",height:"175"}}))}));return r.a.createElement("div",null,r.a.createElement("p",{className:"dataTitle"},e.playlist.name),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"white",display:"flex"}},r.a.createElement("div",null,r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"250",height:"250",src:t.cover_img}),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,t.is_liked)," people liked this playlist"),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("strong",null,"Created by:")," "," 000"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.a,null,r.a.createElement(E.b,{style:{marginLeft:"0px"},className:"fa fa-arrow-left back",to:"/Playlists"}))),r.a.createElement("div",{className:"dataSongs"},r.a.createElement("h6",{className:"songsTitle"},"Songs"),a)))}}(e.playlist))};var R=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)([]),m=Object(o.a)(u,2),p=m[0],f=m[1],g=Object(n.useState)([]),h=Object(o.a)(g,2),x=h[0],k=h[1],N=Object(n.useState)([]),O=Object(o.a)(N,2),j=O[0],w=O[1],_=Object(n.useState)(!0),S=Object(o.a)(_,2),C=S[0],T=S[1],I=Object(n.useState)(""),A=Object(o.a)(I,2),L=A[0],P=A[1],D=Object(n.useState)(H.a.generate({length:20,numbers:!0})),B=Object(o.a)(D,2),M=B[0],z=B[1],q=Object(n.useState)(!1),F=Object(o.a)(q,2),V=F[0],U=F[1];Object(n.useEffect)((function(){if(e.user){var t=e.user.email;z(t)}}),[e.user]),Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r,l,c,u,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/top_songs?name=".concat(L));case 3:return t=e.sent,e.next=6,d.a.get("/top_albums?name=".concat(L));case 6:return a=e.sent,e.next=9,d.a.get("/top_artists?name=".concat(L));case 9:return n=e.sent,e.next=12,d.a.get("/top_playlists?name=".concat(L));case 12:r=e.sent,l=t.data[0].filter((function(e){return e.user===M})),c=a.data.filter((function(e){return e.user===M})),u=n.data.filter((function(e){return e.user===M})),i=r.data.filter((function(e){return e.user===M})),$(l,c,u,i),e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(0),T(!1),e.abrupt("return",alert(e.t0));case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}})()()}),[V,M]);var J=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/count",{song_id:t.youtube_id,count:t.play_count+1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.youtube_id.replace("'","''"),e.next=3,d.a.delete("/song/".concat(a));case 3:U(!V);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name.replace("'","''"),e.next=3,d.a.delete("/artist/".concat(a));case 3:U(!V);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name.replace("'","''"),e.next=3,d.a.delete("/album/".concat(a));case 3:U(!V);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/playlist/".concat(t.id));case 2:U(!V);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(t,a,n,l){var u=1e3,s=t.map((function(t){u--;var a=r.a.createElement("button",{onClick:function(){return R(t)},style:{width:"130px"},className:"deleteButton"},"Delete");return r.a.createElement("li",{key:t.youtube_id,style:{zIndex:u},className:"hov"},r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/SongData",onClick:function(){return e.song(t)}},t.title)),r.a.createElement(b.a,{className:"video",onPlay:function(){return J(t)},videoId:t.youtube_id,id:"video",opts:{width:"125",height:"125"}}),r.a.createElement("br",null),a)})),i=a.map((function(t){var a=r.a.createElement("button",{onClick:function(){return Y(t)},style:{width:"130px"},className:"deleteButton"},"Delete");return u--,r.a.createElement("li",{style:{zIndex:u},key:t.name,className:"hov"},r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/AlbumData",onClick:function(){return e.album(t)}},t.name)),r.a.createElement(E.b,{className:"navTo",to:"/AlbumData",onClick:function(){return e.album(t)}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"125",height:"125",src:t.cover_img})),r.a.createElement("br",null),a)})),o=n.map((function(t){var a=r.a.createElement("button",{onClick:function(){return W(t)},style:{width:"130px"},className:"deleteButton"},"Delete");return u--,r.a.createElement("li",{style:{zIndex:u},key:t.name,className:"hov"},r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/ArtistData",onClick:function(){return e.artist(t)}},t.name)),r.a.createElement(E.b,{className:"navTo",to:"/ArtistData",onClick:function(){return e.artist(t)}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"125",height:"125",src:t.cover_img})),r.a.createElement("br",null),a)})),m=l.map((function(t){var a=r.a.createElement("button",{onClick:function(){return K(t)},style:{width:"130px"},className:"deleteButton"},"Delete");return u--,r.a.createElement("li",{style:{zIndex:u},key:t.name,className:"hov"},r.a.createElement("p",null,r.a.createElement(E.b,{className:"navTo",to:"/PlaylistData",onClick:function(){return e.playlist(t)}},t.name)),r.a.createElement(E.b,{className:"navTo",to:"/PlaylistData",onClick:function(){return e.playlist(t)}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="/no_image.jpg"},alt:t.name,width:"125",height:"125",src:t.cover_img})),r.a.createElement("br",null),a)}));c(s),f(i),k(o),w(m),T(!1)};return r.a.createElement("div",null,r.a.createElement(v.a,{active:C,spinner:r.a.createElement(y.a,{css:"\n  display: block;\n  position:absolute;\n  width:200px;\n  height:200px;\n  top:180px;\n  left: 375px;\n",color:"white",style:{zIndex:1010},size:150})},C?r.a.createElement("p",{style:{left:"0",top:"-15px",zIndex:"1007",background:"rgb(0,0,0,0.5)",position:"fixed",width:"100vw",height:"100vh"}}):""),r.a.createElement("p",{style:{marginLeft:"47px",marginTop:"10px"},className:"listTitle"},"My Uploads"),r.a.createElement("input",{style:{marginLeft:"47px",marginTop:"95px"},className:"filterList",onChange:function(e){return P(e.target.value)}}),r.a.createElement("button",{style:{marginLeft:"620px",marginTop:"95px"},onClick:function(){return U(!V),void T(!0)},className:"searchButton"},"Search"),r.a.createElement("div",{className:"uploadsList"},r.a.createElement("div",{className:"upload"},r.a.createElement("h6",{className:"upTitle"},"Songs"),l),r.a.createElement("div",{className:"upload"},r.a.createElement("h6",{className:"upTitle"},"Albums"),p),r.a.createElement("div",{className:"upload"},r.a.createElement("h6",{className:"upTitle"},"Artists"),x),r.a.createElement("div",{className:"upload"},r.a.createElement("h6",{className:"upTitle"},"Playlists"),j)))};var W=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),u=Object(o.a)(c,2),f=u[0],b=u[1],g=Object(n.useState)(void 0),v=Object(o.a)(g,2),h=v[0],y=v[1],L=Object(n.useState)(""),M=Object(o.a)(L,2),q=M[0],W=M[1],Y=Object(n.useState)(""),K=Object(o.a)(Y,2),$=K[0],Z=K[1],G=Object(n.useState)(""),Q=Object(o.a)(G,2),X=Q[0],ee=Q[1],te=Object(n.useState)(""),ae=Object(o.a)(te,2),ne=ae[0],re=ae[1];Object(n.useEffect)((function(){var e=localStorage.getItem("session");0!=e&&function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/auto/".concat(e));case 3:a=t.sent,n=a.data,setTimeout((function(){y(n[0])}),500),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()()}),[]);var le=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/logout",{email:h.email});case 2:y(void 0),localStorage.clear();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ce(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)}var ue=function(){var e=Object(i.a)(s.a.mark((function e(t,a,n,r){var c,u,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=H.a.generate({length:50,numbers:!0}),e.prev=1,ce(t)){e.next=4;break}return e.abrupt("return",document.getElementById("errorMessage").innerHTML="Please enter a valid email address");case 4:if(n===r){e.next=6;break}return e.abrupt("return",document.getElementById("errorMessage").innerHTML="Password fields do not match");case 6:return e.next=8,d.a.post("/users",{username:a,email:t,password:n,auto_code:c});case 8:if(u=e.sent,"Username is already in use"!==(i=u.data)){e.next=12;break}return e.abrupt("return",document.getElementById("errorMessage").innerHTML=i);case 12:localStorage.setItem("session",c),y(i[0]),l(!1),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),document.getElementById("errorMessage").innerHTML="The email you tried to register with is already in use";case 20:case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),se=function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce(t)){e.next=2;break}return e.abrupt("return",document.getElementById("errorMessage").innerHTML="Please enter a valid email address");case 2:return n=H.a.generate({length:50,numbers:!0}),e.prev=3,e.next=6,d.a.put("/users",{email:t,password:a,auto_code:n});case 6:r=e.sent,l=r.data,localStorage.setItem("session",n),b(!1),setTimeout((function(){y(l[0])}),500),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),document.getElementById("errorMessage").innerHTML="Either the email or password you entered is incorrect";case 16:case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,a){return e.apply(this,arguments)}}(),ie=r.a.createElement(A.a,{style:{marginLeft:"85px"},variant:"text",color:"inherit",onClick:le},"Logout"),oe=h?r.a.createElement("h5",null," ",ie," "):r.a.createElement("h5",null," ",function(){var e,t;return r.a.createElement("span",null,r.a.createElement(A.a,{variant:"text",color:"inherit",onClick:function(){return b(!0)}},"Login"),r.a.createElement(S.a,{open:f,onClose:function(){return b(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(I.a,{id:"form-dialog-title"},"Login"),r.a.createElement(T.a,null,r.a.createElement(_.a,{onChange:function(t){e=t.target.value},defaultValue:e,autoFocus:!0,margin:"dense",id:"email",label:"Email Address",type:"email",required:!0,fullWidth:!0}),r.a.createElement(_.a,{onChange:function(e){t=e.target.value},autoFocus:!0,defaultValue:t,margin:"dense",id:"password",label:"Password",type:"password",required:!0,fullWidth:!0})),r.a.createElement(I.a,{style:{color:"red"},id:"errorMessage"}),r.a.createElement(C.a,null,r.a.createElement(A.a,{type:"submit",onClick:function(){return b(!1)},color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:function(){return se(e,t)},color:"primary"},"login"))))}()," | ",function(){var e,t,n,c;return r.a.createElement("span",null,r.a.createElement(A.a,{variant:"text",color:"inherit",onClick:function(){return l(!0)}},"Register"),r.a.createElement(S.a,{open:a,onClose:function(){return l(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(I.a,{id:"form-dialog-title"},"Register"),r.a.createElement(T.a,null,r.a.createElement(_.a,{onChange:function(t){e=t.target.value},autoFocus:!0,required:!0,margin:"dense",id:"email",label:"Email Address",type:"email",fullWidth:!0}),r.a.createElement(_.a,{onChange:function(e){t=e.target.value},autoFocus:!0,required:!0,margin:"dense",id:"username",label:"Username",type:"name",fullWidth:!0}),r.a.createElement(_.a,{onChange:function(e){n=e.target.value},autoFocus:!0,required:!0,margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0}),r.a.createElement(_.a,{onChange:function(e){c=e.target.value},autoFocus:!0,required:!0,margin:"dense",id:"password",label:"Confirm password",autoComplete:"",type:"password",fullWidth:!0})),r.a.createElement(I.a,{style:{color:"red"},id:"errorMessage"}),r.a.createElement(C.a,null,r.a.createElement(A.a,{onClick:function(){return l(!1)},color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:function(){return ue(e,t,n,c)},color:"primary"},"Register"))))}()," ");return r.a.createElement("div",{className:"App"},oe,r.a.createElement(E.a,null,r.a.createElement(p.a,{className:"sideNav",expanded:!0,onToggle:function(){}},r.a.createElement(p.a.Toggle,null),r.a.createElement(p.a.Nav,{defaultSelected:"home"},r.a.createElement(m.NavItem,{eventKey:"home"},r.a.createElement(m.NavIcon,null,r.a.createElement("i",{style:{fontSize:"1.75em"}})),r.a.createElement(E.b,{to:"/"},r.a.createElement("i",{style:{color:"white",fontSize:"44px",paddingTop:"3px"},className:"fa fa-fw fa-home"}))),r.a.createElement(m.NavItem,{eventKey:"1"},r.a.createElement(m.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw ",style:{fontSize:"1.75em"}})),r.a.createElement(m.NavText,null,r.a.createElement(E.b,{className:"navItem",to:"/Songs"},"Songs"))),r.a.createElement(m.NavItem,{eventKey:"2"},r.a.createElement(m.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw ",style:{fontSize:"1.75em"}})),r.a.createElement(m.NavText,null,r.a.createElement(E.b,{className:"navItem",to:"/Albums"},"Albums"))),r.a.createElement(m.NavItem,{eventKey:"3"},r.a.createElement(m.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw ",style:{fontSize:"1.75em"}})),r.a.createElement(m.NavText,null,r.a.createElement(E.b,{className:"navItem",to:"/Artists"},"Artists"))),r.a.createElement(m.NavItem,{eventKey:"4"},r.a.createElement(m.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw ",style:{fontSize:"1.75em"}})),r.a.createElement(m.NavText,null,r.a.createElement(E.b,{className:"navItem",to:"/Playlists"},"Playlists"))),r.a.createElement(m.NavItem,{eventKey:"5"},r.a.createElement(m.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw ",style:{fontSize:"1.75em"}})),r.a.createElement(m.NavText,null,r.a.createElement(E.b,{className:"navItem",to:"/Uploads"},"Uploads"))))),r.a.createElement(w.a,{exact:!0,path:"/",component:function(){return r.a.createElement(x,{playlist:function(e){return re(e)},artist:function(e){return ee(e)},album:function(e){return Z(e)},song:function(e){return W(e)},user:h})}}),r.a.createElement(w.a,{path:"/Songs",component:function(){return r.a.createElement(k,{song:function(e){return W(e)},user:h})}}),r.a.createElement(w.a,{path:"/Artists",component:function(){return r.a.createElement(N,{artist:function(e){return ee(e)},user:h})}}),r.a.createElement(w.a,{path:"/Playlists",component:function(){return r.a.createElement(O,{playlist:function(e){return re(e)},user:h})}}),r.a.createElement(w.a,{path:"/Albums",component:function(){return r.a.createElement(j,{album:function(e){return Z(e)},user:h})}}),r.a.createElement(w.a,{path:"/Uploads",component:function(){return r.a.createElement(R,{playlist:function(e){return re(e)},artist:function(e){return ee(e)},album:function(e){return Z(e)},song:function(e){return W(e)},user:h})}}),r.a.createElement(w.a,{path:"/PostSong",component:function(){return r.a.createElement(P,{user:h})}}),r.a.createElement(w.a,{path:"/PostAlbum",component:function(){return r.a.createElement(D,{user:h})}}),r.a.createElement(w.a,{path:"/PostArtist",component:function(){return r.a.createElement(B,{user:h})}}),r.a.createElement(w.a,{path:"/PostPlaylist",component:function(){return r.a.createElement(z,{user:h})}}),r.a.createElement(w.a,{path:"/SongData",component:function(){return r.a.createElement(F,{song:q,user:h})}}),r.a.createElement(w.a,{path:"/AlbumData",component:function(){return r.a.createElement(V,{song:function(e){return W(e)},album:$,user:h})}}),r.a.createElement(w.a,{path:"/ArtistData",component:function(){return r.a.createElement(U,{song:function(e){return W(e)},artist:X,user:h})}}),r.a.createElement(w.a,{path:"/PlaylistData",component:function(){return r.a.createElement(J,{song:function(e){return W(e)},playlist:ne,user:h})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[189,1,2]]]);
//# sourceMappingURL=main.1d3096f6.chunk.js.map